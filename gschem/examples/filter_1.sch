v 20030525
C 31600 26500 1 180 1 opamp-1.sym
{
T 32200 25800 5 10 1 1 0 0
value=LMC662
}
C 33600 20700 1 270 0 capacitor-1.sym
C 34200 20700 1 270 0 capacitor-1.sym
C 34800 20700 1 270 0 capacitor-1.sym
C 35400 20700 1 270 0 capacitor-1.sym
C 36000 20700 1 270 0 capacitor-1.sym
C 36600 20700 1 270 0 capacitor-1.sym
C 37200 20700 1 270 0 capacitor-1.sym
C 37800 20700 1 270 0 capacitor-1.sym
N 33800 20700 33800 20800 4
N 33800 20800 33300 20800 4
N 34400 20700 34400 21100 4
N 34400 21100 33300 21100 4
N 33300 21400 35000 21400 4
N 35000 21400 35000 20700 4
N 35600 20700 35600 21700 4
N 35600 21700 33300 21700 4
N 33300 22000 36200 22000 4
N 36200 22000 36200 20700 4
N 36800 20700 36800 22300 4
N 36800 22300 33300 22300 4
N 33300 22600 37400 22600 4
N 37400 22600 37400 20700 4
N 38000 20700 38000 22900 4
N 38000 22900 33300 22900 4
N 31300 21900 30700 21900 4
N 30400 26300 31600 26300 4
N 32600 26100 33600 26100 4
N 33100 26100 33100 27100 4
N 33100 27100 32600 27100 4
C 29500 25800 1 0 0 resistor-1.sym
{
T 29900 25600 5 10 1 1 0 0
value=47K
}
C 32000 23800 1 0 0 gnd-1.sym
N 30400 20800 31300 20800 4
C 35800 19200 1 0 0 gnd-1.sym
N 33800 19800 33800 19600 4
N 33800 19600 35900 19600 4
N 35900 19600 35900 19500 4
N 38000 19800 38000 19600 4
N 38000 19600 35900 19600 4
N 35900 19600 34400 19600 4
N 34400 19800 34400 19600 4
N 34400 19600 35000 19600 4
N 35000 19800 35000 19600 4
N 35000 19600 35600 19600 4
N 35600 19800 35600 19600 4
N 35600 19600 36200 19600 4
N 36200 19800 36200 19600 4
N 36200 19600 36800 19600 4
N 36800 19600 36800 19800 4
N 36800 19600 37400 19600 4
N 37400 19800 37400 19600 4
N 37400 19600 35900 19600 4
N 29100 22900 31300 22900 4
N 29100 22600 31300 22600 4
N 31300 22300 29100 22300 4
C 26800 20800 1 0 0 gnd-1.sym
C 31900 26500 1 0 0 vdd-1.sym
C 18400 22000 1 0 0 resistor-1.sym
{
T 18700 21800 5 10 1 1 0 0
10K
}
T 17200 22900 9 10 1 0 0 0
50/60Hz mains frequency
T 17200 22700 9 10 1 0 0 0
at CMOS logic levels
T 34900 20800 9 10 1 0 0 0
8 X 1uF Plastic
T 24000 30900 9 10 1 0 0 0
COMMUTATING FILTER PHASE-LOCKED TO MAINS FREQUENCY
C 22400 19500 1 0 0 4046-1.sym
N 27100 21300 26900 21300 4
N 26900 21300 26900 21100 4
N 24400 21600 27100 21600 4
C 25500 19200 1 270 0 resistor-1.sym
{
T 25800 18600 5 10 1 1 0 0
value=220K
}
C 24900 19200 1 270 0 capacitor-1.sym
{
T 24300 18600 5 10 1 1 0 0
value=33nF
}
N 25100 18300 25100 18100 4
N 25100 18100 24800 18100 4
N 24800 18100 24800 20400 4
N 24800 20400 24400 20400 4
N 24400 20700 25100 20700 4
N 25100 20700 25100 19200 4
N 25600 19200 25600 21000 4
N 25600 21000 24400 21000 4
N 25600 18300 25600 18100 4
C 25500 17800 1 0 0 gnd-1.sym
C 22900 23100 1 0 0 resistor-1.sym
{
T 23200 23500 5 10 1 1 0 0
value=100K
}
C 21900 19200 1 270 0 capacitor-1.sym
{
T 22500 18700 5 10 1 1 0 0
value=6n8F
}
C 22000 17800 1 0 0 gnd-1.sym
N 22100 18100 22100 18300 4
N 22100 19200 22100 23200 4
N 22100 23200 22900 23200 4
N 23800 23200 24600 23200 4
N 24600 23200 24600 22500 4
N 24600 22500 24400 22500 4
N 22400 21500 22100 21500 4
C 31300 20600 1 0 0 4051-1.sym
N 21800 22200 22400 22200 4
N 19500 22500 22400 22500 4
N 22400 20400 21100 20400 4
N 21100 18100 21100 20400 4
C 19900 27700 1 0 0 icl7660-1.sym
C 21000 17800 1 0 0 gnd-1.sym
C 22600 27700 1 270 0 capacitor-2.sym
{
T 23200 27200 5 10 1 1 0 0
value=22uF
}
C 23400 29800 1 270 0 capacitor-2.sym
{
T 23900 29300 5 10 1 1 0 0
value=22uF
}
C 24300 27700 1 270 0 capacitor-2.sym
{
T 24900 27200 5 10 1 1 0 0
value=22uF
}
C 23500 28400 1 0 0 gnd-1.sym
C 20800 25900 1 0 0 gnd-1.sym
N 21900 28900 22000 28900 4
N 22000 28900 22000 30000 4
N 22000 30000 23600 30000 4
N 23600 30000 24100 30000 4
N 23600 28900 23600 28700 4
N 19900 28000 19700 28000 4
N 19700 28000 19700 26300 4
N 22000 26300 22000 28000 4
N 22000 26300 19700 26300 4
N 21900 28000 22000 28000 4
C 23300 27800 1 0 0 diode-1.sym
C 22600 29400 1 270 0 diode-1.sym
N 21900 28600 22400 28600 4
N 22400 26600 22400 28600 4
N 23300 28000 22800 28000 4
N 22800 28000 22800 28500 4
N 22800 29400 22800 30000 4
N 22400 26600 22800 26600 4
N 22800 26600 22800 26800 4
N 22800 27700 22800 28000 4
N 24200 28000 25000 28000 4
N 24500 27700 24500 28000 4
N 22000 26300 24500 26300 4
N 24500 26300 24500 26800 4
N 23600 29800 23600 30000 4
T 24300 30000 9 10 1 0 0 0
8V dc in
T 24600 28100 9 10 1 0 0 0
Vdd = 15V dc
C 31000 28200 1 270 0 resistor-1.sym
{
T 30800 27800 5 10 1 1 270 0
value=100K
}
C 31000 25400 1 270 0 resistor-1.sym
{
T 30800 25200 5 10 1 1 270 0
value=100K
}
N 31100 24500 31100 24300 4
C 27700 27100 1 0 0 vdd-1.sym
T 25300 25800 9 10 1 0 0 0
unfiltered Vin
T 33700 26200 9 10 1 0 0 0
comb-filtered Vout
C 30300 20100 1 0 0 gnd-1.sym
N 30400 20800 30400 20400 4
T 32000 30100 9 10 1 0 0 0
This op-amp may want to be dc isolated from the input which currently
T 32000 29900 9 10 1 0 0 0
runs over dual 8V rails instead.  Similarly, the output might want to
T 32000 29700 9 10 1 0 0 0
be tailored to a 5V only (for example) control unit input.
T 31100 19000 9 10 1 0 0 0
This depth of 8 points around the commutator will yield a theoretical
T 31100 18800 9 10 1 0 0 0
maximum filter effect of 8x6=48dB, but extending this to 16 or more
T 31100 18600 9 10 1 0 0 0
bits is not out of the question
T 32000 29400 9 10 1 0 0 0
Good long term design takes care of these voltage shifts in one hit
C 27100 19600 1 0 0 4040-1.sym
N 29400 22300 29400 23800 4
N 21800 23800 29400 23800 4
T 24500 21700 9 10 1 0 0 0
Fc = 16*50 = 800 Hz
T 20400 25100 9 10 1 0 0 0
PLL Calculations
T 19600 24800 9 10 1 0 0 0
Fcentre = 800Hz, Fmin = 40*16 = 640, Fmax = 70*16=1120
T 19600 24500 9 10 1 0 0 0
Flock = (1120-640)/2 = 240 Hz = Fcapture
T 19600 24200 9 10 1 0 0 0
for Rlpf = 100K, Clpf = 1/(2*pi*Rlpf*240) = (1/(4.8*pi)) * 10^-7 = 6.8nF
T 17300 22500 9 10 1 0 0 0
(ca. 12VAC peak)
N 21800 22200 21800 23800 4
T 32000 29200 9 10 1 0 0 0
but of course, this is just a bodged up test cct...
N 31100 28400 31100 28200 4
C 31700 26900 1 0 0 capacitor-1.sym
{
T 32000 27400 5 10 1 1 0 0
33nF
}
N 30700 21900 30700 25900 4
N 31700 27100 30700 27100 4
N 30700 27100 30700 26300 4
C 29500 26200 1 0 0 resistor-1.sym
{
T 29900 26500 5 10 1 1 0 0
value=47K
}
N 30700 25900 31600 25900 4
N 31100 25400 31100 25900 4
N 30400 25900 30700 25900 4
N 31100 27300 31100 25900 4
T 29800 22900 9 10 1 0 0 0
200Hz
T 29800 22600 9 10 1 0 0 0
100Hz
T 29900 22300 9 10 1 0 0 0
50Hz
T 33100 27400 9 10 1 0 0 0
post-commutator lowpass rolls off at 100 Hz
T 31100 18200 9 10 1 0 0 0
Disadvantage with using 200/100/50 Hz in is low freq. to filter out
C 16800 20600 1 0 0 pwrxfmr-1.sym
N 16400 21700 16400 22100 4
N 16400 22100 16800 22100 4
N 16800 21500 16700 21500 4
N 16700 21500 16700 21300 4
N 16700 21300 16800 21300 4
N 16800 20700 16400 20700 4
N 16400 20700 16400 21100 4
C 15000 20900 1 0 0 mains-plug-1.sym
C 18400 21400 1 0 0 resistor-1.sym
{
T 18700 21200 5 10 1 1 0 0
10K
}
N 19300 22100 19500 22100 4
N 19500 22000 19500 22500 4
N 20700 22000 21000 22000 4
N 21000 22000 21000 23600 4
N 19300 21500 19500 21500 4
N 20700 21500 21100 21500 4
N 21100 21500 21100 20400 4
T 20600 23800 9 10 1 0 0 0
8V dc in
C 26300 19200 1 270 0 resistor-1.sym
{
T 26600 18600 5 10 1 1 0 0
value=100K
}
N 24400 21300 26400 21300 4
N 26400 21300 26400 19200 4
N 26400 18300 26400 18100 4
C 26300 17800 1 0 0 gnd-1.sym
T 24000 17600 9 10 1 0 0 0
Don't believe the data sheets.  You DO need R2
C 27400 26300 1 180 1 opamp-1.sym
{
T 28000 25600 5 10 1 1 0 0
value=LMC662
}
N 27400 26100 27100 26100 4
N 27100 26100 27100 26600 4
N 27100 26600 28600 26600 4
N 28600 26600 28600 25900 4
N 28400 25900 29500 25900 4
N 27400 25700 26700 25700 4
N 26700 25700 26700 27000 4
N 26700 27000 29100 27000 4
N 29100 27000 29100 26300 4
N 29100 26300 29500 26300 4
N 26700 25700 25900 25700 4
C 30900 28400 1 0 0 vdd-1.sym
C 27800 24900 1 0 0 gnd-1.sym
N 27900 25200 27900 25500 4
N 27900 26300 27900 27100 4
T 31100 18000 9 10 1 0 0 0
This is obvious in the built up version :-(
C 31700 28000 1 0 0 resistor-1.sym
{
T 32000 28300 5 10 1 1 0 0
value=47K
}
N 31100 24300 32100 24300 4
N 32100 25700 32100 24100 4
N 31700 28100 31500 28100 4
N 31500 28100 31500 27100 4
N 32800 28100 32600 28100 4
N 32800 28100 32800 27100 4
C 19500 21300 1 0 0 bridge-1.sym
N 18300 22100 18400 22100 4
N 18300 21500 18400 21500 4
T 24700 30600 9 10 1 0 0 0
THIS SCHEMATIC WAS DRAWN BY ARNIM LITTEK
C 11200 13700 0 0 0 title-D.sym
N 20900 26300 20900 26200 4
