# Do not edit this file - generated from version control history


commit ac4f29f0711a3e612fa5d94d1e3d771852bf42bb
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 30 23:54:25 2007 +0000

    libgeda: Unbreak g_scm_c_eval_string_protected()
    
    Fix bad macro definition introduced in commit
    8575431a17efb7a753649ae16087dc8f203981ce by turning it into a proper
    function.

commit 0525e60123ab47ff62c9c30f4a3159ca75bbb456
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 30 20:15:19 2007 +0000

    Add TAGS to some .gitignore files.

commit 38c3ac02492a441782e030162cfacf745c1521ad
Author: Bert Timmerman <bert.timmerman@xs4all.nl>
Date:   Sat Dec 29 16:05:29 2007 +0100

    Updated Dutch translation for libgeda.
    
    Minor changes on four translations.
    Changed the header of the file for a meaningfull
    description and copyright notice.

commit ba474af87840a0d49e04a00de96b7df2944c09bd
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Dec 29 09:57:43 2007 -0500

    Bumped versions to 1.3.0/20071229/32:0:0 for the next development snapshot

commit 5852e531717ba947b7acca39e50f71edd5921f06
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Dec 29 09:49:46 2007 -0500

    Fix problem where changing slot= would not update pins
    
    Known to break spice-sdb's slotted component handling, however users
    are much more likely to encounter the former breakage.  Original patch
    removed the offending code, but this patch just #if's it out for now.

commit 7c82238f3b2433607f8af6c873af99a642f05409
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Dec 29 09:22:38 2007 -0500

    Ran make update-po in all po directories in prep for a new release.

commit fe7d974a8c2dd0a5b96bbd41b2691cfd5c8a7ecb
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 29 11:25:17 2007 +0000

    libgeda: Update English (British) translation.

commit 27d11542d45423d0febb0f7ef95c8aaf2e96a7a1
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Dec 29 00:02:06 2007 -0500

    Added new i18n files to .gitignore to be ignored

commit 91726e0964602983e8f896be86aa056afc96baff
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 29 01:41:14 2007 +0000

    Change image embedding format to base64 encode the original files
    
    Previously, the format was a base64 encoding of serialised output from
    the gdk_pixbuf used to store the image internally. Due to another bug
    (now fixed) it is known that no official gEDA release could re-load
    the embedded images that it saved. This hopefully provides some
    justification as to why its OK to change the embedding format here.

commit 70293381f5af9957afbd3e3fd0614d838738c7a7
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 29 01:37:02 2007 +0000

    Compute picture aspect ratio in double arithmetic, not integer.
    
    Avoids a nasty bug where coordinates would overflow when attempting to
    grip-adjust the picture size due to this ratio being incorrect.

commit bebdeefaf0f8421fa106151f36c63e7f3a69a17b
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Fri Dec 28 19:14:36 2007 +0000

    Add Spanish translation for libgeda

commit d197bd400dd217aba91e9b72a9b1ce8bd4c387ec
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Dec 28 18:57:09 2007 +0000

    Move picture embedding code from o_embed.c into o_picture.c

commit 9eed09a311e2289740feb635f1344835a8f86cde
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 26 21:35:02 2007 +0000

    Fix spelling mistake in libgeda

commit 03ac3e16fec8b35e8e1d453d6504bd963bf43149
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 26 00:37:18 2007 +0000

    Fix make distcheck broken when adding KDE mime registration files
    
    Add .desktop.in files to EXTRA_DIST and the output to DISTCLEANFILES.

commit 127cff28ce52f41ce0972e8109049ecb78b09cc3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 25 23:09:28 2007 +0000

    Add English (British) translations for libgeda and gschem

commit dbb2a46a6ddba05cc5f71f735a6049b830eeda0d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 25 22:58:28 2007 +0000

    Fix spelling mistake in libgeda

commit 1aec0fd150a5a73d4bb7bbdd4b058e04819b9a21
Author: Bert Timmerman <bert.timmerman@xs4all.nl>
Date:   Tue Dec 25 21:47:10 2007 +0000

    Add Dutch translation for libgeda

commit de9efa23180c88bfd2e0949a2e41f0d861b36486
Author: Bert Timmerman <bert.timmerman@xs4all.nl>
Date:   Tue Dec 25 21:39:58 2007 +0000

    Fix spelling mistake in libgeda

commit 71c7d0b680117dfb51760f1523aa5293a56ea0d9
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 25 05:25:16 2007 +0000

    Add .gitignore files in libgeda/m4/ and libgeda/intl/

commit 44310ac20e15d28122eed9f6f532dc68bcf3c26b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 25 05:23:12 2007 +0000

    Fix .gitignore entries for generated KDE mime .desktop files

commit b9f741e0906295754fa5e1301cf3079aee88ff55
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 25 05:12:40 2007 +0000

    Remove intltool-*.in files during make maintainer-clean

commit d7840241c1c8adba3ada978ac1f42b5b2f5b87bc
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 24 17:18:37 2007 +0000

    libgeda: Use gettext to translate messages.

commit 45f02d40b7654a787589707f087ab33aea581787
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 24 12:25:53 2007 +0000

    libgeda: Wrap translatable strings in dummy _() macro.

commit 7589460bcbd8ba7683645b9b5aecd5e0b14ad6d2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 23 23:31:38 2007 +0000

    KDE mime registrations use title-case

commit 5218cee423a077d46e2ba02b5697f9058944c2a8
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 23 23:29:46 2007 +0000

    Fix typo in icon name for gsch2pcb project KDE mime registration

commit 2cbbfb530707d215d81dd876afcc8e78beec646c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 23 23:08:57 2007 +0000

    Add .desktop versions of MIME registrations for older KDE desktops
    
    Adds new ./configure option to libgeda, --with-kdedir=PATH. For system
    wide installs, this should be left to its default, ${prefix}. If
    installing in a home-directory, it should be set to /home/<USERID>/.kde

commit a4b3077e848339d9db363d89b4714e09228b3297
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:53 2007 +0000

    libgeda: Load gafrc.d scripts with protected eval.
    
    Stops one bad gafrc.d script blocking system-gafrc from loading
    completely.

commit cf220890a4f70ba16fbe3fc5c76e6e371720c5cb
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:53 2007 +0000

    libgeda: Make protected evaluators available from Scheme.

commit 8575431a17efb7a753649ae16087dc8f203981ce
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:53 2007 +0000

    libgeda: Add protected string evaluation functions.
    
    Add a protected equivalents to scm_eval_string_in_module() and
    scm_c_eval_string().

commit 9b1b44f0268271fc167ba5040ab3086cd2901706
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:53 2007 +0000

    libgeda: Add g_scm_eval_protected()
    
    Add a function that allows evaluation of a Guile expression safely,
    catching any exceptions and logging error messages.
    
    Modify the rc file helper function g_read_file() to use this new
    infrastructure.

commit eb82d0c6a2a3ae3eb6023375c4db10e0eaf9fb91
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:53 2007 +0000

    libgeda: Set Guile debug flags to aid debugging rc files

commit f3be59545162de9a575cdb3d7bc9953377bdc74d
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:47 2007 +0000

    libgeda: Use a dedicated header for Guile 1.6 compatibility.
    
    Also adds some more useful checks & definitions for 1.8 functions
    missing from 1.6.

commit eaa1db9f3913126b157cdc283b34250d5497530f
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 23 06:13:15 2007 +0000

    Fix $(DESTDIR) prefix for MIME database update in libgeda

commit 375e53fc26a8e6f8f13f3f188b50987290525467
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Nov 18 22:55:34 2007 +0000

    Add desktop mime integration and icons to libgeda
    
    The schematic and symbol mimetype icons and registration data were
    contrinuted by Tomaz Solc, and subsequently modified by Peter Clifton,
    including creation of a gsch2pcb icon in a simlar style. The page outline
    is from the GNOME icon theme's text-x-generic icon by Jakub Steiner.
    
    Uses the intltool framework to translate the mime registration file.

commit fdfaaf2d4a7a92eaeb9b4a212a075c639bc9a022
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 23 05:30:21 2007 +0000

    libgeda: Add missing noinst_HEADER prototype_priv.h to pass distcheck

commit f1d4aeb308de9b805ff0b21d7e94b09bc01dc569
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Dec 22 21:01:35 2007 +0000

    libgeda: Use goto to tidy some error handling in f_print.c

commit 091c7484296176f9364ed5663e7a2db4b2920f4b
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 21 17:44:15 2007 +0000

    libgeda: Split out private prototypes to new header file.
    
    Split out function declarations for functions intended for libgeda
    internal use only into a new prototype_priv.h.

commit 52bb24c3868d14b12480037dc8f0b1450cc78d7f
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 21 17:26:30 2007 +0000

    libgeda: Make sure that Guile smobs are initialised.
    
    Rather than initialising them in gschem, which is a WTF.

commit 8fd1e724fbb7f9b2e109a829c700daf11521c08a
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 21 17:26:30 2007 +0000

    libgeda: Now we assume GLib 2.4+, use g_setenv().

commit 39454be8d19bc73e3fb4b4a688a93ddc411d01c0
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 21 17:26:29 2007 +0000

    libgeda: Compile C files in alphabetical order.
    
    Purely because it looks nicer.

commit 559caed6b573a19f287fb0f1b35e46726acf9631
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 21 17:26:29 2007 +0000

    libgeda: Add a private counterpart to libgeda.h for internal use
    
    Provide a single header file, libgeda_priv.h, which includes all
    libgeda headers and their dependency headers in the correct order.
    Change libgeda C files to include just this header rather than all the
    individual headers explicitly.  This will make it easier to split out
    the libgeda headers into public and private declarations.

commit 3b040cf8d60a8fbe45f6e7c5f3d71a3dea119357
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 19 17:48:57 2007 +0000

    Add intltoolize to the build infrastructure
    
    Provide intltoolize infrastructure for translating .desktop and MIME
    XML files. Run gettextize after intltoolize if required, so that the
    infrastructure for providing libintl on a non GNU system still works.

commit eae5c4643691bf4a675f6df0d31d671715089939
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 18 14:39:34 2007 +0000

    Fix resolution of printed images to match that of the original data.

commit a146b68dfbffe227f3ab89af2beefb7627e26daa
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Dec 8 14:57:33 2007 +0000

    libgeda: Clean g_assert() usage.
    
    g_assert() is a heavy-handed approach to sanity checking because it
    kills the user application on failure.  It's better to use
    less-destructive methods.

commit 405e7a33706d1e82d53c8d607aad11f9be8ad559
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 7 21:48:43 2007 +0000

    General log handler improvements
    
    - Handle all messages above "debug" level
    - Send all messages which are neither "message" nor "warning" levels
      to console using default log handler
    - Don't print to console from the gschem log handler

commit 668ada22ec0f2a48adffcc62daacc6876108ee71
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 7 21:48:17 2007 +0000

    Pass all log info to x_log_update_func
    
    In order to enable applications to do interesting things with log
    messages, they need to have all of the log info (including severity
    and log domain).

commit c8a8611f87b3031e5fe1abb1a8602401ed459c97
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Nov 29 16:55:39 2007 +0000

    libgeda: define s_log_message -> g_message
    
    s_log_message was a verbatim copy of the definition of the g_message
    macro from GLib's gmessages.h.  However, we're actually always going
    to include that header anyway -- this patch removes the unnecessary
    duplication of code.

commit be301530f468e4d0057b3be68e218ac444c2d2be
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 7 17:20:55 2007 +0000

    Make libgeda's f_open() & f_open_flags use GError.
    
    This patch actually *removes* error message output from file loading
    errors is some cases.  This is for the sake of keeping the patch
    concise, and will be addressed in later patches.

commit 9998632193573058a18c9dc96c7e9a3b1aa0dcc3
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 7 17:19:57 2007 +0000

    libgeda: Make o_read() use GError.

commit 2d60c8fd165dbfd577199c2237d44e33655eb8c1
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Dec 6 21:08:32 2007 +0000

    libgeda: Add f_has_active_autosave()
    
    Add a helper function for checking if a file has an unresolved
    autosave file.

commit 3dc89aa9635b6eac150e837f24b51811c7504e88
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Dec 4 23:00:35 2007 +0000

    libgeda: Add f_get_autosave_filename()
    
    Add helper function for getting the autosave filename for a given file.

commit 53cbd813e6d601f86618aa083d656d7aeccb7705
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Dec 4 22:56:01 2007 +0000

    clib: Speed up caching by using pointer rather than string keys.
    
    The initial version of the symbol cache used the symbol name as a
    string as the key, mostly because of the obnoxious 'const' keywords I
    had put in the definition of s_clib_symbol_get_data().  Having found a
    way around that, using a pointer to the symbol structure as the key is
    much faster as it avoids costly string comparisons and allocation of
    heap memory (as well as being slightly more elegant).

commit 9d2d7b0042a75f0494a240ceb79e60173d2e55d7
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Dec 4 16:17:59 2007 +0000

    Fix messages when parsing rc paths.
    
    Often, the full path to an rc file was being output twice in the log
    message given when parsing rc files.

commit d3d40d46285c5d0e75be9052d9f23480f9e8bff5
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Nov 28 23:20:44 2007 +0000

    clib: Cache symbol data between library refreshes
    
    Adds a cache for symbol data, which is flushed whenever the available
    component libraries are changed or rescanned.  This should speed up
    large component copying operations.

commit 3106000f091b02eb199826c0a0d74a1407f883b0
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Nov 29 12:58:17 2007 +0000

    libgeda: Correct header guards for defines.h

commit 0c2871d04305a0fcaf3b6b45a1317a491594a3f4
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Nov 29 01:29:18 2007 +0000

    clib: Clarify naming for search cache

commit 7a2ad70e9880b77957dd44d850ae85a08d615640
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Nov 29 01:29:18 2007 +0000

    libgeda: Clean g_assert usage in s_clib.c

commit 019d53dce27bdbbb9871510ce34bb995664290c2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Nov 28 17:24:27 2007 +0000

    Simplify o_mirror_complex() coordinate calculation.
    
    No mathematical changes, just consolidate x and y coordinate
    expressions onto one line each, and avoid using temporary variables.

commit 0312f7d113e616b0bb55880aa9d23a5197e821a5
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Nov 28 17:24:27 2007 +0000

    Fix bug introduced with refactoring of object mirroring API to libgeda.
    
    When reading a complex object from file, the mirror property of the
    complex is set to the desired value and later code then mirrors the
    prim_objs which make up the complex. o_complex_mirror_world() was used
    by mistake, where o_list_mirror_world() should have been used.
    
    This could be refactored so that complex creation uses higher level
    o_complex_{rotate,mirror}_world(), rather than setting the variables
    holding rotation / mirroring state, then manipulating the prim_objs.

commit ad5dcb91b8299dfbcda2e7507d4a42a6b6c0e9b0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Nov 28 17:24:27 2007 +0000

    Fix Bug #1838164. Initialise copied_to pointer in objects to NULL.
    
    Without explicitly initialising OBJECTs to have a copied_to pointer of
    NULL, copying a selection containing an attribute but not it's parent
    object could cause a segfault. The code checks to see where the parent
    object has been copied for correct attachemnt of the new attrib. If
    the parent object wasn't copied, this pointer should be NULL.

commit 193e2d4b748bc88d504abfa5b3cfba2382193d02
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Nov 28 16:27:08 2007 +0000

    libgeda: Don't use assert.h (use Glib's g_assert instead)

commit d64878d06d87592e3fa4a0a478eacff5ea105253
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Nov 28 16:27:05 2007 +0000

    libgeda: Correct func name in SCM_ASSERT call

commit ae225157603f063747709fa3d639ed8cdf63f6b1
Merge: 1abfd25... 43b5713...
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Nov 27 07:53:37 2007 +0000

    Merge with Cesar's mingw/pu branch
    
    Merge commit 'cesar/mingw/pu' into premerge

commit 1abfd25bf917ee4e90ccdbbbe9921db6ff46c49f
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Nov 24 08:34:13 2007 +0000

    gschem: Fix NULL pointer risk in x_image.c [1802087]
    
    x_image_update_dialog_filename may attempt to deference a NULL
    pointer.

commit 6831e3cbfbd23964ceb42f294075053899a9bcad
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Nov 23 21:44:18 2007 +0000

    libgeda: Update some component library doc comments.

commit 8b490a404e682ac4f1e4cbd46e22c92f58b2ae76
Author: Tomaž Šolc <tomaz.solc@tablix.org>
Date:   Fri Nov 23 21:42:50 2007 +0000

    Compilation fixes for Mac OS X 10.5 [1832417]
    
    This patch contains changes to gEDA source tree that were necessary to
    compile on Mac OS X (10.5 Leopard, PPC).

commit 537fc4784a25756d7c38b4fbbcc1059b41f5664b
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Nov 23 21:42:47 2007 +0000

    libgeda: Add the ability to save into a buffer.

commit 493fef662fb68301ad786fcbf3cf5cdbcb1078d1
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Nov 23 21:42:37 2007 +0000

    libgeda: Refactor file header string generation.
    
    Replace function for writing file header out to file with one which
    just returns a string containing the header.

commit 0b0d1259692ffe36e3bbc617af78bbf8a1c8f716
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Nov 18 21:34:57 2007 +0000

    Improve object mirroring API in libgeda + gschem
    
    Implements the o_mirror_world() function which rotates any object, and
    o_{glist,list}_mirror_world() functions which mirror lists of objects.
    
    Moves o_complex_mirror_world() from gschem into libgeda, and modifies
    appropriate places in libgeda + gschem to use the new API. The old
    gschem function o_mirror_world() becomes o_mirror_world_update(), a
    convenience function calling o_glist_mirror_world() and ensuring all
    necessary drawing and connection updates are made.
    
    Removes the o_complex_mirror_lowlevel() function which is made redundant
    by the above changes.

commit 21a8790b0540c374b00cfc45ad79ab474a4655b0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Nov 18 21:34:35 2007 +0000

    Improve object rotation API in libgeda + gschem
    
    Implements the o_rotate_world() function which rotates any object, and
    o_{glist,list}_rotate_world() functions which rotate lists of objects.
    
    Moves o_complex_rotate_world() from gschem into libgeda, and modifies
    appropriate places in libgeda + gschem to use this new API. The gschem
    function o_rotate_90_world() is greatly simplified, becoming a
    convenience function calling o_glist_rotate_world() and ensuring all
    necessary drawing and connection updates are made. This function is
    renamed o_rotate_world_update().
    
    Removes the o_{complex,text}_rotate_lowlevel() functions which are made
    redundant with the above changes.

commit 8d60088eafd1a1447db10e14436e9bbc3a5a28ce
Author: Cesar Strauss <cestrauss@gmail.com>
Date:   Sun Nov 11 14:37:53 2007 -0200

    MinGW does not have symlinks.

commit 40c0582e39d6a7ed0a41e0e5deedc0bfd03bbddc
Author: Cesar Strauss <cestrauss@gmail.com>
Date:   Thu Nov 15 19:11:12 2007 -0200

    Use forward slashes as path separators on MinGW.
    
    They are also acceptable as path separators on MinGW.

commit 4698fd163892243b931fbd7795ad9443f5b2fe58
Author: Cesar Strauss <cestrauss@gmail.com>
Date:   Sun Nov 11 13:38:26 2007 -0200

    Remove uneeded MinGW-only libraries.

commit ce2255f2633c9bb14dcd3813e019a84d8acce3a3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Oct 4 21:24:15 2007 +0100

    Alter system-gafrc to process .scm files in $GEDA_DATA_DIR/gafrc.d/
    
    This change allows each symbol package (e.g. geda-symbols) to install a
    scheme config file under this dir to load its contents. This allows
    additional symbol packages to be installed globally without needing to edit
    either geda-clib.scm or system-gafrc.
    
    Also moves the installation of geda-clib.scm into this directory.

commit 23ead18086e59aab22945c37ff95f49e5747f277
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Oct 17 04:50:39 2007 +0100

    Remove the ATTRIB linked list in favour of a GList
    
    The ATTRIB.copied_to pointer is moved from the ATTRIB struct to reside in
    the source OBJECT being copied.
    
    The ATTRIB *attached_to pointer of an attribute's text OBJECT is changed
    to OBJECT *attached_to, pointing directly at the OBJECT to which that
    attribute is attached. This avoids the need to traverse the ATTRIB list
    and retrieve this pointer from the HEAD attribute node. (A HEAD node is
    not used in the GList of ATTRIBs).
    
    The ATTRIB structure now only contains one element, OBJECT *object. This
    points to the text OBJECT holding and displaying that attribute's
    "name=value".

commit 88cdb643a1304cd283a2f2ad95993f237e81248b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Oct 17 03:53:38 2007 +0100

    Remove unused code from libgeda

commit 903db04d2174415fcc6ec6c0e7321d914a25b259
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Oct 9 22:28:54 2007 +0100

    Tidy implementation of o_list_copy_all() to be more concise.

commit f914d437f4a76df5ba28e80e7dab6f55996a8b59
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Oct 9 22:05:21 2007 +0100

    Split out gschem specific TOPLEVEL variables into a new GSCHEM_TOPLEVEL
    
    GSCHEM_TOPLEVEL has a TOPLEVEL *toplevel pointer as its first elelment,
    gschem uses this to call libgeda functions. (Almost) all gschem functions
    now take the GSCHEM_TOPLEVEL as their first argument.

commit 3da83d39b58ab2cb642b93b798ec31be0a725d81
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Oct 9 20:08:26 2007 +0100

    Move o_redraw_single() from libgeda to gschem

commit fe4375d7185c0d5f7cc8186c1a214981fb6d0edd
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Oct 9 20:08:26 2007 +0100

    Move libgeda's o_selection_unselect_list() into gschem.
    
    The function calls o_redraw_single(), so should be in gschem.
    It is now named o_select_unselect_list().

commit fd28531b8e88ced997b0269fd31cdb23abf3936d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Oct 9 20:08:23 2007 +0100

    Fix a bug in o_attrib_search_name_single() were it might return NULL.
    
    If o_attrib_search_name_single() doesn't find an attribute attached to
    the passed OBJECT, it checks if the passed OBJECT is itsself an attribute.
    In this case, it would return NULL (the result from the preceeding search).
    
    The bug might not actually be triggered in normal usage, as most callers
    don't pass a variable to recieve the OBJECT pointer.

commit 185958029cb58e26d37854c7580bef1b0869a7c9
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Oct 4 19:42:01 2007 +0100

    Use GLists to store OBJECTs in the "object_buffers[]" paste buffers.
    
    Replaces o_list_copy_all_selection2() with o_glist_copy_all_to_glist().

commit 38d3c48fd5a2ea57af5d772854393b39fd3b7e78
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Oct 4 19:42:00 2007 +0100

    Make attribute / text placing use a new attrib_place_list GList.

commit d1e77cc6b87f6bd78cfc38630c292ac2c0f1f09b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Oct 4 02:44:18 2007 +0100

    Remove the redundant toplevel variables current_{show,visible}.
    
    These variables were previously used for an interactive method of attrib
    placement which has since been removed. The current_visible variable was
    also tested during non-attribute text placement, but to no effect.
    
    Whilst the file-format does technically allow invisible text, gschem's UI
    pesesnts no way to achieve it, so removing this variable does no harm. The
    ability to correctly load schematics with invisible text remains.

commit 4595948e41b2d195eb78a820fc15d0d8596067a4
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Oct 4 02:34:50 2007 +0100

    Avoid accessing (GList)->{next|priv} directly to aid debugging.
    
    Instead use g_list_{next|previous}, allowing us to catch errors where
    changing from gEDA structures which had their own next and prev pointers.
    
    To debug, edit the glist.h include file from glib, renaming the next and
    prev elements in the GList structure and macros. Recompile gEDA to see any
    bad accesses such as those where the HEAD nodes were previously skipped.

commit e84c1d4ba2ad15e18f94346389d2671eb49d0cf5
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Tue Sep 11 22:37:55 2007 -0400

    Fixed a whole bunch of gtk+ 2.4.x and misc issues building on an older box
    
    This is a fix for (Patch#) 1789290 libgeda-1.2.0 fprintf which supplied a
    similar patch which fixes the issues in libgeda/src/s_clib.c and
    libgeda/src/s_textbuffer.c.  In the future, all releases will be built with
    gtk+ 2.4.x so that these sorts of problems do not get released.

commit 201b6aecab7f3f0f86b6d89479e7c229d4e6fb30
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 9 12:51:00 2007 +0100

    Remove unused TOPLEVEL variables display_{width,height}

commit 2e3c06cbcdce8254f70162ecebd650980cf70ee9
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 9 00:18:34 2007 +0100

    Remove the globally exported variable_set_func.
    
    Only gattrib provided a non-NULL export of this symbol, and such imports
    into libgeda prevent libgeda being dynamically linked on some platforms.
    
    To better match the other tools in the suite, gattrib's i_vars_set() and
    i_window_vars_set() functions were combined into a single i_vars_set().

commit 8952ec9bd4f4985fae8aadd6c4103b933464152a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 9 00:01:14 2007 +0100

    Remove unused extern variables from libgeda, gnetlist and utils.

commit f94d63a9a9f73e70b51c16b1e9f337bfa26b0de2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 23:26:47 2007 +0100

    Use o_translate_world() to tidy up o_complex_translate_world()
    
    Removed o_complex_world_translate_toplevel(), and changed all useage of
    o_complex_translate_world() for generic lists of objects to instead use
    the new o_list_translate_world(). o_glist_translate_world() is also added.

commit 03896ea02c444e5889d98953f6a7f5988253cc40
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 23:24:33 2007 +0100

    Add new function o_translate_world() which will translate any object.

commit 36dc96b81aadceb9bb6e4c3d8b59939a2dc240e0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 23:24:27 2007 +0100

    Rename o_complex_world_translate() to o_complex_translate_world()
    
    The function name now matches the pattern for other objects types.

commit 7018461cf5f5f011f3b59a711c4817752099a534
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 15:49:02 2007 +0100

    Remove unused function o_attrib_search_special().

commit 5a1c7855c84f3d9b6a439e529b6c147f943e3b95
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 15:26:33 2007 +0100

    Remove unused function o_attrib_count_toplevel().

commit b363eb966b6ec92cfc4337cef15cf04839a7939b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 15:26:32 2007 +0100

    Remove empty functions o_attrib_{edit,select_draw,unselect_draw}().

commit d0d00ac3599befcfcf25ae498dc17f6cc241b7da
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 13:13:38 2007 +0100

    Remove auto-uref code which was #ifdef'd out. its no longer used.

commit 8b6effd2eb18816e62b3a19a532d6c308ee3fdd2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 00:30:49 2007 +0100

    Remove unused OBJECT *object_selected from PAGE structure.

commit 08ac872c975a587cf4125c6468c79c453661ee8f
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Sep 7 23:58:51 2007 +0100

    Removed unused angle parameter to o_complex_rotate_lowlevel().

commit c66d009979f49bd7ac8ba0641a6974be9e6a82d5
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Sep 7 23:57:38 2007 +0100

    Removed unused angle parameter to o_text_rotate_world().
    
    From an old unmerged patch by Patrick Bernaud.

commit 1f336cc81195dadaffd4bbec17e8a40950b7935b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 18:47:23 2007 +0100

    Simplify test to call gdk_init() in o_read_picture()
    
    Avoids testing a GtkWidget pointer in TOPLEVEL variable setup by gschem or
    gattrib. Instead, just ensure we call gdk_init() at least once. If gschem
    or gattrib already did, its not a problem as repeated calls aren't harmful.

commit f60cb40a3c47595d1931540508e89643fdcece07
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 18:47:23 2007 +0100

    Tidy o_picture_copy(), avoiding use of some TOPLEVEL variables

commit 23953797984fda7cb62dceef38ac26da25c2dcd2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 18:39:55 2007 +0100

    Fix loading of embedded images.
    
    Various bugs in the base64 decoding function were preventing the correct
    decoding of the embedded image. In addition, it was possible for this code
    to access invalid memory - possibly leading to a crash.
    
    Additionally removes extra \n inserted between lines of the base64 input.

commit bd101aa36356082f479e1bd4970ea93b01bbfa5d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:38:02 2007 +0100

    Remove the un-needed TOPLEVEL variable: DONT_RECALC, and its usage.

commit 5e9f49ed25bf87783207906daaf915714f43259c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:37:56 2007 +0100

    Remove the redundant TOPLEVEL variable: DONT_RESIZE

commit 863d3c63667dc1a106b21758f957d810ee6f5583
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:37:49 2007 +0100

    Remove the redundant TOPLEVEL variable: DONT_DRAW_CONN

commit bf3a364ed474ce6f5824a5f3fe94a3c17ce8bc28
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:37:41 2007 +0100

    Remove unused variables from the TOPLEVEL structure

commit 615d03958528afabaf94eb95199aa434d5c5d667
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:34:11 2007 +0100

    Use o_attrib_print() in libgeda/src/s_basic.c avoiding code duplication.
    
    Printed output will be slightly different, but this is just debug code.

commit 7f8f105c3fb9945ee02a4cf35a3cd762b0c6804c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:19:25 2007 +0100

    Remove unused function o_attrib_reattach()

commit f8680ea938936bfd59c1c0f699c437de870a09eb
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:19:19 2007 +0100

    Remove unused functions o_attrib_copy() and o_attrib_copy_all().

commit a0d45936373d8c5e2f887f1330cbbc3b691e13cb
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:19:05 2007 +0100

    Remove unused function o_attrib_test_detach()

commit f376f300980a0a4734e00d4c776bb829f9c36b96
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:19:00 2007 +0100

    Remove unused, empty function o_attrib_detach_all()

commit e9ac00da9b2c75b3ccef3e729e43bb105d3e6e4a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:18:50 2007 +0100

    Remove unused function o_attrib_print_reverse()

commit 96495b7a87701b2ea8d7eb6b4da206d6c169a85c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 13:46:57 2007 +0100

    Fix memory corruption and possible segfault copying attributes
    
    If an object (but not all its attributes) was selected and copied, dangling
    pointers were left in the un-copied attributes. A subsequent copy operation
    containing those missed attributes would attempt to reattach them to the
    copy of their parent. If this had been deleted in the mean time, memory
    corruption and a possible segfault would occur.
    
    Consolidates the duplicated code which sets the ATTRIB property "copied_to"
    into a helper function, o_attrib_list_copied_to(). This is also used to
    clean up after copy operations.

commit 5b2cb25e06604a8d31dff974f323477a78f02f46
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:48:32 2007 +0100

    Move o_picture_set_pixbuf() from libgeda to gschem

commit 07d5a095c313e031b939d45f89afcd1c0ca9bc97
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:48:09 2007 +0100

    Remove unused TOPLEVEL variable REMOVING_SEL.

commit 70d8cc898e42b95a7ac463d9e879c959690fbd5c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:47:22 2007 +0100

    Remove unused dialog pointers from TOPLEVEL

commit 2854af88bf7d4d45cec1a8cc4046e0e3da5f1339
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:46:55 2007 +0100

    Remove unneeded functions in libgeda/o_attrib.c
    
    Removes:
      o_attrib_set_show(TOPLEVEL *toplevel, int flag)
      o_attrib_set_visible(TOPLEVEL *toplevel, int flag)

commit 093e83672310917f56b66a4f2189cb8e9baae903
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:46:20 2007 +0100

    Remove un-needed redraw in o_scale() and generally tidied the function up

commit 3e56c88e89c6b03c402a97d0a225302f6d000458
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:46:09 2007 +0100

    Remove ineffective redraw in o_complex_world_translate()

commit 9044d41a2305c97522bc70cfd7945f9d843482ae
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:41:28 2007 +0100

    Removes the linking between TOPLEVELs, instead uses a GList in gschem

commit 4a24abed55b95bd50cb0351ca25c37f6758e8e89
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:38:53 2007 +0100

    libgeda: Rename all w_current variables to toplevel

commit 63ee20a80cd42e1af745f9a52cd1d632c1bc345a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 12:17:25 2007 +0100

    Avoid using s_hierarchy_up() for traversal when we know where we're going.
    
    When trying to reach a specific parent we've come from before, we can use
    s_page_goto() and avoid the search through the page list.

commit adca8b7d5897b11331c6a20392d22ad1e58ee572
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 12:15:43 2007 +0100

    Replace the linked list of PAGEs with a GedaList (typecast to GedaPageList)

commit 086908ed44c9abc6d5907888695933b59ead4684
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Sep 2 22:48:59 2007 -0400

    Last minute updates to the READMEs for all projects
    
    Cherry picked from stable-1.2 branch, since these changes apply to master
    too.
    (cherry picked from commit 88fcb8d1bcdaa1436572d6a0ebe86f4df242a8d6)

commit 6056ef48272778419d39e0233f395bfd60019ab9
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Aug 19 22:40:19 2007 -0400

    Update ChangeLogs using: ./update-changelogs.sh 1.0-20070526..master

commit 19aacfff985ee9b478c4c50dfeeb1a8af5957c3a
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Aug 18 16:41:24 2007 -0400

    Added undo-panzoom keyword to control if pan/zoom cmds are undoable
    
    The default is to still store the pan/zoom info when panning or zooming,
    but now the user has a choice.

commit 92b3b65d0cec286b0ce59fc43cc07dcb60c39fa1
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Aug 18 16:14:30 2007 -0400

    Bumped versions to 1.1.2/20070818/30:2:0 for the next development snapshot

commit 4a505b751224b1e6cca84090ee088b4d690e8aa3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 18 14:20:46 2007 -0400

    Fix memory leak where GLists weren't free'd properly after use.

commit 72c4db8aa20c22baa4243a0d27b3bb3f32f3ef64
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Tue Aug 14 07:46:06 2007 -0400

    Moved 3 rc promotion keywords from gschem into libgeda (fix for bug#1748143)
    
    All the promotion keywords were moved from gschem into libgeda to fix:
    [ 1748143 ] gschlas causes duplicate prompted attributes   The primary
    cause of this bug was that the promotion variables within TOPLEVEL were
    not being setup by gschlas and so duplicate refdes attributes were
    showing up in the schematic.  The three rc keywords that were moved are:
    
    (attribute-promotion ... )
    (promote-invisible ... )
    (keep-invisible ... )

commit 6482c39d6983f7505b49068466feaea6c06cb50f
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Fri Aug 10 21:57:30 2007 -0400

    Fixed a nasty bug that was causing gsymcheck's make check to randomly fail

commit 703151a94b0eece6b24b3b18ce2465eeae068814
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Aug 9 12:36:17 2007 +0100

    Remove old prototypes from various prototype.h where no function exists.

commit 71600215311af0a98ed371ab750b09182de139a1
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 11 00:52:25 2007 +0100

    Revert inadvertent commits:
    
      dbfe00a20de3f875e519ef60629b968977fc5db8 (commit)
      f1451161914a0ed0bb43123279906d82cb7d5b49 (commit)
      2ad315fc0badd16a9614d1107b22c973908893d5 (commit)
      d8844bb48969aa45a05cbe6836fc96c198e88c19 (commit)
      ee1b64a1ae07eb99eae5d63307e9fe23f9604662 (commit)

commit dbfe00a20de3f875e519ef60629b968977fc5db8
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Aug 10 22:52:18 2007 +0100

    Avoid using s_hierarchy_up() for traversal when we know where we're going.
    
    When trying to reach a specific parent we've come from before, we can use
    s_page_goto() and avoid the search through the page list.

commit d8844bb48969aa45a05cbe6836fc96c198e88c19
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Aug 10 21:26:10 2007 +0100

    Replace the linked list of PAGEs with a GedaList (typecast to GedaPageList)

commit 0f5c72daacfa7d78666769e4063122934861da5c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 5 22:36:56 2007 +0100

    Alter guile 1.6 compat tests to work with older autoconf versions
    
    Don't use AC_DEFINE to define function like macros, instead use
    AC_CHECK_DECLS to set a HAVE_DECL_..., then use AH_VERBATIM to
    insert a test which defines a replacement if necessary.

commit 5c098070b87709540345afb1b3b79d9db470ed53
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Aug 2 22:09:52 2007 +0100

    Fix configure checks enabling guile 1.6.x compatability routines.

commit 512561395fb348a0fb71625edb4fe1ec96553c3f
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Aug 2 13:17:58 2007 +0100

    Fix to allow automatic loading of untitled backup files

commit aec624dc87dc204b399b0e070f8fcfce8e3edbc6
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Aug 2 13:07:23 2007 +0100

    Remove old code commented out in o_net_consolidate_segments()

commit c31bd4adb677d671af8bdf5aed71f96a4995f9b1
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jul 31 20:03:51 2007 +0100

    Changed configure.ac(.in) to allow guile-1.6
    
    Introduces compatibility #defines where guile 1.8 funcs are missing in
    guile 1.6. Also adds missing configure.ac checks for guile in packages
    gattrib, gnetlist, gsymcheck and utils.

commit a3facd9b5fc1a252ef18a7b5a3fca6b1c80cbb01
Author: Bernd Jendrisse <bernd.jendrissek@gmail.com>
Date:   Sun Jul 29 10:20:11 2007 -0400

    Added doxygen comment to o_text_add()

commit 3d86fb3270138d59f0f443efb3cd4f6efb9f3990
Author: Bernd Jendrisse <bernd.jendrissek@gmail.com>
Date:   Sun Jul 29 10:18:22 2007 -0400

    Fixed transpositions, typos, and random spelling errors.

commit af8d5893e54ef929851011911167bdb4df826431
Author: Bernd Jendrisse <bernd.jendrissek@gmail.com>
Date:   Sun Jul 29 10:01:53 2007 -0400

    Removed spurious whitespace from header file.

commit ac47f97389af58e730dce5da19897cd0d3d152e3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Jul 27 23:44:23 2007 +0100

    Fix unselect code to only update colors etc. when the object was selected.
    
    Fixes a regression introduced with the GedaList based selection code. When
    asked to remove an object from the selection, we must check its actually
    selected before calling o_selection_unselect() to re-color the object.

commit 31f65059cf1ce5be9b8a0987d4538fed075a6805
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Jul 25 02:09:15 2007 +0100

    Fixed two calls to free() where g_free() should have been used.
    
    Updated Doxygen comments to note where memory should be freed with g_free()
    rather than free(). Commented three instances where free() is correct.

commit 305c10f50464f02e32d84140db69f158da6e4c47
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Jul 25 00:52:36 2007 +0100

    Free strings from scm_to_locale_string() with free(), not g_free()
    
    NB: All other code in geda uses g_strdup (SCM_STRING_CHARS (...)) to
    convert strings from guile, so is not affected.

commit f6e43346086f118dbae33e7cb650c4eef90ee3aa
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Jul 23 23:38:37 2007 +0100

    Add call to g_type_init() in libgeda_init() as libgeda now uses GObject

commit cb9c4ee19ca58158308a234782fdad6fb60257da
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Jul 19 15:09:56 2007 +0100

    Change selection code to use a generic GedaList typecast to SELECTION.
    
    GedaList allows various parts of the program to keep track of changes
    to the selection via callbacks attached to the GedaList object.

commit 10e79873064a096f8af4b0b6dcb9f957be0f6859
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Jul 19 15:06:57 2007 +0100

    Added new GedaList class derived from GObject
    
    This abstracts a GList with API for write access. Its main use is in list
    change notification, as it emits a "changed" g_signal when modified.
    Read only access to the underlying GList is provided by an accessor,
    currenly implemented as a macro.

commit e978b9098c7567ad3b9c834a5e4914de3bc039ec
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Jul 8 18:18:39 2007 -0400

    Updated ChangeLogs using ./update-changelogs.sh 1.0-20070526..master

commit d7e8f5abc35644e90bfabf84396023cab09f2968
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Jul 8 16:18:57 2007 -0400

    Updated configure.ac[.in] and Makefile versions in prep for a release.
    
    The update was done by running ./update-versions.sh 1.1.1 20070708 30:1
    at the toplevel.  libgeda's shared library version is now 30:1:0

commit 3f3505662fe4bb8c585aea0ea965296bd923956c
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sun Jul 8 21:16:17 2007 +0200

    Added *~ to .gitignore files.

commit b6f9ed0ba8af7ed6e380bb6752bc553240f1b04c
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sun Jul 8 20:57:30 2007 +0200

    Added string != NULL check in u_basic_breakup_string.
    
    The lack of this check can be the cause of a segfault (bug #1748153).
    Programs shouldn't pass NULL strings to this function.

commit 841ecec5509d214e633a984124ab33f35d55021e
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Fri Jul 6 23:35:59 2007 +0200

    Added new scheme function: get-line-width .
    
    Added new scheme function, get-line-width, which returns the line
    width used to draw a given object.

commit 22d475b9beb10be2aa27197d6ad59f728a1f034f
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Jul 5 07:55:43 2007 +0100

    libgeda: Handle multiple libraries with the same name nicely.
    
    If a component library is added which has the same name as an existing library,
    rewrites the name in the form "name<number>".

commit dd995d808b9f4440db48d2daa2473a9d9cfd88ef
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Thu Jul 5 01:36:31 2007 -0400

    Updated ChangeLogs using ./update-changelogs.sh 1.0-20070526..master

commit 0484a4d7c925af33d18f5d9bfdeca240b735a9bb
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Thu Jul 5 00:18:27 2007 -0400

    Oops, incorrectly specified libgeda's shared library version.
    
    The format for this version is X:Y:Z and for the most part the major
    number just increments every release if there aren't any changes to
    any interfaces.  For detailed information on how to change this number
    see:
    http://www.gnu.org/software/libtool/manual.html#Updating-version-info

commit 099c49e5689afda4b8a5221dde73f9fdf1972ce7
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Thu Jul 5 00:11:45 2007 -0400

    Updated all version strings to 1.1.0 and 20070705

commit 87731dda219b0986fed0d1a7789e17678dd79d8c
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Wed Jul 4 23:55:07 2007 -0400

    Removed AM_MAINTAINER_MODE from all configure.ac[.in] files.
    
    Maintainer mode is no longer needed or desired now that we are no longer
    using CVS.  Hopefully this will prevent some of the odd problems that were
    observed during the last release when the Makefile's didn't get auto
    regenerated.

commit e4e105b3309dcbc0b598318e1b24591dec39422a
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Wed Jul 4 23:52:58 2007 -0400

    Provided an alternative implementation to glib 2.12.x only function

commit dc7b8c53f4bc94626634887e46167a367a91f707
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Wed Jul 4 23:32:15 2007 -0400

    Changed gEDA/gaf's version mechanism to use new dotted X.Y.Z convention
    
    Added DOTTED_VERSION and DATE_VERSION variables to all configure.ac[.in]
    files.  Changed all version related output to be DOTTED_VERSION.DATE_VERSION.
    Updated the configure.ac[.in] files to have consistent top sections.
    Updated code and various scheme files to use the new DOTTED_VERSION
    and DATE_VERSION variables available via config.h.  Stopped using
    PREPEND_VERSION_STRING as the mechanism for doing the dotted versions
    (not intended for that use).  Updated update-versions.sh script to set the
    version in all the configure.ac[.in] files and the toplevel Makefile.
    Went through all the g_rc.c files and make the handling of rc file
    mismatch handling consistent.

commit dbf600e34e2284fe1ec59242d541334bc27d3d49
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Wed Jul 4 16:51:32 2007 -0400

    Implemented the ability to change the color of junctions (code for #1746675).
    
    The filled circles (at the junction of nets) and filled boxes (at the
    end of unconnected nets) were the same color and it was hard to tell the
    difference from a distance.  This patch addes (junction-color ...) rc
    keyword and allows the user to change the junction color.  The default
    color for the dark color scheme is yellow and the default color for the
    light color scheme is purple.

commit ca4571b1a6a49c97feb8fc6cc8cb926acc287ece
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jul 4 18:03:53 2007 +0100

    libgeda: s_clib_toplevel_get_symbol_names() is poorly named.
    
    s_clib_toplevel_get_symbol_names() returns symbols, not names of
    symbols, so rename it to s_clib_toplevel_get_symbols().

commit ab0fef1d36d05088f3891397103ebb15b3e3c2d0
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jul 4 18:03:53 2007 +0100

    libgeda: Make command-backed component sources more flexible.
    
    Allow different commands to be specified for 'list' and 'get' with
    custom command-line arguments.

commit 62e7775f82d947efb1515ef8f9f776da88de62b4
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Jun 28 18:36:42 2007 +0100

    libgeda: Add a newline to a component library log message

commit c144221daf8ef133f39e14c76447a1b556c54853
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Jun 28 15:50:31 2007 +0100

    libgeda: Add fine-grained control over f_open() behaviour.
    
    Add a function f_open_flags() which takes an extra argument which is a
    set of flags controlling actions taking while opening a file. f_open()
    wraps this with a default set of flags.
    
    Coincidentally, this also leads to a trivial fix for the file open
    dialog backup-message bug.

commit 301614ec1f0e97de952f071d5f40f885ca7484ce
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jun 27 19:48:04 2007 +0100

    libgeda: Add function which retrieves a list of symbols in use.
    
    Add the s_toplevel_get_symbol_names() function, which scans a TOPLEVEL
    structure to obtain a list of all symbols used in open
    schematics.

commit c7f1e67533518517f310fd037c7e24cb248a4f23
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jun 27 19:48:04 2007 +0100

    libgeda: Make s_page_new() use g_new0() for a blank page.

commit 57b2848a7e69d19e18ac03a1264cb55d41c65d0e
Author: Ales Hvezda <ahvezda@laptop.ales.net>
Date:   Mon Jun 25 22:31:07 2007 -0400

    Changed/updated the #define mechanism for creating custom gEDA/gaf versions.
    
    Previously this mechanism was used to create custom versions of gEDA/gaf.
    With the coming of stable and development versions of gEDA/gaf, this
    mechanism was changed so that end users can tell the difference between
    a stable release vs a development release (by looking at the version string).
    The CUSTOM_VERSION #define was changed PREPEND_VERSION_STRING and is now
    prepended to any strings that output the VERSION string.

commit 0ed9cf080cfc8509cb29cbe4e976f86b2821c407
Author: Ales Hvezda <ahvezda@laptop.ales.net>
Date:   Sun Jun 24 23:48:51 2007 -0400

    Updated copyright text/header in most source files.
    
    Updated all copyright text dates that have my name (Ales) associated
    with them.  Added gEDA contributer copyright text where appropriate.
    Fixed a bunch of GNU text typos (these should have been either GPL
    or gEDA).  Removed some $Id$ tags which are no longer used/needed.
    Fixed a few file header that were just plain incorrect.

commit a4e956c6272ea982ec54327dcc5e3aa528ac8c99
Author: Ales Hvezda <ahvezda@laptop.ales.net>
Date:   Sun Jun 24 22:22:32 2007 -0400

    Added *.o (all object files) to all src .gitignore files.

commit 1c76ee9d84ea4fcdc924d992ecc3a828887eff4f
Author: Ales Hvezda <ahvezda@laptop.ales.net>
Date:   Sun Jun 24 22:17:03 2007 -0400

    Removed all trace of libgd usage and removed some old ps printing routines.
    
    All trace of libgd and HAS_LIBGD has been removed.  Some obsoleted and

commit 868d31c36736b1ceebdd9a7cea6d12d12ecf89a9
Author: Ales Hvezda <ahvezda@laptop.ales.net>
Date:   Sun Jun 24 15:46:46 2007 -0400

    Removed libgd and indent tests from configure scripts.
    
    indent is no longer use since noweb was removed a long time ago.
    libgd is no longer used since libgeda/gschem uses mage export support in gdk.

commit edff766e8b15c311505810241528026f722e30b6
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 23 18:19:11 2007 +0100

    Make sure various files are installed.
    
    Several new files were not being distributed. This patch addresses the
    problem by adding files to EXTRA_DIST in automake input files.

commit e57c37a66edc1c4d4e4d7160001749df51b96c4b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jun 23 18:17:29 2007 +0100

    Move all .cvsignore files to .gitignore files

commit 065595ccd8b5e77616c29a37742357cfab0ae7f7
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 23 16:11:44 2007 +0100

    Changes to ChangeLog usage.
    
    With actual changes this time.  Old-style changelogs as of gaf 1.0
    (release of 26th June 2007) are moved to ChangeLog-1.0; new (blank)
    ChangeLogs replace them.  A script has been added to the gaf top level
    to allow maintainers to update all the ChangeLog files immediately
    prior to making out a release.

commit 1f1c7f4d9ab541454d39a4ec770f6e9bdd9bfa16
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 23 14:01:30 2007 +0100

    Re-enable s_clib_refresh().
    
    Now that OBJECT and TOPLEVEL no longer store pointers to CLibSymbol
    structures, calling s_clib_refresh() is no longer likely to cause a
    segfault.

commit 67038ed9bece3a1317757b58a982ed29af2831c6
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 23 13:50:57 2007 +0100

    Don't cache symbol pointers in persistent structures.
    
    Several persistent structures, including TOPLEVEL and OBJECT, cache
    pointers to CLibSymbols.  This is bad, because it makes removing
    component sources or rescanning them likely to cause stale pointers
    around the place.
    
    With fast hashtable-cached searches in place, this is no longer
    necessary.  This patch ensures that only symbol names are stored
    persistently.
    
    This patch also enables descending into embedded symbols using a
    component library lookup on the embedded symbol's name.

commit 1c226a4ebe5f297460cccf8568b7d7b7b2179253
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 23 13:32:45 2007 +0100

    Factor out TOPLEVEL.current_clib.

commit fe621022acfbe69688878b70d4c40883f8f2a3df
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Jun 22 08:34:33 2007 +0100

    Add s_clib_get_symbol_by_name().
    
    Add a new function which returns the first exact match for a given
    symbol name, printing log messages if either there are more than one
    match or no matches are found at all.  Also update
    s_clib_symbol_get_data_by_name() to use new function and remove
    o_complex_add_by_name() as more or less redundant.

commit 01fd87d78aa26d3c29b4141878b5f48edab264ec
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Jun 15 09:05:53 2007 +0100

    Make comp. library search faster and more flexible
    
    Replace s_clib_glob() with s_clib_search(), which can operate in
    either exact matching or glob matching mode.  Use a hashtable to cache
    the results of library searches. The hashtable is cleared every time
    it is invalidated (for instance if a component source is added or
    removed, or the component sources are rescanned).

commit 9dde0233ebed32065511b567445f9f34d4b3bea1
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Jun 15 09:06:56 2007 +0100

    Refactor system RC files
    
    Moved system-gafrc into the libgeda package, where it belongs.
    Removed all environment and configure substitutions.  Created separate
    font and component library setup scripts in the symbols package,
    automatically loaded by system-gafrc if they exist.  Updated
    system-gschemrc to use new infrastructure.

commit 041fa3eedf71df34cdd04bad4c2cd5b08cff7232
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Jun 15 09:06:55 2007 +0100

    Add infrastructure for installing Scheme files with libgeda.

commit 10f0c8203b1fa9c87d09f1aeb4da28a0e5599ea8
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Jun 15 09:06:55 2007 +0100

    Make libgeda define Guile variables for the gEDA data paths.
    
    Add three variables from libgeda to the Guile environment:
    geda-rc-path, geda-data-path, and path-sep.

commit 2a2fa60eee536f48cc27c16f2577106e78250ed6
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 9 20:30:14 2007 +0000

    Fix gschem's sort-component-library option
    
    In the last release, the sort-component-library gschemrc option did
    nothing.  This patch corrects the issue, by adding an argument to
    s_clib_get_sources which enables or disables sorting the list of
    component sources.

commit eed0be648afd9bc421a8d0059de621df778c5fbe
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sat Jun 9 16:09:36 2007 +0000

    Avoid writting '\r' to files on MinGW.
    
    Applied patch #1733826 from Cesar Strauss. Thanks.
    When using the "w" mode in fopen, MinGW translates LF into CR-LF.
    This creates havoc when reading the same file again, when sharing
    schematics files with other systems, and when placing them in a VCS.
    
    This can be avoided by using the "wb" mode. The "b" is ignored on
    all POSIX conforming systems, according to these sources:
    
    http://www.die.net/doc/linux/man/man3/fopen.3.html
    http://www.opengroup.org/onlinepubs/009695399/functions/fopen.html
    
    There are other ways, however. Adding
    
    #include <fcntl.h>
    int _fmode = _O_BINARY;
    
    on some source file should work as well. Another way is linking
    against the MinGW supplied binmode.o, which does exactly that.

commit f1ba0fe139afec11f50fee01e92e5a727456bcce
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sat Jun 9 15:38:36 2007 +0000

    Fix for lack of permission-related file attributes on MinGW.
    
    Applied patch #1733728, with some tweaks, from Cesar Strauss. Thanks.
    Define some file permissions as 0 if they are not defined.
    Don't use chown if it is not available.

commit 419b4d152b0b2ae6546052ccb8d87ef26fa83752
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sat Jun 9 14:59:01 2007 +0000

    Added EPS support.
    
    Applied patch #1713747 (with minor tweaks) from Wojciech Kazubski
    adding support for EPS when writing an image. Thanks.

commit ef0ca7042e49ed3f26ec61c71085378ab04fef6e
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Jun 9 14:44:27 2007 +0000

    Applied patch from Ivan Stankovic that displays entered characters in
    the status bar

commit 3d58ffc27e6d915c4b1ebbd6f6b96d98d6126b7b
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Jun 4 16:15:37 2007 +0000

    Replace deprecated Guile functions & macros.
    
    Replace deprecated SCM_STRINGP, SCM_INUM, SXM_INUMP & SCM_MAKINUM with
    recommended equivalents for Guile 1.8.

commit 66fb25858496cdf33e1456b835d68a16bb7ccdcd
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 2 16:33:34 2007 +0000

    Improve Guile configure checks & remove 1.4 compat. code.
    
    Removes compatibility code for Guile 1.4, and makes configure scripts
    check for actual Guile version.

commit cd3149619aac30cb158a13733c76fad9c98faaee
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 21:24:19 2007 +0000

    Require Guile 1.8.x
    
    Guile 1.8.x is the current stable series, and 1.6.x is getting old.
    Require 1.8.x for libgeda.

commit b3cacc6ddb4135c63057b1856a0693fd7f1043ba
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 08:13:50 2007 +0000

    Component library documentation updates.
    
    Various changes to update & improve component library documentation.

commit ac91166a7d5fe429d28e96cc7bc3adec724faa7e
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:59:41 2007 +0000

    Match .sym suffix case-insensively when building component library.
    
    When building symbol lists for directory-based component sources,
    match the ".sym" filename suffix case-insensitively.  Note that for
    backward- compatibility (and sanity on systems with case-sensitive
    filenames) searching for symbols does match symbols
    case-sensitively ("plug.SYM" will not satisfy a search for
    "plug.sym").

commit 361853bdb0e60db2ea121ec2dd49341ce0b4a2e7
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:56:47 2007 +0000

    Add component sources based on Scheme procedures.
    
    Add the ability to use a set of Scheme procedures which list and
    return component symbols as the backend of a component library.  Adds
    the g_rc_component_library_funcs() and s_clib_add_scm() functions to
    libgeda, as well as the component-library-funcs rc file function.

commit 51141f6de037902bef8870f473ae4ce3836b758e
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:53:25 2007 +0000

    Change way that component source conflicts are checked.
    
    Allow the same component source to be added more than once, but only
    if it has a unique name.  Also adds s_clib_get_source_by_name().

commit ef835e4c2be6f907c0f743a989be6a33f740071e
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:50:39 2007 +0000

    Sort lists of component sources and symbols.
    
    Adds functions to compare sources and symbols by name
    case-insensitively, and makes the both s_clib_source_get_symbols() and
    s_clib_get_sources() return lists sorted by name.

commit a0038f45b535b7a4e48d491e0a44bf222c790208
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:48:31 2007 +0000

    Add & update Scheme callbacks for new component library.
    
    Add the (component-library-command) function, and make
    (component-library) take an optional second argument for the
    directory's source name.

commit 2a1ac73a53cdde48883d77ff6d90b51e5a19c561
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:46:11 2007 +0000

    Provide better names for component sources.
    
    Full pathnames aren't very user-friendly in the component
    browser, and sometimes the name you want for your
    component source isn't the same as the directory name. This
    patch provides an infrastructure for better source naming,
    while falling back to the "classic" behaviour if necessary.

commit 32254c4c57c9f7450d31b61a98368e56769d33ab
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:37:49 2007 +0000

    Implement new component library system in libgeda.
    
    A new component library model is needed to allow gschem etc.
    to work well with part database systems.  This patch
    provides the necessary infrastructure in libgeda, without
    the frontend Guile commands required to make use of the new
    features.  In particular, it abstracts the component
    library into the concepts of "Component Sources" and
    "Symbols", and allows external "Library Commands" to
    provide symbol data in addition to the traditional directory
    libraries.
    
    In order to allow the new system to work, there are major
    changes in all code which manipulates COMPLEX objects; in
    particular, the magic "EMBEDDED" string is now only used
    in the on-disc representation.

commit 40833189228f8edeffce6eeb1bbdcdb1c0c64b2c
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:31:36 2007 +0000

    Add new file omitted in previous commit.

commit 022421c35c53cbfe4ea936cc1d31b192cfd34ab7
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:30:31 2007 +0000

    Make libgeda parse schematics from buffered data.
    
    In order to support more complex methods of acquiring symbol
    data, libgeda needs to be able to load schematics and symbols
    directly from a memory buffer as well as from files.

commit 2f30fb34dbbeb61650d69737913e80daa75dc172
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:27:23 2007 +0000

    Add managed text buffers to libgeda.
    
    In order to facilitate loading symbols & schematics from
    memory without an extensive rewrite, this patch adds an API
    for reading memory arrays a bit like a file.
    
    Using memory streams & fgets would be nicer, but unfortunately
    memory streams are a GNU libc extension.


#GCL#
