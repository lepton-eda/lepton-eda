# Do not edit this file - generated from version control history


commit 859abe69912ba99ca27bb58c378284e9eec56259
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Mar 28 15:13:59 2009 -0400

    Updated all versions to 1.5.2 20090328 36:0:0
    
    Updated by running:
    ./update-versions.sh 1.5.2 20090328 36:0:0

commit b297d32b70c02bfe800b7bf4c434d1fd4447e2f5
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Mar 28 14:55:22 2009 -0400

    Updated all po files by running make update-po

commit c3081930ed224394f645de4bfb51e86fa3e15e65
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Feb 20 23:26:12 2009 +0000

    Remove obsolete references to libgd and libgdgeda

commit 246acd46e591e542ac3f00f9064905ae0311b0ec
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jan 24 16:08:43 2009 +0000

    Make o_save(), o_read() and friends take an object list argument.
    
    Sometimes we may want to save or read in a list of objects which isn't
    the current page. This adds a new function o_save_curr_page() which
    behaves the same as o_save() previously did.

commit 4d83eae30b789deb8ab9235a89c191630ebf18be
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jan 21 21:17:01 2009 +0000

    libgeda: Refactor load backup query callback.
    
    Passing user data allows the gschem callback to be called with a
    GSCHEM_TOPLEVEL instead of a TOPLEVEL.

commit 44028f9c988a134748c8cea5e439983377ae3fd3
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jan 21 21:16:59 2009 +0000

    libgeda: Don't use compiled-in GEDADATA on Windows.
    
    On Windows, the compiled-in data path set with configure is unlikely
    to be the same as the path gEDA is actually installed to -- so don't
    use it. Instead, permit the s_path_*() funcs to return NULL.

commit 3c0d85eae92d5764aa7dee2899c6a066c3470ee3
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jan 21 14:11:39 2009 +0000

    Write logs to $HOME/.gEDA/logs/.
    
    Rewrite s_log_init() to put log files in a centralised location. A
    user application (e.g. gnetlist) provides a prefix, and log file is
    opened at:
    
       $HOME/.gEDA/logs/<prefix>-<YYYYmmdd>-<serial>.log       [1]
    
    The serial is found by the following procedure:
    
    1. Read through the directory to find the highest existing <serial>.
    
    2. Starting with that number, repeatedly attempt to open()
       incrementing files with O_CREAT|O_EXCL flags to guarantee that a
       new file is created.
    
    3. If after LOG_OPEN_ATTEMPTS = 5 attempts a unique filename hasn't
       been found, fail.
    
    The logic *intentionally* does not fill in gaps in the sequence -- if
    I delete logs, I still want a new log to appear at the end of the
    list.
    
    [1] The actual location is a subdirectory "logs" of the user config
        directory, which may not be ~/.gEDA on all platforms.

commit 7cc4a67795c9ee8dcb28edc6d71b895c5b4f1dc9
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jan 21 14:10:41 2009 +0000

    Refactor finding paths for config etc.
    
    This is intended to provide a centralised place for determining the
    paths more "smartly" in the future (e.g. for platforms with different
    conventions on where config should go).
    
    Only user-visible change should be that log messages when loading
    config files no longer hardcode "~/.gEDA".

commit b5fbfa5f8734c215fb632a29699889b7decf910c
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Jan 18 02:11:17 2009 +0000

    libgeda: Do not use "Requires.private" in libgeda.pc
    
    We cannot use "Requires.private", as the behaviour is not consistent
    across distros due to an ongoing disagreement about what the semantics
    of "Requires.private" should be. In particular, Fedora's pkgconfig
    package has patches installed which break that functionality. Instead,
    use "Requires".

commit fda82eb96e2c785efe91fd59d01f6e7e26b897ed
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Jan 18 01:48:58 2009 +0000

    Protect some strings passed to pkgconfig.
    
    Ensure that pkgconfig version requirement strings are protected from
    M4 expansion.

commit bb074bdd2a30fd3b941be2683c905a99d330243a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 17 22:48:41 2009 +0000

    libgeda: Fix printing of colours.
    
    To avoid emitting a colour change for each object printed, libgeda caches
    the last colour it wrote into a postscript file, and doesn't emit a new
    colour change command when the next object is the same colour.
    
    Drawing of complex and text objects are wrapped by a "gsave" and "grestore"
    pair, which resets the postscript interpreter's current colour, so we need
    to restore our variable tracking the last drawn colour after these groups.
    
    Fixes mis-drawn colours noted by DJ on the geda-user list.

commit 28ee7866d44c74927401d362aceec4474bb5075c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 17 22:30:13 2009 +0000

    libgeda: Use AC_LIBTOOL_WIN32_DLL to build DLL on Win32 platform.
    
    This (albiet deprecated) option is required to make a shared DLL on
    Win32. The non-deprecated syntax isn't compatible with older libtool,
    so lets use this for now.

commit 333ccc55a1a1dc7c0c6ae92daefdfb83c54d511f
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Wed Jan 14 21:03:41 2009 -0500

    Revert part of a commit that changed how libtool is initialized
    
    This commit reverts part of b47b0d1276a9535e3a66e4f8535f6c552849490f
    back to the original way of initializing libtool (using AM_PROG_LIBTOOL).
    The other changes in b47b0d1276a9535e3a66e4f8535f6c552849490f seem
    reasonable enough.

commit a37263740000929363492726a069d92b161ab64c
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jan 14 00:37:54 2009 +0000

    libgeda: Make colormap hex codec functions more portable.
    
    The 'hh' length modifier was added in "The Open Group Base
    Specifications Issue 6". (IEEE Std 1003.1, 2004 Edition).
    
    Testing on wine's implementation of msvcrt.dll has shown
    that this modifier isn't implemented, leading to memory
    corruption / misread colour maps.
    
    Commit message ammended by Peter Clifton.

commit b47b0d1276a9535e3a66e4f8535f6c552849490f
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jan 13 23:58:45 2009 +0000

    libgeda: Ensure we build a shared DLL on MINGW32.
    
    Pass -no-undefined to libtool, and initalise in configure.ac.in
    with LT_INIT([win32-dll],[shared]). Tested not to affect Linux.

commit 09e4b6a6c3fb7d9a95340f4de4a2b84193318f33
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jan 13 23:58:41 2009 +0000

    libgeda: Define libraries necessary for statically linking libgeda
    
    Following removal of extraneous CFLAGS and LIBS from libgeda's pkg-config
    file, there are problems statically linking the library.  We actually need
    to provide a list of required libraries to link with for static linking,
    and would ordinarily use Requires.private for that.
    
    Since guile 1.6 doesn't use pkg-config, avoid around the problem by adding
    guile's LIBS to libgeda.pc's Libs.private.

commit 0cfeefc37856c30fc57f9ca803ffb1f7f11310e7
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jan 13 23:58:05 2009 +0000

    libgeda, utils: Check for same glib version as rest of suite; 2.8.x

commit aabcb89e83bfbe3f601a023f8c5aa4da725a3c17
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Jan 11 00:28:15 2009 +0000

    libgeda: Fix picture aspect ratios to compute width/height
    
    For some reason, libgeda was computing height / width, whilst gschem
    used width / height.

commit 700d5c08aa33009128491007ff4d3f6e91ce0489
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 10 22:54:09 2009 +0000

    libgeda: Move include files to be compatible with non-installed build
    
    By placing public libgeda include files in a directory libgeda/*, it is
    possible to point the rest of the suite's builds to include that directly.

commit 02fa8f658d315796df7c6ab8790e5310e8548d37
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 10 22:29:21 2009 +0000

    Remove explicit checks for X11 - we're not using X11 APIs directly

commit 51c7b2770c01b851f4f7bd0624eed0533c69c376
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 10 21:35:58 2009 +0000

    libgeda: Use "Requires.private" feature in pkg-config to avoid overlinking
    
    When libgeda declares that it requires gdk-pixbuf-2.0, using the
    Requires.private field allows the required CFLAGS to be passed on without
    forcing programs linking against libgeda to explicitly link with gdk-pixbuf
    
    This causes programs using libgeda to require a version of pkg-config >0.18
    (although that hasn't been determined experimentally). This was released in
    2005/2006, so ought to be fairly ubiqutous.

commit 2742d7a50cbf126ea5a901e2f9faa6259263ae75
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 10 21:21:39 2009 +0000

    libgeda: Avoid overlinking against libraies we don't actually use
    
    The only libraries we need to specify for libgeda is -lgeda, and an
    appropriate search path.
    
    For CFLAGS, we need to specify the path to libgeda's include files.
    
    We must also reference the libraries we depend upon being installed
    for our API / header files. This is currently guile and gdk-pixbuf.
    Since difrerent guile versions have different pkg-config files, this
    is not particulary simple to achieve. To avoid the problem, lets
    just not pass any guile CFLAGS on from libgeda's pkg-config file.
    
    Libgeda requires its callers to have correctly initialised guile, so
    imposing the requirement that guile's include files are available is
    not a great extra burden. (They must be available for the app to be
    calling the correct initalisation functions).

commit bb9b1321c59714e432c1c6a196a39baf56a437f9
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 10 20:41:59 2009 +0000

    libgeda: Don't depend upon GDK. We need gdk-pixbuf, which is separate.
    
    We don't need to call gdk_init() in o_picture.c, since gdk-pixbuf is not
    an internal part of GDK. Dropping the call to gdk_init() means it is now
    possible to run gnetlist on a schametic with images, without an X server
    available (for GDK build targetting X11).
    
    We only explicitly require GdkPixbuf for libgeda's external APIs.
    Move the #include <gdk-pixbuf/gdk-pixbuf.h> before we include our local
    prototype.h and struct.h though, since gdk.h no longer pulls this in.

commit fc660d554159c44e41a456fbb888fbe977666269
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Jan 9 01:43:56 2009 +0000

    libgeda/gschem: Try a smaller cue circle for net junctions

commit 42a5bebc27f842b1955d9626f2521eea124259a0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Jan 9 01:04:14 2009 +0000

    gnetlist: Teach netlist traversal code to understand buses (still disabled)
    
    Up until recently, the connection scanning code has rejected some, but not
    all buses. This means that it is unlikely graphical buses formed a useful
    part of anyone's design, since the netlist code in s_traverse_net()
    would not follow connections to another bus segment. The only possible
    bus-pin connectivity has ever been "pin-bus-pin", or "pin-bus-net-...".
    
    This behaviour appears to have been accidental, and would not have been
    easy for a user to take advantage of. The traversal code would not move
    on to a subsequent bus, but would, for example, allow a pin->bus->!bus
    connection, which could then connect onwards. The bus mixed up in this
    would for all intents and purposes behave as a net.
    
    The pin->bus validity bug was actually fixed in libgeda when adding
    support for bus pins. This commit formalises it further, since if
    support for netlisting bus pins were enabled it would otherwise still
    be possible to get a buspin-bus-net-... connection if you tried hard.
    
    Introduce type-checking between pins, nets and buses such that they can
    not netlist where the object types don't match. For buses, the code to
    name a connection based on "netname", "net" or "label" attributes is
    disabled - pending decision as to what constructs we wish to use for
    naming buses. Add a gnetlistrc setting (unnamed-busname ...) which sets
    the default naming (if the connection scanning code were run on bus pins).
    
    This commit lays some of the ground work for shared connection scanning
    code for determining the connectivity of buses and bus pins.

commit efb5dba68395549c7e970f3506148194eb4b30c6
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Jan 8 01:16:08 2009 +0000

    libgeda: Use strlen rather than strnlen, which is a GNU extension.
    
    Helps buy us some portabilty. In the case changed, the string is
    going to be NULL terminted, so the length cap doesn't buy us anything.

commit 330e6bc49a83a176c549644011d186dbc5e1d8b9
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jan 7 13:47:27 2009 +0000

    libgeda: Font-renderer-specific text bounds functions.
    
    When using arbitrary fonts, libgeda can't know the world extents of a
    TEXT object without reference to the font renderer.
    
    This patch adds a mechanism for applications (i.e. gschem) to register
    a callback to be used by libgeda for calculating the bounds of a TEXT
    object.

commit 600c870c0486edfe0afae031a6857ccddfec7e08
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Wed Dec 31 13:59:23 2008 +0100

    libgeda: access functions for filltype and linestyle
    
    Created the function o_get_fill_options and o_get_line_options to
    get the properties of an object.

commit 95432ccffdbb39434981f87050433c00f40125da
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Jan 4 19:38:11 2009 +0000

    gschem: Revert change in cue size "fixed" when introducing bus pins.
    
    The old behaviour was intentional.. smaller cues were in fact supposed
    to be used for buses, so that the dot was contained inside the bus
    graphic.
    
    Rename the variables defining the sizes to be clear about their purpose.

commit ba15c06da1ec82e3ff063e211def6d8a983f1bde
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Jan 4 18:44:00 2009 +0000

    libgeda: Fix hit-detection of arcs with negative end_angle

commit 975fc0827bf61e3e88ec374d3440b0887c2d5ef2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Jan 4 18:43:27 2009 +0000

    libgeda: Fix calculation of arc bounds for arc with 360 degree sweep

commit 2874ca6c016115363ab9edb7809d5ca66509ca14
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 3 19:54:04 2009 +0000

    Move world <-> screen coordinate transformation functions into gschem
    
    Convert them and their callers to use a GSCHEM_TOPLEVEL as an arguemnt
    rather than TOPLEVEL.
    
    This commit moves most of libgeda/src/m_basic.c to a new file,
    gschem/src/m_basic.c

commit 4d79aa73981d6caa2c803250d1be266d7657f0c2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 3 19:54:03 2009 +0000

    Move o_line_visible() from libgeda into gschem
    
    This function relates to on-screen visibility, so should be in gschem.

commit f37c893edfeb016e57aae5e92f48093608e5cdfb
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 3 02:38:29 2009 +0000

    gschem: Add interface to toggle a pin between net pin and bus pin types.
    
    This allows schematic diagrams of hierarchical connections to include
    buses. Since gnetlist does not currently support buses, this feature is
    useful only for diagrams, or when used with a custom netlister.
    
    Since we don't want to mislead users into thinking bus pins netlist,
    the option to set pin type is only present on the page's popup menu,
    and is marked "(graphical)".

commit 7d01d4ae87fd329ffa3e93df9e286dd6e56e225c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Jan 2 23:14:53 2009 +0000

    libgeda: Fix bus/net to bus/net pin connectivity checking rules
    
    Previously, the type of pin was not checked when computing connections,
    and buses were disallowed from connecting to any type of pin.
    
    Refactor s_conn_update_line_object() to concicely check the following:
    
      Allow connections between matching pin types only.
      Allow connections between nets, other nets and net pins.
      Allow connections between nets and the mid-points of a bus.
      Allow connections between buses, other buses and bus pins.

commit 998e8546754fe2ab41a57ce112c3966190c501df
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Jan 2 23:14:52 2009 +0000

    gschem: Add support for rendering and adding pins with type PIN_TYPE_BUS
    
    Bus pins are rendered thicker, and with a bigger cue than standard pins
    of PIN_TYPE_NET.
    
    This commit also fixes a bug where the wrong sized cue circle was drawn
    for net-net interconnections.

commit 08db7a435330db92db7ce99267ca6c624481e053
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Dec 20 17:53:12 2008 +0100

    libgeda: check whether a attribute is attached to an object
    
    Simple test function added.

commit 48c35116377abd95e0914e6f28c00c9786392e70
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Dec 20 17:49:31 2008 +0100

    libgeda: functions to get the position of an object
    
    added a function o_get_position() to get the world position
    of an object.
    
    The returned position is dependant on the object type.
    For the box and picture object the lower left corner is used.
    For line, net, bus, path, the first point is used.
    For pin the whichend is used.
    For circle and arc the center is returned.
    Complex and text object return it's base coordinate.

commit 2ee50f8ed4a738880d3ca04fd5a27c66b89bc743
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Nov 16 12:50:17 2008 +0100

    libgeda: new snap state and snap cleanups
    
    Switched toplevel->snap into a enum type and use the newly added
    states.
    
    removed unused and broken function on_snap(). Removed misc
    wrong comments about the snapping mechanism.

commit 8a1b27af48d06ffe4fa2dc71a67810f7b4a71e32
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Jan 2 14:17:31 2009 +0000

    Update en_GB translations for libgeda and gschem

commit 5d7b92b9f4cf9fb750c61b5b9124598692cbe6aa
Author: Bert Timmerman <bert.timmerman@xs4all.nl>
Date:   Fri Jan 2 14:13:28 2009 +0000

    Updated the Dutch translations for libgeda.
    
    (Patched PO file updated on 2009-01-02 by Peter Clifton)

commit d7b7b23721b4054172587c9961d4b87f47bee198
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 31 17:26:03 2008 +0000

    libgeda: Remove non-private access of PAGE->object_list
    
    This allows us to keep better track of where the PAGE must be updated
    should we have any spatially keyed data-structures in the future.
    
    Rename PAGE->object_list PAGE->_object_list to try and discorage any
    use of it outside libgeda (ideally, outside s_page.c) in the future.

commit ca6556ace0a06ec1dd697852f7a1f0ffb86bfb97
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 31 17:25:57 2008 +0000

    Add "const" to some places where we deal with GLists of OBJECTs.
    
    These GLists themselves are not (and shouldn't be) modified, although
    the OBJECTs they point at may well be.

commit 15ed098497ddac2bc671657c4d4347eb509f7449
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 31 17:25:50 2008 +0000

    Refactor o_complex_promote_attribs() not to link the promoted objects.
    
    By returning the GList of promoted attributes, we allow the caller to
    use whatever specialised linking procedures are appropriate for the
    list they are linking to. For example, linking objects into the PAGE's
    object_list might in future require calling notification functions.

commit 4971020530b55ac275cf30e48fd4c10cd6d8fb4c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 31 17:25:43 2008 +0000

    libgeda: Add new API for adding a GList of objects to the page
    
    s_page_append_list (PAGE *page, GList *obj_list) will take the GList
    passed as an argument and append it to the page's object list.
    
    The passed GList is not copied, so the caller must not free it after
    calling this function.

commit f013cb1d70d868093ad9aa3ae1e38a5c9079ecc9
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 25 22:08:49 2008 +0000

    gschem: Add a code to draw a mesh grid with major / minor lines.
    
    Adds new configuration option (mesh-grid-display-threshold {pixels}) which
    configures the minimum line pitch rendered before switching off the minor,
    then subsequently major grid lines.
    
    (NB: This grid mode is currently not accessible.)

commit 059f1be046494e1d1171953138f259b0af90409b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 25 21:25:16 2008 +0000

    gschem: Separate out dotted grid drawing and tidy up the code somewhat.
    
    Creates a separate static function for drawing the dotted style of grid,
    and a switch function to pick which grid drawing routine is in use, which
    is currently just dotted grids or nothing.
    
    Adds doxygen documentation for the grid drawing functions.
    
    Renames the "grid-color" colour map index and other dotted grid specific
    config parameters to prepend "dots-".

commit aa6e2f9f4eda4b6c3cd11eabd679c2a710b4f222
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 25 20:11:22 2008 +0000

    libgeda: Fix mis-matched default colour map definition
    
    Reorder the mapping in color-map.scm into strictly numerical order,
    and annotate the default color maps with their index numbers so this
    kind of mistake is less likely to reoccur.

commit 165de888d86506583241dab79573e81f2cf44dd7
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 25 15:46:09 2008 +0000

    Remove GSCHEM_TOPLEVEL and TOPLEVEL indirection for fixed colour indices
    
    Colour indices such as grid_colour and select_color are not changed at
    run-time since (by definition) those graphic elements are always drawn
    with the sepcified index. Remove the indirection through GSCHEM_TOPLEVEL
    or TOPLEVEL, and use the appropriate index constant instead.
    
    The background_color indirection remains, since swapping this is used
    to override the background to white when exporting black and white image.

commit 02c551b77e47fb0fbf2de3bfa62d43a095862a52
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Dec 23 09:30:01 2008 +0000

    libgeda: Update Guile 1.6 compatibility headers.
    
    Add scm_cdr() to Guile 1.6 compatibility checks, and remove uses of
    scm_is_null().

commit 0029ee5696a4f8c0fd2a0edb64c0096792e24912
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 23 03:46:50 2008 +0000

    Fix attribute colours for embedded objects [#2157598]
    
    Add an argument, "set_color" to o_attrib_attach[_list]() to specify
    whether the colour of the attribute should be reset to the default
    attribute colour when performing the attachment.
    
    We set this to true when promoting toplevel unattached attributes
    inside a symbol onto the schematic page, when the user explicitly
    attaches an attribute inside gschem. It is FALSE in other cases.
    
    In cases where we're creating new attributes, such as o_slot_end(),
    we specify the attribute colour we want to o_text_new().
    
    Remove colour setting from o_attrib_add(), since there is no point
    having this code in two places. o_attrib_add() just deals with the
    datastructures now.

commit eed07fa8c85fbeda15e974f186a69f546506fb12
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 21:16:36 2008 +0000

    libgeda: Only output PostScript color commands if color changes.

commit 736c635ef2f5bfb822169a8c024ebb92cdd17cf0
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 20:22:08 2008 +0000

    libgeda: Fix dark background lock color.
    
    Drawing of locked objects was accidentally disabled.

commit 5453f2680e45dd3f2ffde73f442ba18a6a180437
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 22 19:33:39 2008 +0000

    libgeda: Don't pro-actively calculate text bounds, wait until needed.

commit b43dd2d3dfa1f50c788c87215a3e080bdb4448ea
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 22 19:33:33 2008 +0000

    libgeda: Add missing case in o_recalc_single_object() for text OBJECTs

commit 96ac0c7622c909604f925ae2a5e242a46ed0b53a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 22 19:33:25 2008 +0000

    Use world_get_single_object_bounds() in s_page_get_objects_in_regions()
    
    This allows us to ensure the bounds are valid, and trigger a recalc as
    necessary.

commit 56985b0d059fc0487f7b8245cad7b468e737f2fe
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 22 19:33:18 2008 +0000

    Change s_page_get_objects_in_region[s]() to take a TOPLEVEL parameter
    
    This is needed in case we have to re-calculate the bounds of any object.

commit d63a40cef31791c8c5209f3695f14c3cdf29ba5d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 22 19:33:14 2008 +0000

    libgeda: Fix selection of non-filled paths along their closing edge.
    
    If the path is closed, we want to be able to select along the
    closing line.

commit e7fe069ae882f8c0d398cac1b426b8a7df6fff53
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 22 19:08:35 2008 +0000

    libgeda: Fix s_color_rgba_decode() to default the alpha channel
    
    Fixes cases where the colour map doesn't specify an alpha.
    
    Signed-off-by: Peter TB Brett <peter@peter-b.co.uk>

commit 2e4ec93e8689501983a891280d8b1869901113c9
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 16:38:38 2008 +0000

    Revert "Use light background color maps as the default."
    
    This reverts commit 01bd6420ecad411d804f4a1a3d41af67d901ce6a, and
    corrects the comments to refer to the dark background as the default.

commit 04e17b33aea43f01079d2a0fd1ac9457062aa392
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 15:43:55 2008 +0000

    libgeda: Load confd files as last action in system-gafrc.
    
    Without loading the configuration files from the confd last in the
    system-gafrc, it is impossible to override e.g. attribute promotion
    settings from confd scripts.

commit 01bd6420ecad411d804f4a1a3d41af67d901ce6a
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 15:43:17 2008 +0000

    Use light background color maps as the default.
    
    The comments in the rc files have stated for a while that a light
    background is the default. Furthermore, all the cool CAD software uses
    light backgrounds these days.

commit 619aea627a81a5621036b0a2949e774bb5cb2e6e
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 15:42:46 2008 +0000

    Separate display and print color map config files.
    
    We should be able to print in color using libgeda without needing
    gschem.

commit 12d9e2127329a880ed8532808635d3ffdbf46caa
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 15:29:51 2008 +0000

    Remove display colormaps from libgeda.
    
    Libgeda doesn't need to know about the color maps used by gschem at
    all. Add a generic function for initialising a color map to a built-in
    default, and get gschem to use it for its main and outline maps.

commit 9f5e54f022b73adb429633461ca88c81c394fd16
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 15:29:51 2008 +0000

    Remove (ab)use of "customary" colors.
    
    colors.h defines a number of color index index constants with color
    names (white, black, cyan, etc.) This is evil and bad, because the
    color map might actually be loaded with entirely different colors.
    
    This also adds a DEFAULT_COLOR macro, usable in most places the "evil"
    existing contacts are used.

commit a8b55895fd6833fa36ef92c6bc7c82490ea3a294
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 15:29:50 2008 +0000

    Remove legacy color Guile functions and variables.
    
    Remove the color-mapping functions and variables obsoleted by the new
    system.

commit 06449db86b91db91bf5d4551acc2794cf34c97f1
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 15:29:47 2008 +0000

    New Scheme colormap syntax.
    
    Add new color map functions for setting multiple colors at a time with
    a simple list-based structure. Use one per color map rather than one
    per color.
    
    Use a wrapper macro in Scheme to make it easier to construct Scheme
    color map structures by using symbols instead of indexes to specify
    map entries.

commit af4756b843d6da32b8355a50bf3bb1f2bee0a539
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 15:20:17 2008 +0000

    Store colors as components rather than as strings.
    
    Rather than storing colors in libgeda as strings or GdkColor
    structures, store them as a set of four 8-bit unsigned integers.
    
    Since the GdkColor structure is renderer-specific, remove all trace of
    it from libgeda -- only gschem needs to know about it.

commit 05c77c57cc78b0963e52a91e6f56e8005089690a
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 15:20:14 2008 +0000

    Specify colors with RGB/RGBA hexadecimal notation only.
    
    Transparency (alpha channel) is used as follows for PostScript: if
    alpha is non-zero, objects are drawn fully opaque. If alpha is zero,
    objects are not drawn.
    
    The alpha channel is ignored for GDK drawing.

commit e2d6f2bfb1c24d5dfaf193dfae4aaa7cf4d0f236
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 22 00:36:27 2008 +0000

    Add explicit 'enabled' field to COLOR structure.
    
    Colors are implicitly 'enabled' by having values specified in the
    configuration file. Up until now, whether a given color is enabled has
    been checked by checking if the color name strings are NULL.
    
    This patch adds an explicit 'enabled' field to the COLOR structure. It
    is set TRUE when s_color_request() is called for that color index.

commit 3c49636e1a9e9e703fab4c6aafc69affb4fd2bab
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Dec 21 16:23:26 2008 -0500

    Updated ChangeLogs one more time.

commit e97e63ac7955c34f6fbd820cbdea9ea9b90e9ec9
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sun Dec 21 22:16:33 2008 +0100

    Updated spanish translation for libgeda and gschem.

commit 2f3e07a1fa7fd92ab163d2cd966efd98ab306512
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Dec 21 14:40:21 2008 -0500

    Updated ChangeLogs again in prep for the 1.5.1 release

commit 76d02f7f935d930d8093bd49b7eb0836d3b1aa6e
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Dec 21 14:06:17 2008 -0500

    Updated all ChangeLogs in prep for the 1.5.1 release.
    
    The update was done by running:
    ./update-changelogs.sh 1.0-20070526..master

commit 84d3b0199bec40652b1381474f7f76d7b24a6ff7
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Dec 21 13:48:42 2008 -0500

    Manually ran make update-po in all the po directories
    
    This is in prep for the upcomging 1.5.1 release.

commit 680e08085d44c9876bdadef0ca7ef25b474c2006
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Dec 21 13:39:29 2008 -0500

    Updated all versions to 1.5.1 20081221 35:0:0
    
    Updated by running:
    ./update-versions.sh 1.5.1 20081221 35:0:0

commit c84879ae316698d0d1a85048cdc8417e71ec167e
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Dec 21 11:35:25 2008 -0500

    Added missing file (configure.ac) from maintainer-clean files
    
    configure.ac is generated from configure.ac.in and should not survive
    make maintainer-clean.

commit 2c1c7ff82e5ba02c432eb9e1e9fe44ac97e5ecc7
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Dec 21 11:24:43 2008 -0500

    Added libintl.rc to .gitignore to make git status less cluttered

commit 7289597377b3a0efd00c29b5da08956b25dffafc
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Dec 21 12:32:57 2008 +0100

    gschem/libgeda: updated german translation

commit 9e9b1ab60ff8740f4039471efaa5435193d83c14
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Dec 20 18:12:46 2008 -0500

    Manually ran make update-po in all the po directories
    
    make update-po was run in prep for an upcoming release.  It will probably
    have to be run one more time before the final release is done.

commit d8cc920d932f1557f3d93da6abd1d99e690f39ef
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Dec 20 21:47:12 2008 +0000

    gnetlist: Optimise connection traversal algorithm
    
    Increase performance for traversing schematic connections by
    optimising tracking of how many times objects have been visited.

commit 6329c5a7bdae9573f01f92403e4645e79e66aab5
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Dec 20 14:41:05 2008 +0000

    Update copyright header dates to 2008.
    
    (And I'll have to do this all again in a few days time).

commit 978a127bf1f7174fd5146371d0cbbfc6a8f2baf8
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 20 08:25:06 2008 +0000

    Avoid and remove OBJECT variable draw_grips
    
    We can infer the required logic from OBJECT->selected, and the
    resulting code is cleaner.

commit 68f782583cc41b542dc237cb9173f64ffc01ce76
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 20 08:09:57 2008 +0000

    gschem: Just redraw everything when we get an expose event
    
    Disable generation of our backing pixmap and remove o_invalidate_rect()
    calls from various drawing functions. The backingstore is straight to the
    screen, so there is no need to make that call (it causes a redraw loop).

commit 67daa4d705d62d16133feb2d9a3a77cacb9b34de
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 20 05:49:39 2008 +0000

    Allow bounds of lines and arcs inside a COMPLEX to form a selectable box.
    
    This allows existing symbols, such as logic gates etc.. which have no
    outer box, nor yet make use of closed paths, to be easily selectable.

commit 94602fdc724dd31527c3ceed2092ddeee1d954e0
Author: Edward Hennessy <ehennes@sbcglobal.net>
Date:   Sat Dec 20 04:42:25 2008 +0000

    Symbols now selectable by clicking inside their shapes.
    
    This patch changes the selection behavior by allowing symbols to
    be selected by clicking inside any contained shape.  This behavior
    works for symbols with boxes, circles, and paths.
    
    Patch modified by Peter Clifton:
    
      Added m_line_shortest_distance(), (m_line.c) and make use of that
      in m_polygon_shortest_distance() rather than faking a line OBJECT.
    
      Change all o_*_shortest_distance() functions to take a parameter
      "force_solid" so we avoid having to use a specialised dispatch
      function to treat constituent primitive objects inside a COMPLEX
      as solid.

commit d785f7cf34f581bbb18fbc73dced8e44bc28ab90
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 20 04:35:30 2008 +0000

    libgeda: Simplify shortest distance test for text
    
    Since we're always treating the text bouning box as a solid area,
    some of the conditionals can be simplified, as in the picture case.

commit 6e8f757d3aa23219bb0259064dbed5ffa64fb341
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Dec 19 00:59:52 2008 +0000

    Remove next/prev linking from the STRETCH structure. Use GLists instead.
    
    The PAGE now maintains a GList of STRETCH objects instead. This keeps the
    code a lot simpler and allows us to use more standard GList functions.

commit 5ac7d324af0630fc8ad6f8692bcd80fe3d7b81d1
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 18 23:01:16 2008 +0000

    libgeda: Fix memory leak in g_get_attrib_value_by_attrib_name()

commit ba936e6bb6c321b7c9d433a8276d7cccd17c9889
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 18 22:52:42 2008 +0000

    libgeda: Fix complex_parent for prim_objs of embedded objects
    
    When we read in the embedded objects for a complex, we need to
    set the complex_parent argument for each of them to point at the
    complex.
    
    This bug manifested in failed netlisting for embedded objects,
    and has been manifest since:
    commit f4dab83b1ca0e197f02f520a6ae525aeac5a252d
    gnetlist: Use the complex_parent property of an OBJECT, not the HEAD node.
    
    The omission which made this a latent bug was in:
    commit ec2e929742bb682be52d02818916b1f57c343e48
    libgeda: Set complex_parent on all prim objects, not just their HEAD node

commit 2aabf7fa7200f55b6bf3825cdf382af901484f0a
Author: Gabriel Paubert <paubert@iram.es>
Date:   Wed Dec 17 14:31:12 2008 +0000

    libgeda: Fix type parameter to s_basic_new_object, which should be an int
    
    The type parameter is stored as int in the OBJECT structure, so we should
    be careful that this function can accept any valid type number.

commit 645ddeba66b2bb589e6d5097dc8ead13529fd26f
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 17 01:34:14 2008 +0000

    libgeda: Fix mistake leftover from cleaning up o_*_shortest_distance()
    
    m_polygon_shortest_distance() calls o_line_shortest_distance() (which I
    missed). It fills in geometry to a LINE structure, then calls the above
    function. Make up a fake OBJECT structure as well, since we changed it
    to take an OBEJCT * instead of a LINE *.

commit 1a38d368b89110372d311ddcd22a515b88d87ca0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 17 01:09:05 2008 +0000

    libgeda: Select text using the OBJECT's bounding box, not prim_objs
    
    Makes selection of text objects much easier, and will be needed when
    we use an external text rendering API rather than our own internal font.

commit abb681ddca37e729c3f17c48ca6d8d46e2f3dd2b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 17 00:29:41 2008 +0000

    libgeda: Clean up o_*_shortest_distance() functions
    
    Make all functions take an OBJECT * as their first argument, rather
    than a BOX, CIRCLE etc.. This keeps the function signature uniform
    and allows the routines full access to the whole OBJECT state.
    
    Also use g_return_val_if_fail() as elsewhere in the code. Favour
    primitive types such as double and int, rather than gdouble and gint
    to be consistent with the majority of the gEDA codebase.

commit 822d04bc29291979b91dd3222a27bbcb295e7b56
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 15 22:50:24 2008 +0000

    Delete references to the non-existent object type OBJ_HEAD. (CODE!)
    
    Ok, cleaned up some whitespace as well.. couldn't resist.

commit 07c7ea85f21c05b24513f1b087d839f098456408
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 13 17:56:36 2008 +0000

    libgeda: Add function s_page_objects_in_region()
    
    s_page_objects_in_region() returns a GList of OBJECTs which are inside,
    or which intersect with the given region.

commit c24af025cba433db83db48d4b614632b2d5a517c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Dec 12 16:08:43 2008 +0000

    Replace calls to s_conn_return_complex_others() with s_conn_return_others()
    
    Teach s_conn_return_others() to understand COMPLEX objects.

commit 7f4ec05b6812bf412ad23da67b82c9378c57aa0c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Dec 12 15:28:07 2008 +0000

    Replace calls to s_conn_..._complex with a non-specialised version
    
    Renamed s_conn_remove() to s_conn_remove_object()
    s_conn_..._object() can then call s_conn_..._complex() as needed.

commit 136efaf13287e97165bf511f146714ec94796d9a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Dec 12 15:26:43 2008 +0000

    Replace calls to s_tile_add_line_object() with a non-specialised version
    
    s_tile_add_object() can then call s_tile_add_line_object() as needed.

commit 77541e1ec2efdc989b0a17864c1c0802080ff835
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Dec 12 14:03:27 2008 +0000

    Remove un-necessary copying of line end-points in o_..._copy()
    
    The end-points are already set when o_..._copy() calls o_..._new().

commit d2877ab739c26ed6330fdeac2711326442395640
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Dec 12 13:29:55 2008 +0000

    libgeda: Only add buses to the tile system if ADDING_SEL is FALSE
    
    No functional changes here, since s_tile_add_line_object() silently
    returns if ADDING_SEL is TRUE. To make the code similar to other
    OBEJCTs, don't call s_tile_add_line_object() in the first place.

commit eca34fca24e6d29a1b42c95daee0602c452fecd6
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 11 22:26:56 2008 +0000

    Revert "Remove unused "toplevel" argument to s_conn_* functions"
    
    This reverts commit b211658fcddb84828c437a65bf6bd73fcc4b1918.

commit 28e12a770b23ffbe08c994cbd98d21a581b2cd2d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 11 21:44:24 2008 +0000

    Add API s_page_delete_objects() to delete all OBJECTs on a page

commit 921a39edd130ed3bbfe83d9c39c3a9085c405d9a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 11 21:21:03 2008 +0000

    Remove function o_delete(), which just wraps o_delete_object()

commit b211658fcddb84828c437a65bf6bd73fcc4b1918
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 11 20:40:15 2008 +0000

    Remove unused "toplevel" argument to s_conn_* functions

commit c13d8d0cee5f8d6695b5a8a6592a144bbacf86a2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 11 14:23:55 2008 +0000

    libgeda: Minor edit to prototype for o_attrib_return_attribs()
    
    Use the same variable name in the prototype and the code.

commit 4c6af30bf52cfe9c25057eaca2cf3f2edd7e76c3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 11 13:25:25 2008 +0000

    libgeda: Tweak o_save_objects() so it can be used to save attributes
    
    This allows us to use o_save_objects() recursively for saving attributes,
    and remove o_save_attribs() which was otherwise almost identical.

commit 955a025379dae2a1c39b31a4653e7daa335013ad
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Dec 11 13:25:15 2008 +0000

    libgeda: Fixup doxygen comments for o_complex_get_toplevel_attribs()

commit beeb987b7d7858bbc4956f8f2d9a5fd4a894a158
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 9 19:28:34 2008 +0000

    libgeda: Check for NULL before updating slots after attaching attribs
    
    If reading a file which contains an illegal object type (which fails to
    read), then contains syntax attaching attributes to that object, we may
    attempt to update the slot on a NULL, or incorrect object.
    
    Updating slots on the wrong object is harmless, but causes a crash for
    NULL objects. Check for the NULL pointer before doing the update.
    
    Also check for NULL before handling embedded object data, and set
    new_obj to NULL when we read an invalid object.

commit 38ce8aae73beec00d603e4cda0ca5eee738a3cb8
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 9 19:23:22 2008 +0000

    libgeda: Abstract removing objects from the page with s_page_remove ()

commit 617797b5a47d370c4fee19110c826502b7e3082b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 9 16:19:09 2008 +0000

    Remove linkage between OBJECTs and use GList for OBJECTs on the page
    
    This affords quite a lot of code clean-up, since we no longer have to
    maintain two versions of each operation which works on lists.

commit 6e5b34f6b333158481c67a031353cb8a8b4ba7e3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 9 13:56:19 2008 +0000

    libgeda: Add doxygen comment for s_page_append()

commit 33b897881891a4a7bce7fab0db73f4923d701cbd
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 9 01:46:06 2008 +0000

    libgeda: Fix build error in s_page_append()

commit 9dd241d9f87ad78f27772e9490d3afa2a80621bf
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 9 01:38:21 2008 +0000

    libgeda: Add convenience function for adding objects to the page
    
    Adds s_page_append() which links the passed object to the end of the
    page's object list.

commit d089b532b3b5ca2b5e155a23994ed35fb85ec4a5
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 8 18:42:41 2008 +0000

    libgeda: Make box and circle hatching functions public
    
    Allows them to be used in the GUI for hatching these objects.

commit 2f5b7e9d890953680caa4fa111c31a0be4123d97
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 8 17:16:20 2008 +0000

    Adjust MINGW32 specific CFLAGS from the suite
    
    Console applications should not build with the -mwindows flag, otherwise
    output reach the console. Conversely, we should build the GUI apps, gschem
    and gattrib with -mwindows so they don't bring up a console window when
    running.

commit 7648acbe63cf2b12e9afd3dbb4456cb4ee02512e
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 8 16:44:42 2008 +0000

    Make functions in m_polygon.c public

commit 0542fb0af9756b35641b6683dc3301bda9e4d792
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 8 16:44:36 2008 +0000

    Revert change which moved sPOINT into a private header file
    
    This structure is needed in gschem for interacting with the
    polygon routines in m_polygon.c

commit c01757cd814e7c92cb4c64a6e134aa670b9750d1
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 8 16:29:11 2008 +0000

    Add rendering code to draw hatched fill in paths

commit 42b77331701214e518a9249e07b0e04c6c6d501b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 8 16:29:08 2008 +0000

    Better path printing support
    
    Allow printing of hatched paths thanks to Ed Hennessy's code to
    hatch arbitrary polygons.

commit 7ad1508b5dfa3a38f30176a72b288d5eb68f5050
Author: Edward Hennessy <ehennes@sbcglobal.net>
Date:   Mon Dec 8 16:29:05 2008 +0000

    Implemented distance selection mechaism for path objects
    
    This patch implements the distance calculation to path objects that may
    include both line segments and Bezier curves.  Also, the distance from
    a point to a line (o_line_shortest_distance()) is enhanced to handle the
    case where both endpoints are equal.
    
    Minor formatting edits by Peter Clifton

commit 53193798aec9d4f833126b3e7d7811511c8b2cf3
Author: Edward Hennessy <ehennes@sbcglobal.net>
Date:   Mon Dec 8 16:23:40 2008 +0000

    Path selection and hatching support
    
    Added utility functions for path selection and path hatching.
    
    Edited to s/POINT/sPOINT/ and other minor formatting mods by Peter Clifton

commit 2155126bafe11b36ca5dfaa1a9c0a06a63f136ee
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Dec 8 16:18:23 2008 +0000

    libgeda: Fix doxygen headers to start consistently
    
    Use the "Qt" style /*!  */ rather than the JavaDoc style /**  */

commit 0545db388236ea7a7aaa49d8911ad96481b4978e
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 7 17:33:46 2008 +0000

    Remove some old comments better explained in commit history
    
    Comments annotated with a dates and developers initials clutter the
    code with historical details people may be reluctant to remove. Not
    all of these are still relevant, and those which are should probably
    could be kept in such a way as not to suggest code ownership. The
    commit revision log is a better place for determining authorship.
    
    Fix some whitespace in surrounding areas where I couldn't resist.

commit 27ce6d5531d9dac2bf6c1933df6ba6ff88c3d2ae
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 7 17:13:04 2008 +0000

    o_..._read(): Remove redundant variable assignemnt and tidy whitespace.

commit ae116565a078a4f781ca5c32944d0b8193d1c3d2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 7 16:59:02 2008 +0000

    libgeda: Consistent tab/spaces and sort order in Makefile.am

commit 31c00dd1779cfe122951c29b2632e2ad838d423a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Nov 24 14:59:55 2008 +0000

    libgeda: Don't prompt to run g{sch|sym}update on version 1 files
    
    These utilities were designed for upgrading files prior to the
    introduction of numbered versions, and running these utilities
    could be damaging to people's version 1 schematics.

commit 3f607ec3eefd9477d277747be089ac94e5afbd57
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Nov 24 01:35:02 2008 +0000

    Use g_get_home_dir() if we can't find the HOME environment variable.
    
    NB: We can't just use g_get_home_dir() on its own without changing
    semantics. g_get_home_dir() prefers the home directory specified
    in the passwd file, over $HOME, so we try looking for the HOME env.
    variable first.
    
    BUT: some places in gEDA do just call g_get_home_dir() directly.
    Ideally we should tidy these up to be consistent at some point.

commit 4e4ea9e5fae8436e6e830965fbb5f8b60f191d64
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Nov 23 14:24:20 2008 +0100

    doxygen: documentation for s_page, o_attrib and o_basic
    
    Added overview pictures for the page system the attribute object
    relation and some docs for the basic OBJECT.
    
    This commit aims to be an updated replacement for Stuarts
    great overview diagram: gEDA_Structures_20050108.pdf

commit d2ab7cfcc4dd21e06a3d2e9ac6d756b7968c0b7a
Author: Dan McMahill <dan@mcmahill.net>
Date:   Tue Nov 18 22:33:45 2008 -0500

    Use the SHELL variable to locate a shell for icon-theme-installer
    
    /bin/sh on some systems like SunOS (solaris) is too broken but in those
    cases SHELL is typically set to a functioning shell like /bin/ksh.  This
    repairs the install on "shell challenged" systems.

commit 626cf786f28b1c8f5f7727f30576947de1e30509
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Thu Nov 13 23:17:00 2008 +0100

    doxygen: libgeda text and and font documentation
    
    Added some more detailed description and pictures to the
    o_text_basic.c file.

commit 1d9a97190ebf91c11ae29bbab69c4871033f92bb
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Nov 9 18:23:04 2008 +0100

    libgeda: rewrote parts of o_text_create_string [#2247421]
    
    Fixed the text overbar issue if the negation line spans over
    more than one line:
      \_negation line
      with newline\_
    
    Rewrote the logic of the function, splitted it into a state
    machine part and an exectution part.
    
    It's much easier now to follow the meaning of the code, now.

commit 4cb7cfe82698bb20f0afc92bb354415143ec4a8c
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Nov 9 17:11:03 2008 +0100

    libgeda: fixed text read function for fileformat version 2
    
    Reading multiline text with file format 2 failed.
    This happend because the file format was checked for version 1.
    
    Let's check for a file format verion greater than 1 for the
    multiline text feature.
    
    The bug appears since the file format version bump in
    c2c94821ec6c9a83d0144adad7f6fa190f403af3

commit c2c94821ec6c9a83d0144adad7f6fa190f403af3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Nov 3 00:23:52 2008 +0000

    Bump fileformat verison to 2
    
    Since we've added path support, we need to bump the file-format
    version before any new release is made.

commit beae647a1e0217dc5802084a6e00522a59ad5a28
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Nov 2 20:20:32 2008 +0000

    libgeda: Emit each segment of paths on separate lines
    
    This allows greater redability of the path output, and simpler
    diffs when a single control point changes.
    
    Update the stock symbols which had paths emitted on a single line.
    Both read-back fine, but its best that we ship symbols in a state
    where a load / save cycle would not change the formatting.

commit b6f3379b8144b72492e3a9922939ba99ab4d4480
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Nov 2 19:47:37 2008 +0000

    libgeda: Attempt to fix f_nomalize_filename for win32 systems
    
    Patrick's re-written code for this made the assumption that the
    root portion of an absolute path in windows is 3 characters long,
    e.g. C:\. This is an invalid assumption to make.
    
    Unfortunatey, g_path_is_absolute() regards paths such as \foo as
    absolute, from which our code then assumed it could strip off the
    first 3 characters. There are also UNC paths such as \\server\share\
    where the root portion is an arbitrary length, which would not be
    handled correctly.
    
    g_path_skip_root() is aware of these details, and could be used to
    pick out the root portion of a path accurately, but it doesn't help
    in all cases. We could use it to determine that we need to add a
    current drive-letter to a "semi-absolute" path without one, however
    there is also the case with a path such as "C:foo", where we would
    need to insert the CWD from a particular drive.
    
    Path            ->  Root
    ----                ----
    \\srv\share\foo ->  \\serv\bar\  (fine, path is absolute)
    C:\foo          ->  C:\          (fine, path is absolute)
    C:foo           ->  C: (?)       (needs current directory from drive C)
    \foo            ->  \            (needs current working drive or UNC share)
    foo             ->               (needs current working drive and directory)
    
    Rather than trying to implement the logic to normalise paths on
    Windows, conditionally compile in usage of the Win32 API function
    GetFullPathName() when _WIN32 is defined. This implementation is
    slightly modified from the Windows portion of libiberty's lrealpath
    function. (GPL V2+).
    
    f_normalize_filename() now differs slightly in its sematics on Win32,
    as GetFullPathName() doesn't require or check that the file exists
    on disk. We could add this feature if it turns out to be required.

commit 35c1fad3cfab34053fcd850e2a0208db54558baf
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Nov 2 14:59:14 2008 +0100

    remove unused print functions from o_text_basic.c
    
    The following functions are obsolete:
      o_text_print_text_width,
      o_text_print_text_height
      o_text_print_text_height_full
    
    They are no longer used since the rework of the postscript code in the
    commit 1b6e818196f268a3ea1fca7135e413147a36ed6a by Mike Jarabek

commit a0bd1fa71f376b01212f655bfdcd9da4fb046868
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Nov 2 14:42:56 2008 +0100

    doxygen: documentation for libgeda o_text_basic.c

commit ad9d7ca705f1135a957d6e76244b164e94328ef1
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Nov 2 11:13:32 2008 +0100

    remove unused defines from o_text_basic.c ...
    
    and move some variables in front of all functions

commit 2f30918c3ae433204df9149e6b494b32e2db8559
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Tue Oct 28 22:20:36 2008 +0100

    doxygen: libgeda: fixed more warnings from the doxygen log
    
    added some documentation, too.

commit f470af7a28afe423ded6171ea3c8a2b31ff56f43
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Nov 1 20:47:41 2008 +0000

    Revert applying -Werror to compiler flags when linking with GCC (CODE!!)
    
    Depending on the gcc version, the original developers might not see the
    warning until the software gets into the end user's hands (and tries
    building it with an older/newer version of gcc).  Most warnings are
    not catastropic, but by using -Werror they are _all_ catastropic.
    
    If a developer wants to get rid of all warnings, they should either:
    
     1) run make -s and see/fix all the warnings, and/or
     2) modify the Makefile's themselves and add the -Werror flag temporarily.
    
    (Comments explaining rationale snipped out of an email from Ales).

commit 2c2bfc91b4cff115df6528d375042096d8046664
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Nov 1 16:09:26 2008 +0000

    Placeholders for fixing some warn-unused bugs in libgeda

commit 09eacbfb36e2b00758bce8d8add2f8f56cdcfdbb
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Nov 1 16:09:26 2008 +0000

    Use -Werror when building with gcc compilers.
    
    Hopefully this will help to ensure compiler
    warnings get noticed and fixed by developers.

commit f9f3eec945746a3f1ed6683fb861d21c4e8a2048
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Nov 1 15:47:01 2008 +0000

    libgeda: Remove obsolete bug comment from getcwd call.
    
    getcwd call was replaced with g_get_current_dir() call in
    commit cd70e88b8c7faa4beea8b13b846e92807a252e63

commit 01a544083a1161bfae9a976962823488e09b0ed7
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Oct 27 00:19:19 2008 +0000

    libgeda: Split sPOINT definition into new struct_priv.h.
    
    sPOINT is unused outside libgeda itself, and is not a member of the
    public API, so hide its definition in a private header file. There are
    probably many other structure definitions which are also candidates
    for being moved into the newly-added struct_priv.h.

commit 3741fec77dde128ad41921926a1f5c26f8b32d9f
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Oct 27 00:19:16 2008 +0000

    libgeda: Get rid of more unused color stuff.
    
    
    There are some completely unused externed declarations in libgeda
    relating to colors. Remove them.

commit 9cf8c8ac92c43eb50f2639c576722a287e73017f
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Oct 26 20:07:12 2008 +0000

    Rename POINT to sPOINT (as used in m_basic.c), to avoid clash on win32.

commit f7b1d8d15b0e7679332f4ab3695676aba0f890fd
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Oct 26 18:06:10 2008 +0100

    doxygen: misc fixes of doxygen warnings

commit 8898cd06ea5e7faffe349fcf6cba4660f6557d18
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Oct 26 17:35:13 2008 +0100

    doxygen: documentation for libgeda o_complex_basic.c

commit bbb3342a28c451bc40b7fa5406e5698ee3433dcb
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Oct 26 15:12:38 2008 +0100

    libgeda: removed unused box macros in o_box_basic.c

commit d4c19f00f07050376c4ddac731d7569983a1817d
Author: Edward Hennessy <ehennes@sbcglobal.net>
Date:   Sun Oct 26 10:45:54 2008 +0000

    Changed postscript output functions to use generic hatch algorithms.
    
    Changed both box and circle postscript output functions to use the generic
    hatching algorithms.

commit 69cf1b86ca4c8e4011efdbdaab3b4f858980714b
Author: Edward Hennessy <ehennes@sbcglobal.net>
Date:   Sun Oct 26 10:45:28 2008 +0000

    Added functionality to hatch arbitrary polygons.
    
    Added functions to hatch arbitrary polygons.  This patch also includes functions
    with similar signatures to hatch boxes and circles.  This patch also includes
    geometric transformations, which is required by the hatching functions.

commit 49536f111d55100ea12574a445264074fee321e3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Oct 26 10:42:58 2008 +0000

    Add place-holders for printing paths with different line / fill styles
    
    Currently, paths are always drawn with a solid stroked outline, and
    only solid filling is implemented.

commit bcaf9f8dafcd25335b61b2ea80d071bde720bbd1
Author: Cesar Strauss <cestrauss@gmail.com>
Date:   Sun Oct 26 10:41:31 2008 +0000

    Use pkg-config support for Guile if present.
    
    Using pkg-config allows easier cross-compilation, since the build
    process can use a pkg-config binary native to the build machine with .pc
    files for the host machine.

commit 19765672b4293cae3cf7237a633f7741ce3e4883
Author: Cesar Strauss <cestrauss@gmail.com>
Date:   Sun Oct 26 10:41:30 2008 +0000

    libgeda: Conditionally include sys/wait.h depending on its presence.
    
    Some platforms (e.g. MinGW) do not have sys/wait.h. In those cases,
    define the WIFSIGNALED, WTERMSIG, WIFEXITED, WEXITSTATUS macros as
    constants, allowing us to use command backed symbol library sources,
    but with reduced error handling.

commit d322f0919b078b4ae553224477678008915dfb0c
Author: Cesar Strauss <cestrauss@gmail.com>
Date:   Sun Oct 26 10:41:27 2008 +0000

    Add configure test for platform's support of the getlogin() function.
    
    If the getlogin() function isn't present on the host platform (e.g.
    MinGW), don't emit the %%Author comment in libgeda's postscript output.

commit dbd70154fa54654121c200946c161839b28c349f
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Oct 25 22:10:57 2008 +0200

    doxygen: documentation for libgeda o_bus_basic.c ...
    
    and some file headers.

commit 15c0ec6270423dc3be610fff89c6e922e0e6975a
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Oct 25 21:11:56 2008 +0200

    libgeda: removed duplicate file format definition
    
    VERSION_20020825 was defined in o_basic, but it's allready defined in
    defines.h.

commit e8324b367c8bb23536e72593192b53723d22c3d4
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Oct 25 10:51:29 2008 +0200

    doxygen: documentation for libgeda o_pin_basic.c

commit 232b3fc9ddbfaa67bf2552c4cf6dc47a736fec3e
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Thu Oct 23 21:48:33 2008 +0200

    doxygen: documentation for libgeda o_net.c
    
    added function documentations to o_net.c
    small documentation fixes in s_tile.c

commit 4043c6326d7d56e01cd878a81d1e86c0fcb774b8
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Fri Oct 10 10:33:02 2008 +0200

    libgeda: apply GList usage of always-promote-attributes [#2072230]
    
    Changed all variables from char* to GList*.
    Changed initialisation of that variable.
    Use the GList in o_complex.c to check the list.

commit a4144872c28b3d4f8d192aa31f10e77eed811542
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Fri Oct 10 08:59:42 2008 +0200

    libgeda: always-promote-attributes: accept list and string [#2072230]
    
    The function g_rc_always_promote_attributes accepts list and strings
    now. The space separated attributes in a string are marked as
    deprecated. The user should use a scm list in future.

commit 2e83bf2b37e093578088eef616e15ee361e85199
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Oct 25 20:01:50 2008 +0100

    Remove legacy PNG color specifications.
    
    The configuration files provide a way of specifying colors for PNG
    output, but these are never used -- the PNG output just uses the same
    color map used for on-screen display. Remove the redundant
    specification and associated data structures completely.

commit ee89ff1fbf0364843861c0797bb4f0d3a425e5fe
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Oct 25 20:09:09 2008 +0100

    libgeda: Remove COLOR.image_color and two unused functions.
    
    The image_color member of the COLOR struct is never used. Remove it.
    Similarly, the s_color_get_name() and s_color_image_int() are unused
    and therefore removed by this patch.

commit bbe251bc64ed2db2976a26116d22a69fe678b9fd
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Oct 25 18:57:16 2008 +0100

    Get rid of s_color_get_index().
    
    This function is very clearly the Wrong Thing, and could potentially
    result in incorrect color indices ending up in schematic files if two
    or more color map entries have the same value.
    
    This patch removes the function entirely, and modifies the Scheme code
    which uses it to simply pass color indices around instead. Note that
    the results of s_color_get_index() were never actually *used* in the
    existing code.

commit 2a4fdb13021d0153e788fe3b2fc005f273dcdf4b
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Oct 21 16:52:09 2008 +0100

    Validate calls to scm_c_eval_string(). [2105219]
    
    Because the reporter's version of Guile is broken, a lovely garbage
    collector segfault occurs if a null string is passed to
    scm_c_eval_string().
    
    For now, wrap all calls to scm_c_eval_string() with mutable arguments
    in g_scm_c_eval_string_protected(), and since the latter function
    seems to behave when passed a NULL string this bug should just go
    away.

commit 67b4f6d41a25e4847f0f611512c1c44887a18d49
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Oct 18 16:04:20 2008 +0200

    libgeda: memory leak fixes in s_clib.c and o_text_basic.c

commit cfd3bf75707dc8d031deb58d6edea3936384b027
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Oct 18 11:14:42 2008 +0200

    Makefile to convert svg images to png and pdf
    
    If inscape doesn't work, try convert.

commit e10b58d0b01553a1c600ef3a9532d1615171ff78
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Oct 18 10:44:46 2008 +0200

    doxygen documentation of st_tile and s_tile.c
    
    added svg images for s_conn and s_tile

commit 8731bb244e698f067ee18ad932240ba2b266a007
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Fri Oct 17 20:11:46 2008 +0200

    doxygen comments for the connection system st_conn and s_conn.c

commit 80ef18d6f79a12ba5a4d9269d0a77c0fa45217f4
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Tue Oct 14 19:36:03 2008 +0200

    doxygen: fixed UTF-8 encoding error
    
    generating libgeda pdf docs failed because of some non-UTF-8 characters.

commit f0a96de8b545dbd900e87db6abf54a0b6df830ab
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Oct 11 09:02:03 2008 +0200

    .gitignore: log files and source tagging files added
    
    Added the files of the "global" source tagging program
    and the logfiles of the gEDA programs to .gitignore.

commit 0a823197e4d511cc5fdfb38013808847781dd2f5
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Fri Oct 10 18:15:06 2008 +0200

    libgeda: changed object adding flag for embeded symbols [#1692626]
    
    Copying embeded symbols in gschem had ghost connections. When copying
    objects into the place buffer, the ADDING_SEL flag has to be set.

commit 92f154a486073fe0a0b224469d7e17a680985283
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Oct 8 23:12:05 2008 +0100

    Fix memory leak introduced in o_complex_get_promotable()
    
    Need to free the GList of attributes returned from
    o_complex_get_toplevel_attribs().

commit 9c79c0782ad64813a6a302f185299403853d1386
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Oct 8 22:05:13 2008 +0100

    Clean up o_complex_get_promotable and o_complex_is_eligible_attribute
    
    Use a helper function to get the list of toplevel attributes, then filter
    down.

commit d8c1f320b40451a1a83b7c442c8dc376d3d0f4e1
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Wed Oct 8 22:01:10 2008 +0100

    libgeda: function to get all unattached attributes
    
    New function o_complex_get_toplevel_attribs() that returns
    a GList of all text objects that are not attached to other objects
    like pins, nets.
    
    It will be use to get all attributes from a symbol.
    
    (Slightly modified due to merge conflict by Peter Clifton)

commit bd149a6b4797272b362ecf48a7044f0bfbf0f4bf
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Oct 8 21:57:47 2008 +0100

    Remove un-necessary "attribute" flag of OBJECT structure.
    
    Attributes can be detected just as well by looking at the
    OBJECT->attached_to pointer.

commit 47bc5e1dcd9ed7e47c600567afe1862fa8c2a63d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Oct 8 21:55:47 2008 +0100

    libgeda: o_save_objects(): Don't make un-needed casts of return values
    
    Casting just hides real bugs. The return values, and the type being
    assigned are the same - no need to cast.

commit 7188a0ad5b8ab28a5dd8c60141b5e5b36d1b0690
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Oct 8 21:30:05 2008 +0100

    When copying text in o_list_copy_to(), there is no need to set visibility.
    
    o_text_copy() copies the visibility of the object being copied, so the code
    following the call to o_text_copy() was a NOP:
    
      if (selected->attribute &&
          selected->visibility == INVISIBLE) {
        new_obj->visibility = INVISIBLE;
      }

commit 2b36577f5634ff99e919773c4e34aa2e39dbce51
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Sep 28 14:09:50 2008 -0400

    Added code to do something more sane when trying to print tabs
    
    Previously if a tab character was encountered in a text string, the
    postscript output code would output a Y with a dot on top.  This is
    clearly not a tab character.  The patch adds explict handling of the tab
    character to output 8 spaces instead.  Not perfect, but better behavior
    than before.

commit fa9ee5f3a5776cda1df419457864c0e51d8585b4
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 28 18:58:53 2008 +0100

    libgeda: Add scm_c_define for "OBJ_PATH" type for consistency. (CODE)
    
    This was missed when path support was introduced.

commit 900274f0d6b08031f7cfc18a332da6b1939a44d1
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 28 18:40:55 2008 +0100

    Fix non-literal format strings which cause compiler warnings.
    
    We should be careful to avoid passing arbitrary strings into functions
    which take printf style arguments. In that case, always use the construct
    ("%s", string) rather than passing string as the format argument.
    
    Some cases were fixed by using g_strdup instead of g_strdup_printf(),
    some simply replace printf() for puts().

commit 3f780a7f86e4c994c108146898419f4708e7fc48
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 28 18:40:54 2008 +0100

    libgeda: Fix object fill breakage caused when making o_..._new()
    
    Ensure we call o_set_line_options() and o_set_fill_options() on the new
    object directly. In a couple of places, "object_list" was used, but the
    code in commit #2550db8e1d981ccab55b7f2ae6e9932198a53b59 meant that the
    new object wasn't yet linked into that list.

commit d424abcf4e93934fd6268d9cb186f7415e0e83c2
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Sep 28 13:21:42 2008 -0400

    Removed unused OBJ_ROUTE and OBJ_THRU_HOLE object types

commit 635d287d3d0d41d431a88d7164c2de2b536c241a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 28 14:28:05 2008 +0100

    Fix path printing to obey the (output-color "enabled|disabled") setting
    
    Bug noted by Ales during testing. Thanks!

commit 53439f075b0be1edd2ae18e34f8a0f8f4d503e08
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 28 14:27:59 2008 +0100

    Rename "path" object identifier in the fileformat from "p" to "H"
    
    All other OBJECT type identifiers are upper case, and for consistency,
    now patHs are too.
    
    NB: No releases have been made since path support was added, so this
        change is still permissable.

commit b7f477143e79138c4d5d33e1dec1421b8419791c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 28 01:03:12 2008 +0100

    Make o_..._copy () return the new OBJECT without linking it into any list.
    
    Allows cleaner use of objects where we might want to insert the copied
    object into a GList rather than a self-linked list of OBJECTs.

commit 2550db8e1d981ccab55b7f2ae6e9932198a53b59
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 28 01:03:06 2008 +0100

    Make o_..._add() into o_..._new() which don't link the new OBJECT.
    
    Allows cleaner use of objects where we might want to insert the object
    into a GList rather than a self-linked list of OBJECTs.

commit 70e6c7c4e5c765a30137c0f93b4ec08fd5802030
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 28 01:02:59 2008 +0100

    Add critical warning for unknown object types in o_list_copy_to ()
    
    This makes the switch on object->type consistent with many of the other
    functions which use this construct.

commit 46b923ea26b1732c757267e77c514d15912a1514
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Sep 26 01:26:27 2008 +0100

    Fixup copy-paste comments in o_path_basic.c

commit 1fffc27a3b62cc32a70edcc1ee89ff458318c6bc
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Sep 26 00:57:52 2008 +0100

    Add support for arbitrary paths (filled and unfilled)
    
    The data-structures and on-disk format (which utiliseSVG style path
    strings) support stright line and bezier curve segments. Paths can be
    closed or open, and store line style and fill information in common with
    other geda objects.
    
    The path string parser is based on (slightly modified) code from librsvg
    version 2.22.2 (LGPL). Code from rsvg-path.c and rsvg-bpath-util.c
    (Copyright (C) 2000 Eazel, Inc.) was combined to form libgeda/src/s_path.c.
    These have been modified to use gEDA defined path data structures.
    
    The rendering implementation is based upon a small porion of the function
    rsvg_cairo_render_path (..) from rsvg-cairo-draw.c
    
    The parser still retains support the full richness of SVG path strings,
    although all instructions are subsequently normalised on to move, line, bezier
    and "close path" records. This support retained for convenience when entering
    artwork (which can be copied from an SVG editor). When saved, normalised paths
    are written out.
    
    The current rendering and shortest-distance computations are limited to
    straight line segments. Bezier segments, where encountered are treated
    as a straight line between their two endpoints.

commit 699f46d8a598c1cfa972f0ddf80e39d18c907ece
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Sep 26 00:57:37 2008 +0100

    Fix f_print_set_line_width() to emit valid postscript
    
    Previously this function emitted "%d mils setlinewidth\n". The "mils"
    portion seems to be left over from previous printing code, as "mils"
    isn't defined to be anything in prolog.ps, nor in the headers we emit.
    Our units are scaled to mils, so we can just emit "%d setlinewidth\n".

commit ec2e929742bb682be52d02818916b1f57c343e48
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 24 01:07:37 2008 +0100

    libgeda: Set complex_parent on all prim objects, not just their HEAD node
    
    Allows a primitive object inside a COMPLEX to be linked back to the
    COMPLEX without traversing to the HEAD node of the prim_objs list.

commit 45efb32383b15576cc98a95e1d93d44793e6f2e8
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 22 01:54:24 2008 +0100

    Move calls to attribute promotion code from inside o_complex_add()
    
    Previously o_complex_add() would perform attribute promotion or delete /
    hide eligible attributes depending on the "attribute_promotion" argument
    passed to o_complex_add(). Break these into separate operations:
    
    1. Get / add to OBJECT list, a single complex object with o_complex_add().
       This object has its prim_objs exactly as the symbol exists on disk.
    2. EITHER:
         Promote the eligible attribtues with o_complex_promote_attribs().
         (For GList based processing use o_complex_get_promotable(), attach
          the returned objects as attribs and place in the appropriate GList.)
       OR:
         Delete / hide eligible attributes with
         o_complex_remove_promotable_attribs()
    
    All behaviour relating to attribute promotion should be identical after
    this commit. If not, it is a bug should be reported. (This includes the
    insertion order of the OBJECT and it's attributes into the object list).

commit 806065ae428b105340fc6380918514bfe9746d86
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 17 19:34:14 2008 +0100

    libgeda: Remove unused function o_list_search()

commit 9993a0c13cc1b1aa5bb0c61a7355e89cd8f37fca
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 17 19:33:03 2008 +0100

    Remove un-necessary use of o_list_search()
    
    g_make_attrib_smob_list() and o_attrib_return_attribs() are passed the
    object they are operating on directly. There is no need to prove it can
    be found in the object list as well.

commit 52fe25b3614b70a3ab059ecd1f980ddde447d108
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 17 19:32:53 2008 +0100

    libgeda: Remove unused function o_list_delete()

commit 0090ef6ff6e9adfc8ab48d7d7aa110dbab1bed79
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 17 19:25:00 2008 +0100

    libgeda: Add convenience function o_attrib_attach_list()
    
    Calls o_attrib_attach() for each item in the passed GList

commit 68e398b00526dacc4ce1d610af192d4a2977db4d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 17 19:24:59 2008 +0100

    libgeda: Tidy / simplify o_glist_copy_all_to_glist()
    
    Since we no longer have to pass o_attrib_attach() a linked object list
    for it to find the attrib to attach, we don't have to link the objects
    up as we copy them, and can call o_glist_relink_objects() at the end.

commit 1745bca0359488bb6f8bd06d84f7ae952e48d665
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 17 19:24:59 2008 +0100

    Remove unused TOPLEVEL variable object_parent

commit 7baf5c629eb620e7db9b3fa5837cc07bdfe29f4f
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Sep 11 21:36:35 2008 +0100

    libgeda: Tidy o_attrib_attach() harder
    
    Remove searching in parent_list for the attribute we're about to attach.
    This check isn't needed, we were passed the attribute as an argument.
    Let the caller be responsible for making sure it is linked into the
    appropriate object list.

commit 6b78047686ad919b90b8119250acde3f50bd3dc8
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Sep 11 21:33:09 2008 +0100

    libgeda: Remove assertion buffer != NULL in o_read().
    
    buffer should never _be_ NULL since we catch errors from
    g_file_get_contents(), but if somehow it was, the error is
    caught more gracefully in o_read_buffer().

commit 78224abe91c881df499244aff2691432f0e61b55
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Sep 11 21:31:30 2008 +0100

    Change f_open_flags to only return FALSE when the return GError is set.
    
    Callers assuming the GError is set when we return FALSE may crash
    if we return FALSE without setting it. Such a crash was noticed with
    development code where o_read() returned NULL without setting the GError.
    
    In the current code, o_read() should never return FALSE without setting
    the GError, and those cases where it could potentially in the future are
    g_return_val_if_fail() constructs used to detect programming errors.
    Programming errors are NOT meant to be reported via the GError mechanism.
    
    Call o_read() with a temporary GError, so we can still return FALSE from
    f_open_flags() if we encounter a problem and the user has passed
    err = NULL, disabling detailed error reporting.
    
    Don't test for NULL returns from o_read(), continue as if the page loaded
    was empty. If o_read() were to return a GList in the future, these errors
    become indistinguishable from an empty list. Tests returning NULL
    should log appropriate error messages via g_return_val_if_fail().
    
    Since we don't test it, don't assign the return value of o_read() to the
    page's object_tail. We already re-assign object_tail based on walking the
    linked list from its head anyway, so there is no need.

commit eb77a42fd47ae8dfd8218fadca1eb1ab6fd6b8e0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Sep 9 01:23:03 2008 +0100

    Fix error message given when file cannot be found.
    
    The codes used in the GError are not the same as those returned in errno.
    Construct our message using the string from the GError, rather than
    incorrectly using the GError's code with g_strerror.

commit 0726171f20b716c9de69d0ae843b338d78ac22ad
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 7 23:37:45 2008 +0100

    Add comment in s_page_delete() regarding toplevel->page_current
    
    The page being deleted still has to be made current because of
    assumptions made in s_delete_object()

commit 3f6f9afbb9eb6770520f785e094169d9f2b164dc
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 7 23:37:45 2008 +0100

    Re-add wanted portions of #95923f7de815ec58819eaf94ab9332d51a28fbb9
    
    Simplify prototype of s_tile_remove_object().
    
    Don't pass TOPLEVEL and PAGE arguments which aren't needed.

commit e350d47b39bd358f55949e787511eab54b0048be
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 7 23:37:45 2008 +0100

    Revert commit #95923f7de815ec58819eaf94ab9332d51a28fbb9
    
    This commit, "Simplify prototype of s_tile_remove_object()."
    removed code to make a page being deleted the current page.
    
    This change introduced a crash when closing gschem with multiple
    pages open. We shouldn't really need a page to be current to delete
    it's objects, but this is an underlying bug which should be fixed
    before this part of the patch is re-applied.

commit b4ed5e92d203c7449b7d33e924a41b093e1de930
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Aug 26 12:55:07 2008 +0100

    Remove duplicate definitions of do_logging.
    
    Also sets the default in libgeda to TRUE.

commit 24ca3cf1c066ae4b21d4834ae0d0210fb7a78f91
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Aug 25 02:02:30 2008 +0100

    libgeda: Tidy implementation of o_attrib_attach()
    
    Various cleanup and restructuring of the code. Should be identical
    in functionality, but with an extra g_critical warning instead of
    a silent return in the case attrib is not found in parent_list.
    
    Changed printf to the console for g_warning or g_critical messages.
    Some of these cases where we can't attach an attribute probably ought
    to be caught in gschem, in which case we could make these warnings a
    higher severity, such as g_critical.

commit e9a15f504113e61933fc8ffadc4941b976dabfbb
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Aug 25 01:03:55 2008 +0100

    libgeda: Make o_list_search() emit warnings if passed NULL pointers

commit 4c335d84aed6c972899de27c7d9d4249aec6761d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 24 22:27:29 2008 +0100

    libgeda: Tidy implementation of o_complex_is_eligible_attribute()
    
    Don't pass promote_invisible as an argument, it can be retrieved from
    the TOPLEVEL * passed instead. Since we have one caller, remove the
    public prototype and make the function static in o_complex_basic.c

commit a767fbe5a20ef936f98dc91deeb8349e37bb5b94
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 24 22:27:29 2008 +0100

    libgeda: Add convenience function o_glist_relink_objects()
    
    This function is used to walk a GList of OBJECTs and ensure that their
    next / prev pointers chain up to the same objects as in the GList.
    
    Make use of this function to make o_complex_add() more readable.

commit 50396f1fecc6f26fc9b8b62fd8e8abef88e4fdee
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 24 22:27:29 2008 +0100

    libgeda: Change "C" attribute promotion defaults to match shipped config

commit c95bd0a1f21be899510e07af28d0190fc09dc469
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 24 22:27:29 2008 +0100

    Remove unused #define DEFAULT_SERIES_NAME ... defines

commit 1ffd8a568339d23a3fe6c17fbb698b455e288805
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 24 20:41:21 2008 +0100

    libgeda: Fixup some comments about attribute promotion / hiding / removal

commit c8fffac5b00946ae8d709e7947c62893615e1263
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 24 20:12:08 2008 +0100

    Remove unused toplevel variable "series_name"

commit 04d0eb73a3324d1383ba14bc3ab2834972e041b2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 24 15:01:15 2008 +0100

    Restore comment about returned strings in o_attrib_get_name_value()
    
    Restores a useful comment about string ownership which was removed in
    commit 872287f23b4880b01babed777efe7976783feab2.

commit 17a95f57912f9ee5ac63044188054948e58332ca
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 24 14:57:04 2008 +0100

    Restore o_attrib_get_name_value() returning NULL strings on failure
    
    Revert removal of this behaviour in
    commit 872287f23b4880b01babed777efe7976783feab2.
    
    If passed a location to return strings, set the pointer to NULL
    before returning FALSE for an invalid attribute. It provides a
    potentially convenient means to catch the invalid attribute.

commit 7de36c95b7b8d465024b2767466ed246e5591dc2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 24 14:56:28 2008 +0100

    Revert allowing attributes with empty value in o_attrib_get_name_value()
    
    Another un-wanted change in 872287f23b4880b01babed777efe7976783feab2.
    Attributes are not legal if they have an empty ("") value part.

commit 70590a2312e2650f61a220980f9cf58bdad88987
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 24 14:47:05 2008 +0100

    Revert "name = value" space handling in o_attrib_get_name_value()
    
    commit 872287f23b4880b01babed777efe7976783feab2 re-wrote this function
    using UTF-8 string manipulation functions, and changed a test for " "
    characters either side of the attribute's "=" to use g_unichar_isspace().
    
    This g_unichar_isspace() also tests positive for tabs and newline
    characters, making previously legal attributes illegal after this commit.
    Revert usage of g_unichar_isspace() in favour of single byte tests.
    
    An important property of UTF8 encoding is that the 7-bit ASCII codes are
    not used within bytes of a multi-byte character. Given the start of a
    chacacter in UTF8, testing if the first byte compares to the 7-bit ASCII
    code we want is a sufficient test.

commit 71607a1b433a12192039cb4a0edf62b95c63440c
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Aug 19 19:23:05 2008 +0100

    libgeda: Provide definition for do_logging.
    
    This allows libgeda to build on systems where shared libraries are not
    permitted to export symbols that are only resolved at link time.

commit b215d134d1271c6a1723e406f1a0b67be8f59bc6
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Aug 17 02:36:35 2008 +0100

    libgeda: Clean PostScript strings.
    
    Tools like PSTricks override the PostScript 'show' command to do
    magic. The existing text code only called 'show' for one character at
    a time, making such tools very hard to use.
    
    This patch draws the overbars for each line, and then calls show for
    the line as a whole. It also lets overbars be applied over multiple
    lines of text.

commit 6e8e2e48d54fa3e121d540d86ba1aabf322d3d95
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Aug 17 02:36:35 2008 +0100

    libgeda: Unbreak text accessors.
    
    Tests added in 4ad986d333e12980f92325d1a66884bc5b5388fe should have
    had opposite logic.

commit 908ea935a7bb807927402eb8f5aa6c6a703e1792
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 17 01:34:11 2008 +0100

    Add libgeda/po/POTFILES.skip for intl/plural.c
    
    Fixes make distcheck.

commit 3ac41f06858892ececf94264b0f6b6cacfd168a5
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Aug 16 22:28:52 2008 +0100

    libgeda: Add bounds validity flag.
    
    Adds a flag to OBJECT marking whether they are valid (i.e. whether
    they've been updated since the last operation which modified it). Each
    of the per-type recalc functions is updated to set the flag, although
    nothing clears it yet (this will be in a later patch).
    
    When world_get_single_object_bounds() is called, it checks the flag,
    and if not set it calls the appropriate recalc function. If the flag
    is -still- not set, it fails.

commit 4ad986d333e12980f92325d1a66884bc5b5388fe
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Aug 16 22:28:52 2008 +0100

    libgeda: Use g_return_val_if_fail in text accessors.
    
    Almost as good, and improves readability.

commit 1fa51c0ccf1cf09ba184493e9b9aa7670f0752a3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 16 19:59:57 2008 +0100

    o_complex_add: Remove un-needed save/restore of PAGE->object_tail (CODE!)
    
    (* FOR GOODNESS SAKE PETER, TRY TO COMMIT THE CODE WITH THE COMMIT!)
    
    toplevel->page_current->object_tail was saved and restored around
    symbol data loading and subsequent attribute promotion.
    
    The PAGE->object_tail is not altered during this block of code.
    This was experimentally verified during significant "real work"
    usage conducted with a g_assert() prior to the restore step.

commit 1a1460c65a9d4e0aee35e39fff0f083c95bd380d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 16 19:18:24 2008 +0100

    Remove the ATTRIB struct as it only contained one variable.
    
    The OBJECT.attribs GList now points directly at the text objects which
    hold and display the attribute name and value.

commit df8478a9706694220919f3e3f6304a351a7eca68
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Aug 16 18:10:21 2008 +0100

    libgeda: Add static update_disp_string() function.
    
    Adds update_disp_string() to o_text_basic.c, to reduce code
    duplication between o_text_recreate() and o_text_add().

commit e44826c49a0db40b0c5e981431fd005b6e8d9048
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Aug 16 18:08:31 2008 +0100

    libgeda: Add field to TEXT for storing displayed string.
    
    Sometimes, the string to be displayed is different from the whole
    string contained by a TEXT object (for instance, when an attribute has
    either its name or value unshown). When using "real" fonts we don't
    want to fix this up each and every time the string is rendered, so
    it needs to be stashed somewhere.

commit 89c9af836536c13d97fde7d8b408e084f4b0e1d5
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Aug 16 18:04:22 2008 +0100

    libgeda: Add accessors to get/set a text object's string.
    
    In later commits, direct application accesses to the string in the
    TEXT structure will be removed.

commit efedc62995467645feb5800485783c677730cc40
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 16 16:05:07 2008 +0100

    libgeda: Remove deprecated include <guile/gh.h> from o_picture.c (CODE!)

commit 288d9e67af83f03534398319d0e8ad16fa631fb0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 16 15:48:00 2008 +0100

    Move gschem defines from libgeda into gschem/include/gschem_defines.h
    
    Whilst we're at it, remove some unused definitions.

commit 51843b80f3ab5b2d5f0a3cb52bb09b9001ae80ae
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 16 15:48:00 2008 +0100

    libgeda: Delete unused #define's from libgeda/include/defines.h

commit 692a7d38eac4800e355623fe9cbbbf4ffb7c412d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 16 15:47:59 2008 +0100

    libgeda: Remove gtk header includes from libgeda.h and libgeda_priv.h
    
    Libgeda doesn't use Gtk, only a small spattering of Gdk. Improve
    cleanliness and compilation time by removing those header includes.

commit 2e87904a34cd5ad58bc8a9511dd5915adf9df405
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 16 15:47:58 2008 +0100

    libgeda: Rename gtk_[outline_]color variables gdk_... to their types
    
    Also added NULL initaliser for gdk_outline_color which was missing.

commit 11a2692a1ab8bcee14178286fd719d1ec39e6b9a
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Aug 16 15:24:16 2008 +0100

    Draw func cleanup.
    
    Rather than having libgeda require other applications to provide the
    *_draw_func symbols, libgeda should provide them itself. Other
    applications should then override them as required near their call to
    libgeda_init().

commit 938cdb93795422fceb56ee3b88bffd1602f8cdf4
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Aug 16 14:09:03 2008 +0100

    libgeda: Only update bounds in o_*_recalc()
    
    Some constructors & modification functions were updating directly
    rather than calling the appropriate recalc function to do it.

commit 62a38eefd8d3d9f84d8aeb78e2a1e365080d819c
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Aug 15 22:48:11 2008 +0100

    Make some string arguments const.
    
    In a few places, strings are being passed into functions and no
    changes are made to them. Mark these arguments as const.

commit b47f576ff69476362941eaa7ad592e6d98ec233f
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Aug 15 18:46:20 2008 +0100

    libgeda: Tidy up o_text_recreate() a bit.
    
    Mostly by adding a local variable with a pointer to the current
    OBJECT's TEXT struct.

commit 675738b3b7a0c37e3511297040c3abc59619dd0c
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Aug 14 23:27:12 2008 +0100

    libgeda: Hide o_*_recalc() from public API.
    
    Applications which wish to force recalculation of an OBJECT's bounds
    should use o_recalc_single_object().

commit 8f1a084c1e26cc08cdab08a1c44e7e802cbdbec8
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Aug 14 23:27:12 2008 +0100

    libgeda: Hide world_get_*_bounds() from public API.
    
    Applications which wish to retrieve an OBJECT's bounds should use
    world_get_single_object_bounds().

commit 3c4ccd08c2f08e37cd7b3894a073e2ae4787420a
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Aug 14 23:27:11 2008 +0100

    libgeda: Fix unused variable warning.
    
    Left over from 7fcd7db7e5b191a0d5024b129ee2c1cda64a82d7.

commit 4c15bbcf06a1840b410f33645d658322c5a38253
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Aug 14 18:55:55 2008 +0100

    Don't crash on zero snap grid spacing [2026598]
    
    If snap grid spacing is set to zero, behave the same as if snap is
    disabled.

commit 7fcd7db7e5b191a0d5024b129ee2c1cda64a82d7
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Aug 14 07:16:54 2008 +0100

    libgeda: More follow_symlinks() fixes.
    
    Make sure that follow_symlinks() plays nicely with files in the root
    directory, and also with relative paths to symlinks.

commit cfefe89a2b974b9aaa7ff13cb054565c11045b34
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Aug 13 19:42:06 2008 +0100

    libgeda: Make follow_symlinks() actually use its GError.

commit 16a171a9e37c2234d83fb3c6800370be2dd50ed0
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Aug 13 17:14:44 2008 +0100

    libgeda: Make sure GError properly freed in f_open_flags().
    
    There was a corner case where a GError used internally to
    f_open_flags() wasn't getting freed correctly.

commit 57815bd72e62999193641f301af9184c0d524cf6
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Aug 13 23:30:35 2008 +0100

    Print command is a gschem setting.
    
    Move print command from TOPLEVEL to GSCHEM_TOPLEVEL, and move static
    defaults too.

commit 46eda8a55b9197f7a24d5b04ff94cedc1abc74fe
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Aug 13 23:06:03 2008 +0100

    Name i_vars_... functions consistently.
    
    Apps should use i_vars_blah(), libgeda uses i_vars_libgeda_blah().

commit 7522ef33777ed3f6cec8dbe8b16620657c3edcce
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Aug 13 19:53:05 2008 +0100

    libgeda: Declare static variables privately.
    
    Libgeda shouldn't expose its static variables via its installed
    headers.

commit 0db6ea2341ce7cc8c631df75c4d3c30390590b29
Author: Bernd Jendrissek <bernd.jendrissek@gmail.com>
Date:   Wed Aug 13 01:55:59 2008 +0100

    Split OBJECT allocation from its initialization.
    
    Split memory allocation for OBJECTs out of s_basic_init_object(). Add a
    new helper function s_basic_new_object() which allocates memory for the
    OBJECT structure, then calls s_basic_init_object().
    
    These changes make it possible to embed an OBJECT structure within
    another struct, or to initialise an OBJECT in static memory.
    
    (Patch modified by Peter Clifton)

commit 6cf89af1dc94790e8671a2c5d760a47a31d3a6eb
Author: Bernd Jendrissek <bernd.jendrissek@gmail.com>
Date:   Wed Aug 13 01:42:06 2008 +0100

    o_*_translate_world(): Rename x1 and y1 parameters to dx and dy
    
    Makes the purpose of these variables more obvious.

commit 02da9f9d11cc04eae292a868172033e3eb6c8147
Author: Bernd Jendrissek <bernd.jendrissek@gmail.com>
Date:   Wed Aug 13 01:40:56 2008 +0100

    o_{rotate,mirror}_world(): Make error message mention the right function.

commit deca0be214ca709ffd2cedeb75919ffdb1dd232a
Author: Bernd Jendrissek <bernd.jendrissek@gmail.com>
Date:   Wed Aug 13 01:40:55 2008 +0100

    s_delete(): Delete code with no effect.
    
    If a pointer is already NULL, there's no point setting it to NULL.

commit 17c64b764cb42afc8d5b80a66361029655dd644b
Author: Bernd Jendrissek <bernd.jendrissek@gmail.com>
Date:   Tue Aug 12 23:36:35 2008 +0100

    s_basic_init_object(): Set OBJECT type according to new parameter.

commit ff25b0c07dcd59e23721cbf9d09ec2a9f41a935a
Author: Bernd Jendrissek <bernd.jendrissek@gmail.com>
Date:   Tue Aug 12 23:36:35 2008 +0100

    s_basic_init_object(): Constify argument.

commit 123f5742e323b35169479f0884a66b75104a53ff
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Aug 12 23:14:50 2008 +0100

    libgeda: Remove empty 'scripts' directory.
    
    libgeda's 'scripts' directory contains nothing (apart from a
    Makefile), so get rid of it.

commit 4ef611b6e1cc6eb47538148ce1d196d495313969
Author: Edward Hennessy <ehennes@sbcglobal.net>
Date:   Fri Jul 18 20:24:46 2008 -0700

    Altered point selection mechanism to use distance instead of just a bounding box.
    
    This patch improves the mechanism used to select objects when using a single
    point.  In addition to using the bounding box, this patch calculates the
    distance between the selection point and the object itself.  This calculated
    distance provides a more accurate means to determine the actual object the user
    selected.
    
    Signed-off-by: Peter TB Brett <peter@peter-b.co.uk>

commit 5d15eddd3e197b2cbc0bc00f9a4c02bc719aa014
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jul 29 03:42:48 2008 +0100

    Clarify temporary assigment of TOPLEVEL->complex_parent in o_complex_add()
    
    Move the save/restore of the TOPLEVEL->complex_parent variable in
    o_complex_add to be closely placed around the call to o_read_buffer,
    the function affected by this assignemnt. In the previous locations,
    the scope of influence of adjusting this variable was not clear.

commit c2b96c33851322c236d4582d6bc5d31a3485a7c1
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jul 29 03:29:24 2008 +0100

    Remove some redundant instances where TOPLEVEL->object_parent was used.

commit a90588ec6566f944756800f38f74a02f867dca87
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jul 29 03:18:39 2008 +0100

    Remove the TOPLEVEL variable internal_symbol_name which is now redundant.
    
    Also removes functions which set and free'd this variable:
      o_complex_set_filename()
      o_complex_free_filename().

commit d1ff81f8d8a1d18781f8cb7c4476417947a61cec
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jul 29 03:18:38 2008 +0100

    Remove the TOPLEVEL variable current_attribute which is now redundant.
    
    Also removes functions which set and free'd this variable:
      o_attrib_set_string()
      o_attrib_free_current().

commit e931091e28f90e7bd0f755ee30665cc5b7461b74
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jul 29 03:00:59 2008 +0100

    gschem: Combine code for operations which handle placement of OBJECTs.
    
    Replaces duplicated code related to component / text placement, copying /
    multi-copying objects and pasting from buffers with a common set of
    routines in the new file, gschem/src/o_place.c
    
    This refactoring lays the foundation to allow rotatation / mirroring whilst
    performing any kind of place action, without extensive duplicate code.
    
    All of the above operations now use a new PAGE variable, "place_list",
    rather than previous specialised variants complex_place_list, and
    attrib_place_list. Paste-buffer contents are copied into the place list,
    rather than placing directly from the paste-buffer, ensuring that any
    rotation / mirroring of the place-buffer does not change the paste-buffer.
    
    Helper functions, o_text_prepare_place() and o_complex_prepare_place() are
    added to load the place list with appropriate text, or a symbol. These are
    passed as arguments to the respective functions, avoiding the use of state
    stored in toplevel->current_attribute and toplevel->internal_symbol_name.

commit cc5ea879b0ccfc7815b43b30ddfae13941aff4eb
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jul 29 01:20:04 2008 +0100

    Add OBJECT flag "dont_redraw", to skip drawing individual objects.
    
    This flag is to be useful when handling move operations which hide
    rubberbanded objects on the page whilst a temporary copy is manipulated
    on screen.

commit 3e08939b12e6298029a9387299dcdf7a9d6db6a6
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Jul 28 00:40:11 2008 +0100

    o_glist_copy_all_to_glist(): Only deselect / reselect selected objects
    
    Objects are deselected prior to being copied, then re-selected. Check
    if the object being copied is selected before we try this, as we may
    want to copy unselected objects.

commit 95923f7de815ec58819eaf94ab9332d51a28fbb9
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 25 17:52:39 2008 +0200

    Simplify prototype of s_tile_remove_object().

commit ac56af89f55594a3739c16692bec4e5974848dc1
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 25 17:52:38 2008 +0200

    Replace TILE_LOC structure with list of references to TILEs.
    
    Removed structure TILE_LOC: now objects have a list of references to
    TILE structures.

commit 1cc266bbe45846030205aa8931cea40fe2dbdf3b
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 25 17:52:37 2008 +0200

    Rename s_tile_add_object() to s_tile_add_line_object() and simplify prototype.

commit 7e4d443eea54c8fc19833aa67ae64ed1ffba0e80
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 25 17:52:36 2008 +0200

    Rename s_tile_remove_object_all() to s_tile_remove_object().

commit e2278f9ed3c49d6226e3e721e55a940cbaed53f3
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 25 17:52:35 2008 +0200

    Remove unused function s_tile_remove_object_all_crude().

commit 83de2270e9d0f159975e833e1fec213f952c7315
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 25 17:52:25 2008 +0200

    Remove o_complex_delete().
    
    Removed function as s_delete() does the same thing.

commit b86ffc45f699781c220153e2390a54f8b823a930
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:16 2008 +0200

    Refactor hierarchy function searching for parent page.
    
    Renamed s_hierarchy_up() to s_hierarchy_find_up_page() for consistency
    and modified it to return a pointer on the page found (as other
    hierarchy find functions) instead of changing the current
    page. Added description. And finally adapted gschem for this
    refactoring.

commit 06dc1e65b688f88695e47dd38cd9022eb67bbb7c
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:15 2008 +0200

    Simplify prototype of functions for searching pages in hierarchy.
    
    Removed 3rd parameter to s_hierarchy_find_[next|prev]_page(): now
    explicitly search for sibling page of page in 2nd parameter. Also
    added description for functions.

commit 6b15947087caebaa4c85805799362c169e09adba
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:14 2008 +0200

    Rename s_hierarchy_find_page() to s_page_search_by_page_id().
    
    Moved s_hierarchy_find_page() to libgeda s_page.c and renamed to
    s_page_search_by_page_id(). Also added description.

commit d5b7c5788b0498155b583c40caf7615347e88641
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:13 2008 +0200

    Remove unused function s_hierarchy_down_schematic_multiple() from libgeda.

commit 57a4fd272e10a68e05051a9ab9309e252e2103f7
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:12 2008 +0200

    Purge AC_CHECK_FUNCS() in configure.ac in each package of unused functions.

commit 8626a1ed43da05d1b7499c4816eb372f614c0cc5
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:11 2008 +0200

    Remove unused function vsnprintf() from libgeda.

commit c50ba14cea1d60e21d587164612b1866d8e58bba
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:10 2008 +0200

    Replace case conversion functions with GLib functions.
    
    Now use GLib case conversion functions, with the added benefit of UTF8
    support, instead of libgeda string_tolower() and
    string_toupper(). Consequently these two functions have been removed.

commit a083568359e721485ddeec74fc7a870dc51a9b58
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:09 2008 +0200

    Remove unused color stuff from libgeda.
    
    Remove unused function colornametovalue(), and unused color related
    structure and macro from libgeda s_basic.c.

commit 099ece1d2669a2455501b5ee706df3016653da8c
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:07 2008 +0200

    Cleanup verification of attribute string in libgeda.
    
    Modified the test on attribute string in libgeda
    o_complex_is_eligible_attribute() to use o_attrib_get_name_value().

commit 872287f23b4880b01babed777efe7976783feab2
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:05 2008 +0200

    Cleanup of libgeda o_attrib_get_name_value().
    
    Rewrote o_attrib_get_name_value(): it now has support for UTF-8
    attribute strings ; plus it can return only the name or the value or
    both name and value.
    
    Finally adapted code wherever it can benefits this new feature.

commit 9014bf8d0a429713b642912cddcc29e1c39b9068
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:04 2008 +0200

    Remove unused function u_basic_count_char().

commit 25a40b882113ba6b710b58ad85e7cf7804d3a4ac
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:02 2008 +0200

    Remove unused functions u_basic_strip_trailing() and u_basic_has_trailing().

commit a76cf5cdda91c7070f4765107d3f8be89bbd05b6
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:01 2008 +0200

    Remove unnecessary strippings of trailing directory separator.
    
    These strippings is no more necessary as GLib functions for building
    filenames (in particular g_build_filename()) takes care of any
    trailing directory separator for us.

commit cd70e88b8c7faa4beea8b13b846e92807a252e63
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:03:00 2008 +0200

    Replace getcwd() with g_get_current_dir().

commit 90b0ece453efc80490c6c277386f4f5f7bfdc4af
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:02:59 2008 +0200

    Simplify build of filenames with g_build_filename() (!).
    
    Modified code where possible to use preferably g_build_filename()
    instead of g_build_path(), or g_strconcat() and friends.

commit 19d6d561eb5aea8e580d6ecf72d20bdfc3180ace
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:02:58 2008 +0200

    Remove unnecessary check following memory allocation with GLib g_malloc().
    
    There is no need to check g_malloc() returned value as when the
    function fails to allocate memory, it terminates the application.

commit a3513b7e6dc7bf6c36d95d4da86082beeb79831d
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:02:57 2008 +0200

    Replace standard string manipulations with GLib string utility functions.

commit da1d2e7b304f9d832bdee9c8dfb9fe4604e19cc9
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:02:56 2008 +0200

    Remove tests for NULL prior to freeing with g_free().
    
    Testing if pointer on memory to free is not NULL is unnecessary
    since g_free() does the test itself.

commit ac84ca9171138a0774b4314fd8d8ee148d109474
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:02:55 2008 +0200

    Rewrite f_normalize_filename().
    
    Modifies f_normalize_filename() to avoid using realpath() and
    resolving symlinks. It is derived from the GNU Lib C implementation of
    realpath() with glib GString and glib portable file-related functions.

commit 2800c05634d2c66f586adc1dd0430b0d069686de
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:02:54 2008 +0200

    Rewrite s_expand_env_variables() with glib GString.

commit c1b6775eb651c3e576eb50d9d676cf179e0b2b21
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Fri Jul 11 16:02:53 2008 +0200

    Rename expand_env_variables() to s_expand_env_variables().

commit 8479d01b6a4a819ae105659a9b9f1e6ab2d85136
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Jul 6 22:03:02 2008 -0400

    Updated all ChangeLogs by running ./update-changelogs.sh 1.0-20070526..master

commit 8773525a45c1e33a2f020ac511f628e04ff373b9
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Jul 6 22:01:37 2008 -0400

    Ran make update-po in all po directories (in prep for a new release)

commit 8d5bf82866455f9a03ec311ba4b64f3ec48f7f4c
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Jul 6 21:52:34 2008 -0400

    Added file which was being "recommended" by running make distdir

commit 97c1b01e1c95d2f8a334d916ffc60d35797782c2
Author: Ales Hvezda <ahvezda@-e false.(none)>
Date:   Sun Jul 6 09:34:01 2008 -0400

    Fixed up all icon-theme-installer files to work with non-bash
    
    Grabbed the latest icon-theme-installer files from the pcb repository
    since they have been fully patched to work with non-bash shells.  On
    my ubuntu system, /bin/sh is linked to dash which prevented me from
    running the previous version of icon-theme-installer.  This commit
    is related to a7e7a28613abe4705ec01011d0f4308ff024251b

commit 7ae9572f269c8b973bb4a38014e28dbc10cdcb32
Author: Ales Hvezda <ahvezda@-e false.(none)>
Date:   Sun Jul 6 08:38:24 2008 -0400

    Bumped versions to 1.5.0/20080706/34:0:0 for the next development release

commit e5d57e6811046c1899dd32d5c705accfe1857574
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Wed Jul 2 15:32:27 2008 +0200

    Protects menu items from garbage collector. [#2001303]
    
    Fix for Bug #2001303, "segfault with local gschemrc". Protects the
    scheme menu_items in structure st_menu for the time the C code use
    them.

commit 2c5dfb6823faeb76004c8b6afdcb2ed3cdf483c5
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Wed Jul 2 15:32:17 2008 +0200

    Add support for mirror flag when adding embedded components. [#1977778]
    
    Fix for Bug #197778, "gschem: embed-unembed breaks with mirrored
    symbols". Adds a missing 'mirror' parameter to
    o_complex_add_embedded(). The mirror flag read from a schematic file
    for an embedded component was silently discarded.

commit eb0846161bf916d68280bddf2d7dd244e0fe6002
Author: Patrick Bernaud <b-patrick@wanadoo.fr>
Date:   Wed Jul 2 15:32:07 2008 +0200

    Improve the search for already opened page in s_hierarchy_down_schematic_single(). [#1909932]
    
    Fix for Bug #1909932, "gschem: page manager confused about hierarchy".
    
    When looking for a sub sheet in s_hierarchy_down_schematic_single(),
    the filename may not have been suitable for comparison to opened page
    filenames. It then failed to identify a sub sheet as already opened
    and opened it again. Adds normalization to filename prior to
    comparison.

commit a7e7a28613abe4705ec01011d0f4308ff024251b
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sun Jun 29 19:00:10 2008 +0200

    Changed shell from bash to sh in icon-theme-installer
    
    Changed shell from bash to sh in icon-theme-installer.
    This commit is still not tested in non-bash systems.
    
    Applied partially geda patch #1978537 (only bash to sh
    change, not removal of $INSTALL_DATA_EXEC check) from
    anonymous contributor and Dan McMahill's test case
    change in line 103 from:
    
    http://pcb.cvs.sourceforge.net/pcb/pcb/icon-theme-installer?r1=1.1&r2=1.2

commit 0a770cff6b42dd3ba80215482ee7c4f230b3cf0f
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Jun 14 19:41:03 2008 +0200

    libgeda: fixed EOL handling for mixed windows/linux usage
    
    A file that is created on windows with windows EOL characters
    may not be read into gschem without errors on Linux. This fix
    strips off leading and trailing CR characters when reading a
    single line from the textbuffer.
    Bug reported by Thomas Arndt [#1993952]
    The bug was introduced with commit 40833189228f8edeff

commit 199743d5ae8e89fa4065e544d998ebaeab1c1cd6
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Jun 15 09:51:17 2008 +0200

    libgeda: fix memory leak introduced with the last commit.
    
    The function g_path_get_basename returns a newly allocated string.
    This string has to be freed after usage. Thanks to Peter C. for the
    hint.

commit eaa61c6968d3e17d0525cc476bf4c6d54ebd494d
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Jun 14 11:04:52 2008 +0200

    libgeda: mingw fix for basename
    
    Replace the basename() function by the glib function g_path_get_basename().
    Patch written by Thomas Arndt

commit 3db78903fb7bd41a0f2d8b4022c2afa18055a54a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat May 10 01:49:22 2008 +0100

    Calculate bounds of new object when copying an embedded complex.
    
    Adds call to o_complex_recalc() in o_complex_copy_embedded().

commit ffa5323869c37b16634f03f41896fb9df6e5f7ad
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Apr 20 22:30:25 2008 +0200

    libgeda: removed fix_x, fix_y functions
    
    This functions are no longer uses after switching to world coords.

commit b4aade65f2488b4a7fd74f34a90225c0da7ec9f3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Apr 18 14:11:07 2008 +0100

    libgeda: Remove unused function i_vars_setnames

commit af0d9f2e8825f7d23c691deec0e70f1eaaac0e38
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Wed Mar 5 05:27:41 2008 -0500

    Updated version to 1.5.0 to mark the start of the next development cycle

commit ffd2298ca90e9e8616a2804c5708cb3d2ccb0a83
Merge: b62e017... 1a49d46...
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Mar 1 09:43:53 2008 +0100

    Merge branch 'magneticnet'

commit d68fe1307f4f98aa51844bbf378d5d0a9467b8b2
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sun Feb 24 10:24:13 2008 +0100

    libgeda: bugfix for bounding box calculation of mirrored arcs
    
    A mirrored arc has a negative sweep angle (called end_angle).
    This wasn't properly catched in the bounding box calculation.
    Bug reported by Kai-Martin Knaak on geda-user mailing list.

commit 855f29d44df73caef03ee49bd58f19897f31b69d
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Fri Feb 22 21:46:21 2008 +0100

    use tiles to find connections for magnetic net mode
    
    This commit changes the magnetic net code to use the tiles.  This
    reduces the load when checking all the possible connections for every
    mouse movement. The patch adds a library function to get object lists
    which may contain objects in the region of the magnetic reach. In
    o_net.c the object iterator code has been changed to use the new library
    function.

commit 4d441af32c63bb847ba62b4fb502fd1ed2d39c7c
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Fri Feb 8 20:47:52 2008 +0100

    Fix missing %s in two strings.
    
    Two strings missed %s. Thanks to Peter Clifton for reporting.

commit 5757ce41ac1846814b0e96885942f2e011f2d3b7
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Feb 1 13:06:15 2008 +0000

    Rename translations to drop un-needed ISO-3166 country codes.
    
    From Debian bug #336796:
    
    Using a country part in a translation file is a discouraged practice
    except in very few cases (such as pt_BR).
    
    Using a fr_FR.po file instead of a fr.po file prevents users of fr_CA,
    fr_BE, fr_LU, fr_CH and all other existing and future locales for
    French to benefit from the French translation of the program.
    
    In general PO files should only be named after the
    ISO_639 code of the given language and should not use a country part
    with a ISO-3166 code. The only accepted expcetions to this are:
    
    -pt_BR for Brazilian Portuguese and pt alone for "standard Portuguese"
    -zh_CN for "Simplified Chinese" use in mailand China and Singapore
    -zh_TW for "Traditional Chinese" used in Taiwan

commit 5768fbf65867a586c5f5eb2ac0dba573d1c9912e
Author: Dan McMahill <dan@mcmahill.net>
Date:   Fri Feb 1 00:25:52 2008 +0000

    Add missing libgen.h
    
    Add a check for libgen.h and if found, include it.  This provides
    the basename() prototype.

commit d848ac7f515187a536f10f9e246c1234f648d723
Author: Bert Timmerman <bert.timmerman@xs4all.nl>
Date:   Wed Jan 30 22:25:46 2008 +0100

    Applied Dutch libgeda translation patches from the mailing list

commit 22396b286d50c454287ff94a3c3de414b3f9a08a
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Jan 26 19:27:15 2008 +0100

    update the pinnumbers if a slot attribute is deleted
    
    Update the slots whenever a text line that is attached to an object
    gets deleted. The update checks the slotting even if there's no slot
    attribut. This catches the case when the user deletes a slot attribute
    and the current displayed pinnumbers are not the ones defined in the
    symbol. This commit fixes [#1880221]

commit b202ee510fb90cedd038ce5ec41cc6de453dbeea
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Jan 27 11:47:13 2008 -0500

    Updated ChangeLogs for the 1.4.0 release

commit 5e4ee69035885d76fba09aa453789be68481c69a
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Jan 27 11:46:06 2008 -0500

    Ran make update-po one more time before the 1.4.0 release

commit 464f7c5fadc97f0ca5cd80ed343ec9f427938265
Author: Bert Timmerman <bert.timmerman@xs4all.nl>
Date:   Sun Jan 27 10:54:27 2008 +0100

    Applied Dutch libgeda translation patches from the mailing list

commit 3d43c5d642ebe12a69380e8accf5533d338ee5e5
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Jan 26 20:07:45 2008 -0500

    Bumped versions to 1.4.0/20080127/33:0:0 for the next stable release

commit 9a4bbc16c5c0e408aabbc69c1c1cc10cb4b7675f
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Jan 26 19:48:29 2008 -0500

    Manually ran make update-po in all po dirs in prep for the 1.4.0 release

commit 0f8f2cb351e6f594b8a00f2cd447562574f1c0d2
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Jan 12 18:37:27 2008 +0100

    forward status messages from the library command to the log
    
    The list and get command read data from stdout, thus the stderr can
    be used to catch the status messages from the library command.

commit 082c6d6778d218aabd6df20a955d211335c2f43c
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Sat Jan 12 18:08:53 2008 +0100

    fixed error handling bug in run_source_command() [#1869941]
    
    WIFEXITED returns 1 if the command has exited normaly. Well
    an error is also a normal exit. A kill would be not be normal.
    Thus we need to check WIFEXITED and WEXITSTATUS.

commit ec4b6287bbb4f709a7d3258a7474ec716933ca4b
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Fri Jan 11 01:23:39 2008 -0500

    Manually ran make update-po in all po directories in prep for the 1.3.1 release

commit d2047bc2a06e6534ff32464d36f8a95aec11b9d7
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Fri Jan 11 01:11:12 2008 -0500

    Updated all ChangeLogs for this release (1.3.1)

commit 8502202774e3fd9abe63b24cc88ab1ec8491a3b9
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Fri Jan 11 01:09:02 2008 -0500

    Updated the revision of libgeda for the 1.3.1 release.
    
    1.3.1 libgeda should be completely backwards compatible with 1.3.0 libgeda.

commit 6ac1f25c4a2d88c1e5825aac74265cf442680954
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Jan 11 04:44:32 2008 +0000

    Fix invalid memory access with auto-save filename being used after free.
    
    Use the "full_filename" variable in f_open_flags() as a base for the
    auto-save filename. Previous code uses the passed in "filename" argument,
    however in some cases this argument points to memory which is free'd in
    f_open_flags() after determining "full_filename".

commit 24c736f9502e1cbeac78c69310e9a900e334900a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Jan 10 01:52:41 2008 +0000

    Remove unused code to shift pinseq attributes when changing slots.
    
    Code was commented as it broke pinnumber= updating, and is no longer
    required now spice-sdb slot handling is fixed.

commit 588809da98f738e6c64c2ec064f0dc2fb12dbd51
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Mon Jan 7 20:21:31 2008 +0100

    Updated libgeda's spanish (Spain) translation.

commit 1dc4ba8a72a5d6f596fd48088d42e755164e25b5
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Mon Jan 7 18:45:53 2008 +0100

    updated german translation of libgeda

commit d6e64f7b3b2ed73fda88462e3bfc5acebba3ac2b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Jan 6 21:13:19 2008 +0000

    libgeda: Mark more translatable strings with _()

commit 1556ae85b049e89d77507a636dc42c726bcd328d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Jan 6 21:00:40 2008 +0000

    Set encoding for translations in libgeda to UTF-8

commit 048bd6f8e2fc1c5f5b01ff3f1cad3a7c9bf43f3e
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Jan 6 20:36:52 2008 +0000

    Allow configuration of the scroll wheel's action to match GTK app. norms
    
    Adds configuration parameter (scroll-wheel ...) which takes either
    "classic" or "gtk" as a string argument. "classic" remains the default.
    
    Tidies x_event_scroll() to deal with the various options in a neater way.

commit 0a6a005daec93dff34c41a53815d9ff10c1be20b
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Jan 6 02:04:26 2008 -0500

    Oops, added forgotten and important file to EXTRA_DIST

commit 624c7a0c95509cda1a118503077979421c93bb0f
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Jan 5 21:21:06 2008 -0500

    Added libgeda*.pot files to ignore this machine generated file

commit e800618afe70c93c3739d725172dfdba95386232
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Jan 5 21:14:51 2008 -0500

    Manually ran make update-po in all directories

commit b2380c0f70344117be7045a5fc1483698fdf4358
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Jan 5 20:57:51 2008 -0500

    Bumped versions to 1.3.1/20080110/32:0:0 for the next development snapshot
    
    Note, libgeda's so did not change at this time.

commit 6b36311d3be00d9b4901a876f5f4da4f892e3bce
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jan 5 22:10:31 2008 +0000

    Remove extraneous printf where they duplicate log messages.

commit 9aca06cdb70c3fc9595beb82713eedd90a7e1d16
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Fri Jan 4 12:57:58 2008 -0500

    Added checks at the autogen.sh stage for missing m4 macros
    
    This commit adds a autoconf friendly m4 macro to check for undefined
    macros (originally written by Peter Brett).  This macro is used in
    configure.ac.in to check for a few troublesome macros (guile, nls,
    gettext, intltool) that are usually missing because a required -dev
    package is not installed/missing.

commit 72581a91da08c9d69593c24756144fc18940992e
Author: Werner Hoch <werner.ho@gmx.de>
Date:   Thu Jan 3 13:05:57 2008 +0100

    libgeda: initial german translation de_DE
    
    translated all message strings
    added de_DE to the LINGUAS file

commit 1697a90e5465dde296199745991e76df8f68c3be
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Jan 2 15:41:07 2008 +0000

    Changed --with-xdgdir to --with-xdgdatadir for consistency

commit c4c409c1cf46a55b74017872d15b6f48d51ce521
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Jan 2 15:35:02 2008 +0000

    Change --with-kdedir to --with-kdedatadir
    
    This allows greater similarity with the --with-xdgdir paths, by moving the
    "/share" portion of the KDE mime install paths out of the Makefile.am and
    into the "kdedatadir" expansion.

commit ee47fc5fa6d418a54af62a55a78e508d95a0f913
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Jan 2 02:46:14 2008 +0000

    Change usage of ${datarootdir} to ${datadir} for autoconf compatibility.

commit d81a0717852c1b6da5b99f6cf0dc93f6ddcdc87f
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Tue Jan 1 14:37:12 2008 -0500

    Added configure.ac into libgeda's .gitignore file

commit 1a1cbb29f5d1ff118fb91235463e57a48ba81054
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Tue Jan 1 14:29:27 2008 -0500

    Changed libgeda's configure mechanism to be similar to gschem's configure.ac.in
    
    In order to allow a wide range of gettext versions to be used, gschem has
    a configure hack that dynamically figures out the gettext version and creates
    configure.ac from configure.ac.in.  This hack is now in libgeda with the
    additional improvement that if configure.ac.in changes, configure.ac and
    configure are automatically recreated.  Added a special mode to autogen.sh
    (recreate_configure_only) to support this improvement.

commit 5f3cde4f20975275cb38b52cd3155fda41201209
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Jan 1 17:24:18 2008 +0000

    Fix configure checks for Guile (again).
    
    The previous patch missed changing the gschem configure script
    (generated from configure.ac.in), and got the logic wrong anyway.

commit b9ffb4675fbca6e92a4f713c28486e74dcbbeef4
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Jan 1 15:42:13 2008 +0000

    Fix configure checks for Guile.
    
    Quote variables to protect them and alter version test logic so that
    it doesn't think version 2.1 is older than 1.8.

commit 2f7e3ae60480743a8268d392272d05bd77dd75c8
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Mon Dec 31 20:43:08 2007 -0500

    Updated all ChangeLogs for the past development release (1.3.0)
    
    This step was supposed to happen before the 1.3.0 tarballs were released.
    These changes will be picked up in a subsequent release.

commit ac4f29f0711a3e612fa5d94d1e3d771852bf42bb
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 30 23:54:25 2007 +0000

    libgeda: Unbreak g_scm_c_eval_string_protected()
    
    Fix bad macro definition introduced in commit
    8575431a17efb7a753649ae16087dc8f203981ce by turning it into a proper
    function.

commit 0525e60123ab47ff62c9c30f4a3159ca75bbb456
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 30 20:15:19 2007 +0000

    Add TAGS to some .gitignore files.

commit 38c3ac02492a441782e030162cfacf745c1521ad
Author: Bert Timmerman <bert.timmerman@xs4all.nl>
Date:   Sat Dec 29 16:05:29 2007 +0100

    Updated Dutch translation for libgeda.
    
    Minor changes on four translations.
    Changed the header of the file for a meaningfull
    description and copyright notice.

commit ba474af87840a0d49e04a00de96b7df2944c09bd
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Dec 29 09:57:43 2007 -0500

    Bumped versions to 1.3.0/20071229/32:0:0 for the next development snapshot

commit 5852e531717ba947b7acca39e50f71edd5921f06
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Dec 29 09:49:46 2007 -0500

    Fix problem where changing slot= would not update pins
    
    Known to break spice-sdb's slotted component handling, however users
    are much more likely to encounter the former breakage.  Original patch
    removed the offending code, but this patch just #if's it out for now.

commit 7c82238f3b2433607f8af6c873af99a642f05409
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Dec 29 09:22:38 2007 -0500

    Ran make update-po in all po directories in prep for a new release.

commit fe7d974a8c2dd0a5b96bbd41b2691cfd5c8a7ecb
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 29 11:25:17 2007 +0000

    libgeda: Update English (British) translation.

commit 27d11542d45423d0febb0f7ef95c8aaf2e96a7a1
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Dec 29 00:02:06 2007 -0500

    Added new i18n files to .gitignore to be ignored

commit 91726e0964602983e8f896be86aa056afc96baff
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 29 01:41:14 2007 +0000

    Change image embedding format to base64 encode the original files
    
    Previously, the format was a base64 encoding of serialised output from
    the gdk_pixbuf used to store the image internally. Due to another bug
    (now fixed) it is known that no official gEDA release could re-load
    the embedded images that it saved. This hopefully provides some
    justification as to why its OK to change the embedding format here.

commit 70293381f5af9957afbd3e3fd0614d838738c7a7
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Dec 29 01:37:02 2007 +0000

    Compute picture aspect ratio in double arithmetic, not integer.
    
    Avoids a nasty bug where coordinates would overflow when attempting to
    grip-adjust the picture size due to this ratio being incorrect.

commit bebdeefaf0f8421fa106151f36c63e7f3a69a17b
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Fri Dec 28 19:14:36 2007 +0000

    Add Spanish translation for libgeda

commit d197bd400dd217aba91e9b72a9b1ce8bd4c387ec
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Dec 28 18:57:09 2007 +0000

    Move picture embedding code from o_embed.c into o_picture.c

commit 9eed09a311e2289740feb635f1344835a8f86cde
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 26 21:35:02 2007 +0000

    Fix spelling mistake in libgeda

commit 03ac3e16fec8b35e8e1d453d6504bd963bf43149
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 26 00:37:18 2007 +0000

    Fix make distcheck broken when adding KDE mime registration files
    
    Add .desktop.in files to EXTRA_DIST and the output to DISTCLEANFILES.

commit 127cff28ce52f41ce0972e8109049ecb78b09cc3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 25 23:09:28 2007 +0000

    Add English (British) translations for libgeda and gschem

commit dbb2a46a6ddba05cc5f71f735a6049b830eeda0d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 25 22:58:28 2007 +0000

    Fix spelling mistake in libgeda

commit 1aec0fd150a5a73d4bb7bbdd4b058e04819b9a21
Author: Bert Timmerman <bert.timmerman@xs4all.nl>
Date:   Tue Dec 25 21:47:10 2007 +0000

    Add Dutch translation for libgeda

commit de9efa23180c88bfd2e0949a2e41f0d861b36486
Author: Bert Timmerman <bert.timmerman@xs4all.nl>
Date:   Tue Dec 25 21:39:58 2007 +0000

    Fix spelling mistake in libgeda

commit 71c7d0b680117dfb51760f1523aa5293a56ea0d9
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 25 05:25:16 2007 +0000

    Add .gitignore files in libgeda/m4/ and libgeda/intl/

commit 44310ac20e15d28122eed9f6f532dc68bcf3c26b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 25 05:23:12 2007 +0000

    Fix .gitignore entries for generated KDE mime .desktop files

commit b9f741e0906295754fa5e1301cf3079aee88ff55
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 25 05:12:40 2007 +0000

    Remove intltool-*.in files during make maintainer-clean

commit d7840241c1c8adba3ada978ac1f42b5b2f5b87bc
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 24 17:18:37 2007 +0000

    libgeda: Use gettext to translate messages.

commit 45f02d40b7654a787589707f087ab33aea581787
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Dec 24 12:25:53 2007 +0000

    libgeda: Wrap translatable strings in dummy _() macro.

commit 7589460bcbd8ba7683645b9b5aecd5e0b14ad6d2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 23 23:31:38 2007 +0000

    KDE mime registrations use title-case

commit 5218cee423a077d46e2ba02b5697f9058944c2a8
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 23 23:29:46 2007 +0000

    Fix typo in icon name for gsch2pcb project KDE mime registration

commit 2cbbfb530707d215d81dd876afcc8e78beec646c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 23 23:08:57 2007 +0000

    Add .desktop versions of MIME registrations for older KDE desktops
    
    Adds new ./configure option to libgeda, --with-kdedir=PATH. For system
    wide installs, this should be left to its default, ${prefix}. If
    installing in a home-directory, it should be set to /home/<USERID>/.kde

commit a4b3077e848339d9db363d89b4714e09228b3297
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:53 2007 +0000

    libgeda: Load gafrc.d scripts with protected eval.
    
    Stops one bad gafrc.d script blocking system-gafrc from loading
    completely.

commit cf220890a4f70ba16fbe3fc5c76e6e371720c5cb
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:53 2007 +0000

    libgeda: Make protected evaluators available from Scheme.

commit 8575431a17efb7a753649ae16087dc8f203981ce
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:53 2007 +0000

    libgeda: Add protected string evaluation functions.
    
    Add a protected equivalents to scm_eval_string_in_module() and
    scm_c_eval_string().

commit 9b1b44f0268271fc167ba5040ab3086cd2901706
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:53 2007 +0000

    libgeda: Add g_scm_eval_protected()
    
    Add a function that allows evaluation of a Guile expression safely,
    catching any exceptions and logging error messages.
    
    Modify the rc file helper function g_read_file() to use this new
    infrastructure.

commit eb82d0c6a2a3ae3eb6023375c4db10e0eaf9fb91
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:53 2007 +0000

    libgeda: Set Guile debug flags to aid debugging rc files

commit f3be59545162de9a575cdb3d7bc9953377bdc74d
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sun Dec 23 15:22:47 2007 +0000

    libgeda: Use a dedicated header for Guile 1.6 compatibility.
    
    Also adds some more useful checks & definitions for 1.8 functions
    missing from 1.6.

commit eaa1db9f3913126b157cdc283b34250d5497530f
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 23 06:13:15 2007 +0000

    Fix $(DESTDIR) prefix for MIME database update in libgeda

commit 375e53fc26a8e6f8f13f3f188b50987290525467
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Nov 18 22:55:34 2007 +0000

    Add desktop mime integration and icons to libgeda
    
    The schematic and symbol mimetype icons and registration data were
    contrinuted by Tomaz Solc, and subsequently modified by Peter Clifton,
    including creation of a gsch2pcb icon in a simlar style. The page outline
    is from the GNOME icon theme's text-x-generic icon by Jakub Steiner.
    
    Uses the intltool framework to translate the mime registration file.

commit fdfaaf2d4a7a92eaeb9b4a212a075c639bc9a022
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Dec 23 05:30:21 2007 +0000

    libgeda: Add missing noinst_HEADER prototype_priv.h to pass distcheck

commit f1d4aeb308de9b805ff0b21d7e94b09bc01dc569
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Dec 22 21:01:35 2007 +0000

    libgeda: Use goto to tidy some error handling in f_print.c

commit 091c7484296176f9364ed5663e7a2db4b2920f4b
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 21 17:44:15 2007 +0000

    libgeda: Split out private prototypes to new header file.
    
    Split out function declarations for functions intended for libgeda
    internal use only into a new prototype_priv.h.

commit 52bb24c3868d14b12480037dc8f0b1450cc78d7f
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 21 17:26:30 2007 +0000

    libgeda: Make sure that Guile smobs are initialised.
    
    Rather than initialising them in gschem, which is a WTF.

commit 8fd1e724fbb7f9b2e109a829c700daf11521c08a
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 21 17:26:30 2007 +0000

    libgeda: Now we assume GLib 2.4+, use g_setenv().

commit 39454be8d19bc73e3fb4b4a688a93ddc411d01c0
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 21 17:26:29 2007 +0000

    libgeda: Compile C files in alphabetical order.
    
    Purely because it looks nicer.

commit 559caed6b573a19f287fb0f1b35e46726acf9631
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 21 17:26:29 2007 +0000

    libgeda: Add a private counterpart to libgeda.h for internal use
    
    Provide a single header file, libgeda_priv.h, which includes all
    libgeda headers and their dependency headers in the correct order.
    Change libgeda C files to include just this header rather than all the
    individual headers explicitly.  This will make it easier to split out
    the libgeda headers into public and private declarations.

commit 3b040cf8d60a8fbe45f6e7c5f3d71a3dea119357
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Dec 19 17:48:57 2007 +0000

    Add intltoolize to the build infrastructure
    
    Provide intltoolize infrastructure for translating .desktop and MIME
    XML files. Run gettextize after intltoolize if required, so that the
    infrastructure for providing libintl on a non GNU system still works.

commit eae5c4643691bf4a675f6df0d31d671715089939
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Dec 18 14:39:34 2007 +0000

    Fix resolution of printed images to match that of the original data.

commit a146b68dfbffe227f3ab89af2beefb7627e26daa
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Dec 8 14:57:33 2007 +0000

    libgeda: Clean g_assert() usage.
    
    g_assert() is a heavy-handed approach to sanity checking because it
    kills the user application on failure.  It's better to use
    less-destructive methods.

commit 405e7a33706d1e82d53c8d607aad11f9be8ad559
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 7 21:48:43 2007 +0000

    General log handler improvements
    
    - Handle all messages above "debug" level
    - Send all messages which are neither "message" nor "warning" levels
      to console using default log handler
    - Don't print to console from the gschem log handler

commit 668ada22ec0f2a48adffcc62daacc6876108ee71
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 7 21:48:17 2007 +0000

    Pass all log info to x_log_update_func
    
    In order to enable applications to do interesting things with log
    messages, they need to have all of the log info (including severity
    and log domain).

commit c8a8611f87b3031e5fe1abb1a8602401ed459c97
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Nov 29 16:55:39 2007 +0000

    libgeda: define s_log_message -> g_message
    
    s_log_message was a verbatim copy of the definition of the g_message
    macro from GLib's gmessages.h.  However, we're actually always going
    to include that header anyway -- this patch removes the unnecessary
    duplication of code.

commit be301530f468e4d0057b3be68e218ac444c2d2be
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 7 17:20:55 2007 +0000

    Make libgeda's f_open() & f_open_flags use GError.
    
    This patch actually *removes* error message output from file loading
    errors is some cases.  This is for the sake of keeping the patch
    concise, and will be addressed in later patches.

commit 9998632193573058a18c9dc96c7e9a3b1aa0dcc3
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Dec 7 17:19:57 2007 +0000

    libgeda: Make o_read() use GError.

commit 2d60c8fd165dbfd577199c2237d44e33655eb8c1
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Dec 6 21:08:32 2007 +0000

    libgeda: Add f_has_active_autosave()
    
    Add a helper function for checking if a file has an unresolved
    autosave file.

commit 3dc89aa9635b6eac150e837f24b51811c7504e88
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Dec 4 23:00:35 2007 +0000

    libgeda: Add f_get_autosave_filename()
    
    Add helper function for getting the autosave filename for a given file.

commit 53cbd813e6d601f86618aa083d656d7aeccb7705
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Dec 4 22:56:01 2007 +0000

    clib: Speed up caching by using pointer rather than string keys.
    
    The initial version of the symbol cache used the symbol name as a
    string as the key, mostly because of the obnoxious 'const' keywords I
    had put in the definition of s_clib_symbol_get_data().  Having found a
    way around that, using a pointer to the symbol structure as the key is
    much faster as it avoids costly string comparisons and allocation of
    heap memory (as well as being slightly more elegant).

commit 9d2d7b0042a75f0494a240ceb79e60173d2e55d7
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Dec 4 16:17:59 2007 +0000

    Fix messages when parsing rc paths.
    
    Often, the full path to an rc file was being output twice in the log
    message given when parsing rc files.

commit d3d40d46285c5d0e75be9052d9f23480f9e8bff5
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Nov 28 23:20:44 2007 +0000

    clib: Cache symbol data between library refreshes
    
    Adds a cache for symbol data, which is flushed whenever the available
    component libraries are changed or rescanned.  This should speed up
    large component copying operations.

commit 3106000f091b02eb199826c0a0d74a1407f883b0
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Nov 29 12:58:17 2007 +0000

    libgeda: Correct header guards for defines.h

commit 0c2871d04305a0fcaf3b6b45a1317a491594a3f4
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Nov 29 01:29:18 2007 +0000

    clib: Clarify naming for search cache

commit 7a2ad70e9880b77957dd44d850ae85a08d615640
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Nov 29 01:29:18 2007 +0000

    libgeda: Clean g_assert usage in s_clib.c

commit 019d53dce27bdbbb9871510ce34bb995664290c2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Nov 28 17:24:27 2007 +0000

    Simplify o_mirror_complex() coordinate calculation.
    
    No mathematical changes, just consolidate x and y coordinate
    expressions onto one line each, and avoid using temporary variables.

commit 0312f7d113e616b0bb55880aa9d23a5197e821a5
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Nov 28 17:24:27 2007 +0000

    Fix bug introduced with refactoring of object mirroring API to libgeda.
    
    When reading a complex object from file, the mirror property of the
    complex is set to the desired value and later code then mirrors the
    prim_objs which make up the complex. o_complex_mirror_world() was used
    by mistake, where o_list_mirror_world() should have been used.
    
    This could be refactored so that complex creation uses higher level
    o_complex_{rotate,mirror}_world(), rather than setting the variables
    holding rotation / mirroring state, then manipulating the prim_objs.

commit ad5dcb91b8299dfbcda2e7507d4a42a6b6c0e9b0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Nov 28 17:24:27 2007 +0000

    Fix Bug #1838164. Initialise copied_to pointer in objects to NULL.
    
    Without explicitly initialising OBJECTs to have a copied_to pointer of
    NULL, copying a selection containing an attribute but not it's parent
    object could cause a segfault. The code checks to see where the parent
    object has been copied for correct attachemnt of the new attrib. If
    the parent object wasn't copied, this pointer should be NULL.

commit 193e2d4b748bc88d504abfa5b3cfba2382193d02
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Nov 28 16:27:08 2007 +0000

    libgeda: Don't use assert.h (use Glib's g_assert instead)

commit d64878d06d87592e3fa4a0a478eacff5ea105253
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Nov 28 16:27:05 2007 +0000

    libgeda: Correct func name in SCM_ASSERT call

commit ae225157603f063747709fa3d639ed8cdf63f6b1
Merge: 1abfd25... 43b5713...
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Tue Nov 27 07:53:37 2007 +0000

    Merge with Cesar's mingw/pu branch
    
    Merge commit 'cesar/mingw/pu' into premerge

commit 1abfd25bf917ee4e90ccdbbbe9921db6ff46c49f
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Nov 24 08:34:13 2007 +0000

    gschem: Fix NULL pointer risk in x_image.c [1802087]
    
    x_image_update_dialog_filename may attempt to deference a NULL
    pointer.

commit 6831e3cbfbd23964ceb42f294075053899a9bcad
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Nov 23 21:44:18 2007 +0000

    libgeda: Update some component library doc comments.

commit 8b490a404e682ac4f1e4cbd46e22c92f58b2ae76
Author: Toma olc <tomaz.solc@tablix.org>
Date:   Fri Nov 23 21:42:50 2007 +0000

    Compilation fixes for Mac OS X 10.5 [1832417]
    
    This patch contains changes to gEDA source tree that were necessary to
    compile on Mac OS X (10.5 Leopard, PPC).

commit 537fc4784a25756d7c38b4fbbcc1059b41f5664b
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Nov 23 21:42:47 2007 +0000

    libgeda: Add the ability to save into a buffer.

commit 493fef662fb68301ad786fcbf3cf5cdbcb1078d1
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Nov 23 21:42:37 2007 +0000

    libgeda: Refactor file header string generation.
    
    Replace function for writing file header out to file with one which
    just returns a string containing the header.

commit 0b0d1259692ffe36e3bbc617af78bbf8a1c8f716
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Nov 18 21:34:57 2007 +0000

    Improve object mirroring API in libgeda + gschem
    
    Implements the o_mirror_world() function which rotates any object, and
    o_{glist,list}_mirror_world() functions which mirror lists of objects.
    
    Moves o_complex_mirror_world() from gschem into libgeda, and modifies
    appropriate places in libgeda + gschem to use the new API. The old
    gschem function o_mirror_world() becomes o_mirror_world_update(), a
    convenience function calling o_glist_mirror_world() and ensuring all
    necessary drawing and connection updates are made.
    
    Removes the o_complex_mirror_lowlevel() function which is made redundant
    by the above changes.

commit 21a8790b0540c374b00cfc45ad79ab474a4655b0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Nov 18 21:34:35 2007 +0000

    Improve object rotation API in libgeda + gschem
    
    Implements the o_rotate_world() function which rotates any object, and
    o_{glist,list}_rotate_world() functions which rotate lists of objects.
    
    Moves o_complex_rotate_world() from gschem into libgeda, and modifies
    appropriate places in libgeda + gschem to use this new API. The gschem
    function o_rotate_90_world() is greatly simplified, becoming a
    convenience function calling o_glist_rotate_world() and ensuring all
    necessary drawing and connection updates are made. This function is
    renamed o_rotate_world_update().
    
    Removes the o_{complex,text}_rotate_lowlevel() functions which are made
    redundant with the above changes.

commit 8d60088eafd1a1447db10e14436e9bbc3a5a28ce
Author: Cesar Strauss <cestrauss@gmail.com>
Date:   Sun Nov 11 14:37:53 2007 -0200

    MinGW does not have symlinks.

commit 40c0582e39d6a7ed0a41e0e5deedc0bfd03bbddc
Author: Cesar Strauss <cestrauss@gmail.com>
Date:   Thu Nov 15 19:11:12 2007 -0200

    Use forward slashes as path separators on MinGW.
    
    They are also acceptable as path separators on MinGW.

commit 4698fd163892243b931fbd7795ad9443f5b2fe58
Author: Cesar Strauss <cestrauss@gmail.com>
Date:   Sun Nov 11 13:38:26 2007 -0200

    Remove uneeded MinGW-only libraries.

commit ce2255f2633c9bb14dcd3813e019a84d8acce3a3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Oct 4 21:24:15 2007 +0100

    Alter system-gafrc to process .scm files in $GEDA_DATA_DIR/gafrc.d/
    
    This change allows each symbol package (e.g. geda-symbols) to install a
    scheme config file under this dir to load its contents. This allows
    additional symbol packages to be installed globally without needing to edit
    either geda-clib.scm or system-gafrc.
    
    Also moves the installation of geda-clib.scm into this directory.

commit 23ead18086e59aab22945c37ff95f49e5747f277
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Oct 17 04:50:39 2007 +0100

    Remove the ATTRIB linked list in favour of a GList
    
    The ATTRIB.copied_to pointer is moved from the ATTRIB struct to reside in
    the source OBJECT being copied.
    
    The ATTRIB *attached_to pointer of an attribute's text OBJECT is changed
    to OBJECT *attached_to, pointing directly at the OBJECT to which that
    attribute is attached. This avoids the need to traverse the ATTRIB list
    and retrieve this pointer from the HEAD attribute node. (A HEAD node is
    not used in the GList of ATTRIBs).
    
    The ATTRIB structure now only contains one element, OBJECT *object. This
    points to the text OBJECT holding and displaying that attribute's
    "name=value".

commit 88cdb643a1304cd283a2f2ad95993f237e81248b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Oct 17 03:53:38 2007 +0100

    Remove unused code from libgeda

commit 903db04d2174415fcc6ec6c0e7321d914a25b259
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Oct 9 22:28:54 2007 +0100

    Tidy implementation of o_list_copy_all() to be more concise.

commit f914d437f4a76df5ba28e80e7dab6f55996a8b59
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Oct 9 22:05:21 2007 +0100

    Split out gschem specific TOPLEVEL variables into a new GSCHEM_TOPLEVEL
    
    GSCHEM_TOPLEVEL has a TOPLEVEL *toplevel pointer as its first elelment,
    gschem uses this to call libgeda functions. (Almost) all gschem functions
    now take the GSCHEM_TOPLEVEL as their first argument.

commit 3da83d39b58ab2cb642b93b798ec31be0a725d81
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Oct 9 20:08:26 2007 +0100

    Move o_redraw_single() from libgeda to gschem

commit fe4375d7185c0d5f7cc8186c1a214981fb6d0edd
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Oct 9 20:08:26 2007 +0100

    Move libgeda's o_selection_unselect_list() into gschem.
    
    The function calls o_redraw_single(), so should be in gschem.
    It is now named o_select_unselect_list().

commit fd28531b8e88ced997b0269fd31cdb23abf3936d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Oct 9 20:08:23 2007 +0100

    Fix a bug in o_attrib_search_name_single() were it might return NULL.
    
    If o_attrib_search_name_single() doesn't find an attribute attached to
    the passed OBJECT, it checks if the passed OBJECT is itsself an attribute.
    In this case, it would return NULL (the result from the preceeding search).
    
    The bug might not actually be triggered in normal usage, as most callers
    don't pass a variable to recieve the OBJECT pointer.

commit 185958029cb58e26d37854c7580bef1b0869a7c9
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Oct 4 19:42:01 2007 +0100

    Use GLists to store OBJECTs in the "object_buffers[]" paste buffers.
    
    Replaces o_list_copy_all_selection2() with o_glist_copy_all_to_glist().

commit 38d3c48fd5a2ea57af5d772854393b39fd3b7e78
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Oct 4 19:42:00 2007 +0100

    Make attribute / text placing use a new attrib_place_list GList.

commit d1e77cc6b87f6bd78cfc38630c292ac2c0f1f09b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Oct 4 02:44:18 2007 +0100

    Remove the redundant toplevel variables current_{show,visible}.
    
    These variables were previously used for an interactive method of attrib
    placement which has since been removed. The current_visible variable was
    also tested during non-attribute text placement, but to no effect.
    
    Whilst the file-format does technically allow invisible text, gschem's UI
    pesesnts no way to achieve it, so removing this variable does no harm. The
    ability to correctly load schematics with invisible text remains.

commit 4595948e41b2d195eb78a820fc15d0d8596067a4
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Oct 4 02:34:50 2007 +0100

    Avoid accessing (GList)->{next|priv} directly to aid debugging.
    
    Instead use g_list_{next|previous}, allowing us to catch errors where
    changing from gEDA structures which had their own next and prev pointers.
    
    To debug, edit the glist.h include file from glib, renaming the next and
    prev elements in the GList structure and macros. Recompile gEDA to see any
    bad accesses such as those where the HEAD nodes were previously skipped.

commit e84c1d4ba2ad15e18f94346389d2671eb49d0cf5
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Tue Sep 11 22:37:55 2007 -0400

    Fixed a whole bunch of gtk+ 2.4.x and misc issues building on an older box
    
    This is a fix for (Patch#) 1789290 libgeda-1.2.0 fprintf which supplied a
    similar patch which fixes the issues in libgeda/src/s_clib.c and
    libgeda/src/s_textbuffer.c.  In the future, all releases will be built with
    gtk+ 2.4.x so that these sorts of problems do not get released.

commit 201b6aecab7f3f0f86b6d89479e7c229d4e6fb30
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 9 12:51:00 2007 +0100

    Remove unused TOPLEVEL variables display_{width,height}

commit 2e3c06cbcdce8254f70162ecebd650980cf70ee9
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 9 00:18:34 2007 +0100

    Remove the globally exported variable_set_func.
    
    Only gattrib provided a non-NULL export of this symbol, and such imports
    into libgeda prevent libgeda being dynamically linked on some platforms.
    
    To better match the other tools in the suite, gattrib's i_vars_set() and
    i_window_vars_set() functions were combined into a single i_vars_set().

commit 8952ec9bd4f4985fae8aadd6c4103b933464152a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Sep 9 00:01:14 2007 +0100

    Remove unused extern variables from libgeda, gnetlist and utils.

commit f94d63a9a9f73e70b51c16b1e9f337bfa26b0de2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 23:26:47 2007 +0100

    Use o_translate_world() to tidy up o_complex_translate_world()
    
    Removed o_complex_world_translate_toplevel(), and changed all useage of
    o_complex_translate_world() for generic lists of objects to instead use
    the new o_list_translate_world(). o_glist_translate_world() is also added.

commit 03896ea02c444e5889d98953f6a7f5988253cc40
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 23:24:33 2007 +0100

    Add new function o_translate_world() which will translate any object.

commit 36dc96b81aadceb9bb6e4c3d8b59939a2dc240e0
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 23:24:27 2007 +0100

    Rename o_complex_world_translate() to o_complex_translate_world()
    
    The function name now matches the pattern for other objects types.

commit 7018461cf5f5f011f3b59a711c4817752099a534
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 15:49:02 2007 +0100

    Remove unused function o_attrib_search_special().

commit 5a1c7855c84f3d9b6a439e529b6c147f943e3b95
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 15:26:33 2007 +0100

    Remove unused function o_attrib_count_toplevel().

commit b363eb966b6ec92cfc4337cef15cf04839a7939b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 15:26:32 2007 +0100

    Remove empty functions o_attrib_{edit,select_draw,unselect_draw}().

commit d0d00ac3599befcfcf25ae498dc17f6cc241b7da
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 13:13:38 2007 +0100

    Remove auto-uref code which was #ifdef'd out. its no longer used.

commit 8b6effd2eb18816e62b3a19a532d6c308ee3fdd2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Sep 8 00:30:49 2007 +0100

    Remove unused OBJECT *object_selected from PAGE structure.

commit 08ac872c975a587cf4125c6468c79c453661ee8f
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Sep 7 23:58:51 2007 +0100

    Removed unused angle parameter to o_complex_rotate_lowlevel().

commit c66d009979f49bd7ac8ba0641a6974be9e6a82d5
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Sep 7 23:57:38 2007 +0100

    Removed unused angle parameter to o_text_rotate_world().
    
    From an old unmerged patch by Patrick Bernaud.

commit 1f336cc81195dadaffd4bbec17e8a40950b7935b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 18:47:23 2007 +0100

    Simplify test to call gdk_init() in o_read_picture()
    
    Avoids testing a GtkWidget pointer in TOPLEVEL variable setup by gschem or
    gattrib. Instead, just ensure we call gdk_init() at least once. If gschem
    or gattrib already did, its not a problem as repeated calls aren't harmful.

commit f60cb40a3c47595d1931540508e89643fdcece07
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 18:47:23 2007 +0100

    Tidy o_picture_copy(), avoiding use of some TOPLEVEL variables

commit 23953797984fda7cb62dceef38ac26da25c2dcd2
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 18:39:55 2007 +0100

    Fix loading of embedded images.
    
    Various bugs in the base64 decoding function were preventing the correct
    decoding of the embedded image. In addition, it was possible for this code
    to access invalid memory - possibly leading to a crash.
    
    Additionally removes extra \n inserted between lines of the base64 input.

commit bd101aa36356082f479e1bd4970ea93b01bbfa5d
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:38:02 2007 +0100

    Remove the un-needed TOPLEVEL variable: DONT_RECALC, and its usage.

commit 5e9f49ed25bf87783207906daaf915714f43259c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:37:56 2007 +0100

    Remove the redundant TOPLEVEL variable: DONT_RESIZE

commit 863d3c63667dc1a106b21758f957d810ee6f5583
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:37:49 2007 +0100

    Remove the redundant TOPLEVEL variable: DONT_DRAW_CONN

commit bf3a364ed474ce6f5824a5f3fe94a3c17ce8bc28
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:37:41 2007 +0100

    Remove unused variables from the TOPLEVEL structure

commit 615d03958528afabaf94eb95199aa434d5c5d667
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:34:11 2007 +0100

    Use o_attrib_print() in libgeda/src/s_basic.c avoiding code duplication.
    
    Printed output will be slightly different, but this is just debug code.

commit 7f8f105c3fb9945ee02a4cf35a3cd762b0c6804c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:19:25 2007 +0100

    Remove unused function o_attrib_reattach()

commit f8680ea938936bfd59c1c0f699c437de870a09eb
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:19:19 2007 +0100

    Remove unused functions o_attrib_copy() and o_attrib_copy_all().

commit a0d45936373d8c5e2f887f1330cbbc3b691e13cb
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:19:05 2007 +0100

    Remove unused function o_attrib_test_detach()

commit f376f300980a0a4734e00d4c776bb829f9c36b96
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:19:00 2007 +0100

    Remove unused, empty function o_attrib_detach_all()

commit e9ac00da9b2c75b3ccef3e729e43bb105d3e6e4a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 14:18:50 2007 +0100

    Remove unused function o_attrib_print_reverse()

commit 96495b7a87701b2ea8d7eb6b4da206d6c169a85c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Sep 5 13:46:57 2007 +0100

    Fix memory corruption and possible segfault copying attributes
    
    If an object (but not all its attributes) was selected and copied, dangling
    pointers were left in the un-copied attributes. A subsequent copy operation
    containing those missed attributes would attempt to reattach them to the
    copy of their parent. If this had been deleted in the mean time, memory
    corruption and a possible segfault would occur.
    
    Consolidates the duplicated code which sets the ATTRIB property "copied_to"
    into a helper function, o_attrib_list_copied_to(). This is also used to
    clean up after copy operations.

commit 5b2cb25e06604a8d31dff974f323477a78f02f46
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:48:32 2007 +0100

    Move o_picture_set_pixbuf() from libgeda to gschem

commit 07d5a095c313e031b939d45f89afcd1c0ca9bc97
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:48:09 2007 +0100

    Remove unused TOPLEVEL variable REMOVING_SEL.

commit 70d8cc898e42b95a7ac463d9e879c959690fbd5c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:47:22 2007 +0100

    Remove unused dialog pointers from TOPLEVEL

commit 2854af88bf7d4d45cec1a8cc4046e0e3da5f1339
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:46:55 2007 +0100

    Remove unneeded functions in libgeda/o_attrib.c
    
    Removes:
      o_attrib_set_show(TOPLEVEL *toplevel, int flag)
      o_attrib_set_visible(TOPLEVEL *toplevel, int flag)

commit 093e83672310917f56b66a4f2189cb8e9baae903
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:46:20 2007 +0100

    Remove un-needed redraw in o_scale() and generally tidied the function up

commit 3e56c88e89c6b03c402a97d0a225302f6d000458
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:46:09 2007 +0100

    Remove ineffective redraw in o_complex_world_translate()

commit 9044d41a2305c97522bc70cfd7945f9d843482ae
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:41:28 2007 +0100

    Removes the linking between TOPLEVELs, instead uses a GList in gschem

commit 4a24abed55b95bd50cb0351ca25c37f6758e8e89
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 16:38:53 2007 +0100

    libgeda: Rename all w_current variables to toplevel

commit 63ee20a80cd42e1af745f9a52cd1d632c1bc345a
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 12:17:25 2007 +0100

    Avoid using s_hierarchy_up() for traversal when we know where we're going.
    
    When trying to reach a specific parent we've come from before, we can use
    s_page_goto() and avoid the search through the page list.

commit adca8b7d5897b11331c6a20392d22ad1e58ee572
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Sep 3 12:15:43 2007 +0100

    Replace the linked list of PAGEs with a GedaList (typecast to GedaPageList)

commit 086908ed44c9abc6d5907888695933b59ead4684
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Sep 2 22:48:59 2007 -0400

    Last minute updates to the READMEs for all projects
    
    Cherry picked from stable-1.2 branch, since these changes apply to master
    too.
    (cherry picked from commit 88fcb8d1bcdaa1436572d6a0ebe86f4df242a8d6)

commit 6056ef48272778419d39e0233f395bfd60019ab9
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Aug 19 22:40:19 2007 -0400

    Update ChangeLogs using: ./update-changelogs.sh 1.0-20070526..master

commit 19aacfff985ee9b478c4c50dfeeb1a8af5957c3a
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Aug 18 16:41:24 2007 -0400

    Added undo-panzoom keyword to control if pan/zoom cmds are undoable
    
    The default is to still store the pan/zoom info when panning or zooming,
    but now the user has a choice.

commit 92b3b65d0cec286b0ce59fc43cc07dcb60c39fa1
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Aug 18 16:14:30 2007 -0400

    Bumped versions to 1.1.2/20070818/30:2:0 for the next development snapshot

commit 4a505b751224b1e6cca84090ee088b4d690e8aa3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 18 14:20:46 2007 -0400

    Fix memory leak where GLists weren't free'd properly after use.

commit 72c4db8aa20c22baa4243a0d27b3bb3f32f3ef64
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Tue Aug 14 07:46:06 2007 -0400

    Moved 3 rc promotion keywords from gschem into libgeda (fix for bug#1748143)
    
    All the promotion keywords were moved from gschem into libgeda to fix:
    [ 1748143 ] gschlas causes duplicate prompted attributes   The primary
    cause of this bug was that the promotion variables within TOPLEVEL were
    not being setup by gschlas and so duplicate refdes attributes were
    showing up in the schematic.  The three rc keywords that were moved are:
    
    (attribute-promotion ... )
    (promote-invisible ... )
    (keep-invisible ... )

commit 6482c39d6983f7505b49068466feaea6c06cb50f
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Fri Aug 10 21:57:30 2007 -0400

    Fixed a nasty bug that was causing gsymcheck's make check to randomly fail

commit 703151a94b0eece6b24b3b18ce2465eeae068814
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Aug 9 12:36:17 2007 +0100

    Remove old prototypes from various prototype.h where no function exists.

commit 71600215311af0a98ed371ab750b09182de139a1
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Aug 11 00:52:25 2007 +0100

    Revert inadvertent commits:
    
      dbfe00a20de3f875e519ef60629b968977fc5db8 (commit)
      f1451161914a0ed0bb43123279906d82cb7d5b49 (commit)
      2ad315fc0badd16a9614d1107b22c973908893d5 (commit)
      d8844bb48969aa45a05cbe6836fc96c198e88c19 (commit)
      ee1b64a1ae07eb99eae5d63307e9fe23f9604662 (commit)

commit dbfe00a20de3f875e519ef60629b968977fc5db8
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Aug 10 22:52:18 2007 +0100

    Avoid using s_hierarchy_up() for traversal when we know where we're going.
    
    When trying to reach a specific parent we've come from before, we can use
    s_page_goto() and avoid the search through the page list.

commit d8844bb48969aa45a05cbe6836fc96c198e88c19
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Aug 10 21:26:10 2007 +0100

    Replace the linked list of PAGEs with a GedaList (typecast to GedaPageList)

commit 0f5c72daacfa7d78666769e4063122934861da5c
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sun Aug 5 22:36:56 2007 +0100

    Alter guile 1.6 compat tests to work with older autoconf versions
    
    Don't use AC_DEFINE to define function like macros, instead use
    AC_CHECK_DECLS to set a HAVE_DECL_..., then use AH_VERBATIM to
    insert a test which defines a replacement if necessary.

commit 5c098070b87709540345afb1b3b79d9db470ed53
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Aug 2 22:09:52 2007 +0100

    Fix configure checks enabling guile 1.6.x compatability routines.

commit 512561395fb348a0fb71625edb4fe1ec96553c3f
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Aug 2 13:17:58 2007 +0100

    Fix to allow automatic loading of untitled backup files

commit aec624dc87dc204b399b0e070f8fcfce8e3edbc6
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Aug 2 13:07:23 2007 +0100

    Remove old code commented out in o_net_consolidate_segments()

commit c31bd4adb677d671af8bdf5aed71f96a4995f9b1
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Tue Jul 31 20:03:51 2007 +0100

    Changed configure.ac(.in) to allow guile-1.6
    
    Introduces compatibility #defines where guile 1.8 funcs are missing in
    guile 1.6. Also adds missing configure.ac checks for guile in packages
    gattrib, gnetlist, gsymcheck and utils.

commit a3facd9b5fc1a252ef18a7b5a3fca6b1c80cbb01
Author: Bernd Jendrisse <bernd.jendrissek@gmail.com>
Date:   Sun Jul 29 10:20:11 2007 -0400

    Added doxygen comment to o_text_add()

commit 3d86fb3270138d59f0f443efb3cd4f6efb9f3990
Author: Bernd Jendrisse <bernd.jendrissek@gmail.com>
Date:   Sun Jul 29 10:18:22 2007 -0400

    Fixed transpositions, typos, and random spelling errors.

commit af8d5893e54ef929851011911167bdb4df826431
Author: Bernd Jendrisse <bernd.jendrissek@gmail.com>
Date:   Sun Jul 29 10:01:53 2007 -0400

    Removed spurious whitespace from header file.

commit ac47f97389af58e730dce5da19897cd0d3d152e3
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Fri Jul 27 23:44:23 2007 +0100

    Fix unselect code to only update colors etc. when the object was selected.
    
    Fixes a regression introduced with the GedaList based selection code. When
    asked to remove an object from the selection, we must check its actually
    selected before calling o_selection_unselect() to re-color the object.

commit 31f65059cf1ce5be9b8a0987d4538fed075a6805
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Jul 25 02:09:15 2007 +0100

    Fixed two calls to free() where g_free() should have been used.
    
    Updated Doxygen comments to note where memory should be freed with g_free()
    rather than free(). Commented three instances where free() is correct.

commit 305c10f50464f02e32d84140db69f158da6e4c47
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Wed Jul 25 00:52:36 2007 +0100

    Free strings from scm_to_locale_string() with free(), not g_free()
    
    NB: All other code in geda uses g_strdup (SCM_STRING_CHARS (...)) to
    convert strings from guile, so is not affected.

commit f6e43346086f118dbae33e7cb650c4eef90ee3aa
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Mon Jul 23 23:38:37 2007 +0100

    Add call to g_type_init() in libgeda_init() as libgeda now uses GObject

commit cb9c4ee19ca58158308a234782fdad6fb60257da
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Jul 19 15:09:56 2007 +0100

    Change selection code to use a generic GedaList typecast to SELECTION.
    
    GedaList allows various parts of the program to keep track of changes
    to the selection via callbacks attached to the GedaList object.

commit 10e79873064a096f8af4b0b6dcb9f957be0f6859
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Thu Jul 19 15:06:57 2007 +0100

    Added new GedaList class derived from GObject
    
    This abstracts a GList with API for write access. Its main use is in list
    change notification, as it emits a "changed" g_signal when modified.
    Read only access to the underlying GList is provided by an accessor,
    currenly implemented as a macro.

commit e978b9098c7567ad3b9c834a5e4914de3bc039ec
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Jul 8 18:18:39 2007 -0400

    Updated ChangeLogs using ./update-changelogs.sh 1.0-20070526..master

commit d7e8f5abc35644e90bfabf84396023cab09f2968
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sun Jul 8 16:18:57 2007 -0400

    Updated configure.ac[.in] and Makefile versions in prep for a release.
    
    The update was done by running ./update-versions.sh 1.1.1 20070708 30:1
    at the toplevel.  libgeda's shared library version is now 30:1:0

commit 3f3505662fe4bb8c585aea0ea965296bd923956c
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sun Jul 8 21:16:17 2007 +0200

    Added *~ to .gitignore files.

commit b6f9ed0ba8af7ed6e380bb6752bc553240f1b04c
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sun Jul 8 20:57:30 2007 +0200

    Added string != NULL check in u_basic_breakup_string.
    
    The lack of this check can be the cause of a segfault (bug #1748153).
    Programs shouldn't pass NULL strings to this function.

commit 841ecec5509d214e633a984124ab33f35d55021e
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Fri Jul 6 23:35:59 2007 +0200

    Added new scheme function: get-line-width .
    
    Added new scheme function, get-line-width, which returns the line
    width used to draw a given object.

commit 22d475b9beb10be2aa27197d6ad59f728a1f034f
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Jul 5 07:55:43 2007 +0100

    libgeda: Handle multiple libraries with the same name nicely.
    
    If a component library is added which has the same name as an existing library,
    rewrites the name in the form "name<number>".

commit dd995d808b9f4440db48d2daa2473a9d9cfd88ef
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Thu Jul 5 01:36:31 2007 -0400

    Updated ChangeLogs using ./update-changelogs.sh 1.0-20070526..master

commit 0484a4d7c925af33d18f5d9bfdeca240b735a9bb
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Thu Jul 5 00:18:27 2007 -0400

    Oops, incorrectly specified libgeda's shared library version.
    
    The format for this version is X:Y:Z and for the most part the major
    number just increments every release if there aren't any changes to
    any interfaces.  For detailed information on how to change this number
    see:
    http://www.gnu.org/software/libtool/manual.html#Updating-version-info

commit 099c49e5689afda4b8a5221dde73f9fdf1972ce7
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Thu Jul 5 00:11:45 2007 -0400

    Updated all version strings to 1.1.0 and 20070705

commit 87731dda219b0986fed0d1a7789e17678dd79d8c
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Wed Jul 4 23:55:07 2007 -0400

    Removed AM_MAINTAINER_MODE from all configure.ac[.in] files.
    
    Maintainer mode is no longer needed or desired now that we are no longer
    using CVS.  Hopefully this will prevent some of the odd problems that were
    observed during the last release when the Makefile's didn't get auto
    regenerated.

commit e4e105b3309dcbc0b598318e1b24591dec39422a
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Wed Jul 4 23:52:58 2007 -0400

    Provided an alternative implementation to glib 2.12.x only function

commit dc7b8c53f4bc94626634887e46167a367a91f707
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Wed Jul 4 23:32:15 2007 -0400

    Changed gEDA/gaf's version mechanism to use new dotted X.Y.Z convention
    
    Added DOTTED_VERSION and DATE_VERSION variables to all configure.ac[.in]
    files.  Changed all version related output to be DOTTED_VERSION.DATE_VERSION.
    Updated the configure.ac[.in] files to have consistent top sections.
    Updated code and various scheme files to use the new DOTTED_VERSION
    and DATE_VERSION variables available via config.h.  Stopped using
    PREPEND_VERSION_STRING as the mechanism for doing the dotted versions
    (not intended for that use).  Updated update-versions.sh script to set the
    version in all the configure.ac[.in] files and the toplevel Makefile.
    Went through all the g_rc.c files and make the handling of rc file
    mismatch handling consistent.

commit dbf600e34e2284fe1ec59242d541334bc27d3d49
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Wed Jul 4 16:51:32 2007 -0400

    Implemented the ability to change the color of junctions (code for #1746675).
    
    The filled circles (at the junction of nets) and filled boxes (at the
    end of unconnected nets) were the same color and it was hard to tell the
    difference from a distance.  This patch addes (junction-color ...) rc
    keyword and allows the user to change the junction color.  The default
    color for the dark color scheme is yellow and the default color for the
    light color scheme is purple.

commit ca4571b1a6a49c97feb8fc6cc8cb926acc287ece
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jul 4 18:03:53 2007 +0100

    libgeda: s_clib_toplevel_get_symbol_names() is poorly named.
    
    s_clib_toplevel_get_symbol_names() returns symbols, not names of
    symbols, so rename it to s_clib_toplevel_get_symbols().

commit ab0fef1d36d05088f3891397103ebb15b3e3c2d0
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jul 4 18:03:53 2007 +0100

    libgeda: Make command-backed component sources more flexible.
    
    Allow different commands to be specified for 'list' and 'get' with
    custom command-line arguments.

commit 62e7775f82d947efb1515ef8f9f776da88de62b4
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Jun 28 18:36:42 2007 +0100

    libgeda: Add a newline to a component library log message

commit c144221daf8ef133f39e14c76447a1b556c54853
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Thu Jun 28 15:50:31 2007 +0100

    libgeda: Add fine-grained control over f_open() behaviour.
    
    Add a function f_open_flags() which takes an extra argument which is a
    set of flags controlling actions taking while opening a file. f_open()
    wraps this with a default set of flags.
    
    Coincidentally, this also leads to a trivial fix for the file open
    dialog backup-message bug.

commit 301614ec1f0e97de952f071d5f40f885ca7484ce
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jun 27 19:48:04 2007 +0100

    libgeda: Add function which retrieves a list of symbols in use.
    
    Add the s_toplevel_get_symbol_names() function, which scans a TOPLEVEL
    structure to obtain a list of all symbols used in open
    schematics.

commit c7f1e67533518517f310fd037c7e24cb248a4f23
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Wed Jun 27 19:48:04 2007 +0100

    libgeda: Make s_page_new() use g_new0() for a blank page.

commit 57b2848a7e69d19e18ac03a1264cb55d41c65d0e
Author: Ales Hvezda <ahvezda@laptop.ales.net>
Date:   Mon Jun 25 22:31:07 2007 -0400

    Changed/updated the #define mechanism for creating custom gEDA/gaf versions.
    
    Previously this mechanism was used to create custom versions of gEDA/gaf.
    With the coming of stable and development versions of gEDA/gaf, this
    mechanism was changed so that end users can tell the difference between
    a stable release vs a development release (by looking at the version string).
    The CUSTOM_VERSION #define was changed PREPEND_VERSION_STRING and is now
    prepended to any strings that output the VERSION string.

commit 0ed9cf080cfc8509cb29cbe4e976f86b2821c407
Author: Ales Hvezda <ahvezda@laptop.ales.net>
Date:   Sun Jun 24 23:48:51 2007 -0400

    Updated copyright text/header in most source files.
    
    Updated all copyright text dates that have my name (Ales) associated
    with them.  Added gEDA contributer copyright text where appropriate.
    Fixed a bunch of GNU text typos (these should have been either GPL
    or gEDA).  Removed some $Id$ tags which are no longer used/needed.
    Fixed a few file header that were just plain incorrect.

commit a4e956c6272ea982ec54327dcc5e3aa528ac8c99
Author: Ales Hvezda <ahvezda@laptop.ales.net>
Date:   Sun Jun 24 22:22:32 2007 -0400

    Added *.o (all object files) to all src .gitignore files.

commit 1c76ee9d84ea4fcdc924d992ecc3a828887eff4f
Author: Ales Hvezda <ahvezda@laptop.ales.net>
Date:   Sun Jun 24 22:17:03 2007 -0400

    Removed all trace of libgd usage and removed some old ps printing routines.
    
    All trace of libgd and HAS_LIBGD has been removed.  Some obsoleted and

commit 868d31c36736b1ceebdd9a7cea6d12d12ecf89a9
Author: Ales Hvezda <ahvezda@laptop.ales.net>
Date:   Sun Jun 24 15:46:46 2007 -0400

    Removed libgd and indent tests from configure scripts.
    
    indent is no longer use since noweb was removed a long time ago.
    libgd is no longer used since libgeda/gschem uses mage export support in gdk.

commit edff766e8b15c311505810241528026f722e30b6
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 23 18:19:11 2007 +0100

    Make sure various files are installed.
    
    Several new files were not being distributed. This patch addresses the
    problem by adding files to EXTRA_DIST in automake input files.

commit e57c37a66edc1c4d4e4d7160001749df51b96c4b
Author: Peter Clifton <pcjc2@cam.ac.uk>
Date:   Sat Jun 23 18:17:29 2007 +0100

    Move all .cvsignore files to .gitignore files

commit 065595ccd8b5e77616c29a37742357cfab0ae7f7
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 23 16:11:44 2007 +0100

    Changes to ChangeLog usage.
    
    With actual changes this time.  Old-style changelogs as of gaf 1.0
    (release of 26th June 2007) are moved to ChangeLog-1.0; new (blank)
    ChangeLogs replace them.  A script has been added to the gaf top level
    to allow maintainers to update all the ChangeLog files immediately
    prior to making out a release.

commit 1f1c7f4d9ab541454d39a4ec770f6e9bdd9bfa16
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 23 14:01:30 2007 +0100

    Re-enable s_clib_refresh().
    
    Now that OBJECT and TOPLEVEL no longer store pointers to CLibSymbol
    structures, calling s_clib_refresh() is no longer likely to cause a
    segfault.

commit 67038ed9bece3a1317757b58a982ed29af2831c6
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 23 13:50:57 2007 +0100

    Don't cache symbol pointers in persistent structures.
    
    Several persistent structures, including TOPLEVEL and OBJECT, cache
    pointers to CLibSymbols.  This is bad, because it makes removing
    component sources or rescanning them likely to cause stale pointers
    around the place.
    
    With fast hashtable-cached searches in place, this is no longer
    necessary.  This patch ensures that only symbol names are stored
    persistently.
    
    This patch also enables descending into embedded symbols using a
    component library lookup on the embedded symbol's name.

commit 1c226a4ebe5f297460cccf8568b7d7b7b2179253
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 23 13:32:45 2007 +0100

    Factor out TOPLEVEL.current_clib.

commit fe621022acfbe69688878b70d4c40883f8f2a3df
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Jun 22 08:34:33 2007 +0100

    Add s_clib_get_symbol_by_name().
    
    Add a new function which returns the first exact match for a given
    symbol name, printing log messages if either there are more than one
    match or no matches are found at all.  Also update
    s_clib_symbol_get_data_by_name() to use new function and remove
    o_complex_add_by_name() as more or less redundant.

commit 01fd87d78aa26d3c29b4141878b5f48edab264ec
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Jun 15 09:05:53 2007 +0100

    Make comp. library search faster and more flexible
    
    Replace s_clib_glob() with s_clib_search(), which can operate in
    either exact matching or glob matching mode.  Use a hashtable to cache
    the results of library searches. The hashtable is cleared every time
    it is invalidated (for instance if a component source is added or
    removed, or the component sources are rescanned).

commit 9dde0233ebed32065511b567445f9f34d4b3bea1
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Jun 15 09:06:56 2007 +0100

    Refactor system RC files
    
    Moved system-gafrc into the libgeda package, where it belongs.
    Removed all environment and configure substitutions.  Created separate
    font and component library setup scripts in the symbols package,
    automatically loaded by system-gafrc if they exist.  Updated
    system-gschemrc to use new infrastructure.

commit 041fa3eedf71df34cdd04bad4c2cd5b08cff7232
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Jun 15 09:06:55 2007 +0100

    Add infrastructure for installing Scheme files with libgeda.

commit 10f0c8203b1fa9c87d09f1aeb4da28a0e5599ea8
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Fri Jun 15 09:06:55 2007 +0100

    Make libgeda define Guile variables for the gEDA data paths.
    
    Add three variables from libgeda to the Guile environment:
    geda-rc-path, geda-data-path, and path-sep.

commit 2a2fa60eee536f48cc27c16f2577106e78250ed6
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 9 20:30:14 2007 +0000

    Fix gschem's sort-component-library option
    
    In the last release, the sort-component-library gschemrc option did
    nothing.  This patch corrects the issue, by adding an argument to
    s_clib_get_sources which enables or disables sorting the list of
    component sources.

commit eed0be648afd9bc421a8d0059de621df778c5fbe
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sat Jun 9 16:09:36 2007 +0000

    Avoid writting '\r' to files on MinGW.
    
    Applied patch #1733826 from Cesar Strauss. Thanks.
    When using the "w" mode in fopen, MinGW translates LF into CR-LF.
    This creates havoc when reading the same file again, when sharing
    schematics files with other systems, and when placing them in a VCS.
    
    This can be avoided by using the "wb" mode. The "b" is ignored on
    all POSIX conforming systems, according to these sources:
    
    http://www.die.net/doc/linux/man/man3/fopen.3.html
    http://www.opengroup.org/onlinepubs/009695399/functions/fopen.html
    
    There are other ways, however. Adding
    
    #include <fcntl.h>
    int _fmode = _O_BINARY;
    
    on some source file should work as well. Another way is linking
    against the MinGW supplied binmode.o, which does exactly that.

commit f1ba0fe139afec11f50fee01e92e5a727456bcce
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sat Jun 9 15:38:36 2007 +0000

    Fix for lack of permission-related file attributes on MinGW.
    
    Applied patch #1733728, with some tweaks, from Cesar Strauss. Thanks.
    Define some file permissions as 0 if they are not defined.
    Don't use chown if it is not available.

commit 419b4d152b0b2ae6546052ccb8d87ef26fa83752
Author: Carlos Nieves Onega <cnieves@iespana.es>
Date:   Sat Jun 9 14:59:01 2007 +0000

    Added EPS support.
    
    Applied patch #1713747 (with minor tweaks) from Wojciech Kazubski
    adding support for EPS when writing an image. Thanks.

commit ef0ca7042e49ed3f26ec61c71085378ab04fef6e
Author: Ales Hvezda <ahvezda@seul.org>
Date:   Sat Jun 9 14:44:27 2007 +0000

    Applied patch from Ivan Stankovic that displays entered characters in
    the status bar

commit 3d58ffc27e6d915c4b1ebbd6f6b96d98d6126b7b
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon Jun 4 16:15:37 2007 +0000

    Replace deprecated Guile functions & macros.
    
    Replace deprecated SCM_STRINGP, SCM_INUM, SXM_INUMP & SCM_MAKINUM with
    recommended equivalents for Guile 1.8.

commit 66fb25858496cdf33e1456b835d68a16bb7ccdcd
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Sat Jun 2 16:33:34 2007 +0000

    Improve Guile configure checks & remove 1.4 compat. code.
    
    Removes compatibility code for Guile 1.4, and makes configure scripts
    check for actual Guile version.

commit cd3149619aac30cb158a13733c76fad9c98faaee
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 21:24:19 2007 +0000

    Require Guile 1.8.x
    
    Guile 1.8.x is the current stable series, and 1.6.x is getting old.
    Require 1.8.x for libgeda.

commit b3cacc6ddb4135c63057b1856a0693fd7f1043ba
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 08:13:50 2007 +0000

    Component library documentation updates.
    
    Various changes to update & improve component library documentation.

commit ac91166a7d5fe429d28e96cc7bc3adec724faa7e
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:59:41 2007 +0000

    Match .sym suffix case-insensively when building component library.
    
    When building symbol lists for directory-based component sources,
    match the ".sym" filename suffix case-insensitively.  Note that for
    backward- compatibility (and sanity on systems with case-sensitive
    filenames) searching for symbols does match symbols
    case-sensitively ("plug.SYM" will not satisfy a search for
    "plug.sym").

commit 361853bdb0e60db2ea121ec2dd49341ce0b4a2e7
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:56:47 2007 +0000

    Add component sources based on Scheme procedures.
    
    Add the ability to use a set of Scheme procedures which list and
    return component symbols as the backend of a component library.  Adds
    the g_rc_component_library_funcs() and s_clib_add_scm() functions to
    libgeda, as well as the component-library-funcs rc file function.

commit 51141f6de037902bef8870f473ae4ce3836b758e
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:53:25 2007 +0000

    Change way that component source conflicts are checked.
    
    Allow the same component source to be added more than once, but only
    if it has a unique name.  Also adds s_clib_get_source_by_name().

commit ef835e4c2be6f907c0f743a989be6a33f740071e
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:50:39 2007 +0000

    Sort lists of component sources and symbols.
    
    Adds functions to compare sources and symbols by name
    case-insensitively, and makes the both s_clib_source_get_symbols() and
    s_clib_get_sources() return lists sorted by name.

commit a0038f45b535b7a4e48d491e0a44bf222c790208
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:48:31 2007 +0000

    Add & update Scheme callbacks for new component library.
    
    Add the (component-library-command) function, and make
    (component-library) take an optional second argument for the
    directory's source name.

commit 2a1ac73a53cdde48883d77ff6d90b51e5a19c561
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:46:11 2007 +0000

    Provide better names for component sources.
    
    Full pathnames aren't very user-friendly in the component
    browser, and sometimes the name you want for your
    component source isn't the same as the directory name. This
    patch provides an infrastructure for better source naming,
    while falling back to the "classic" behaviour if necessary.

commit 32254c4c57c9f7450d31b61a98368e56769d33ab
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:37:49 2007 +0000

    Implement new component library system in libgeda.
    
    A new component library model is needed to allow gschem etc.
    to work well with part database systems.  This patch
    provides the necessary infrastructure in libgeda, without
    the frontend Guile commands required to make use of the new
    features.  In particular, it abstracts the component
    library into the concepts of "Component Sources" and
    "Symbols", and allows external "Library Commands" to
    provide symbol data in addition to the traditional directory
    libraries.
    
    In order to allow the new system to work, there are major
    changes in all code which manipulates COMPLEX objects; in
    particular, the magic "EMBEDDED" string is now only used
    in the on-disc representation.

commit 40833189228f8edeffce6eeb1bbdcdb1c0c64b2c
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:31:36 2007 +0000

    Add new file omitted in previous commit.

commit 022421c35c53cbfe4ea936cc1d31b192cfd34ab7
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:30:31 2007 +0000

    Make libgeda parse schematics from buffered data.
    
    In order to support more complex methods of acquiring symbol
    data, libgeda needs to be able to load schematics and symbols
    directly from a memory buffer as well as from files.

commit 2f30fb34dbbeb61650d69737913e80daa75dc172
Author: Peter TB Brett <peter@peter-b.co.uk>
Date:   Mon May 28 07:27:23 2007 +0000

    Add managed text buffers to libgeda.
    
    In order to facilitate loading symbols & schematics from
    memory without an extensive rewrite, this patch adds an API
    for reading memory arrays a bit like a file.
    
    Using memory streams & fgets would be nicer, but unfortunately
    memory streams are a GNU libc extension.


#GCL#
